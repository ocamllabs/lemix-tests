# processing file 'adhoc_umask-int.trace' ...
        @type trace
        ###########################################
        # Testing umask
        ###########################################

        # for testing umask 
        # files and dirs are created with different
        # permission given as arguments.

        # in directory d_xxx 
        # a f_yyy.txt or 
        # a directory dir_yyy
        # are created with umask 0oxxx and
        # permission argument 0oyyy
        # after creating stat is used to get
        # the actual permission of the newly
        # created file or directory


        ###########################################
        # Initialisation
        ###########################################

    24: umask 0o000
        Tau
        RV_file_perm(0o022)
    25: mkdir "/d_022" 0o777
        Tau
        RV_none
    26: mkdir "/d_000" 0o777
        Tau
        RV_none
    27: mkdir "/d_444" 0o777
        Tau
        RV_none


        ###########################################
        # umask 0o022
        ###########################################

    34: umask 0o022
        Tau
        RV_file_perm(0o000)
    35: chdir "/d_022"
        Tau
        RV_none

    37: open "f_777.txt" [O_CREAT;O_RDWR] 0o777
        Tau
        RV_num(3)
    38: close (FD 3)
        Tau
        RV_none
    39: stat "f_777.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66065; st_kind=S_IFREG; st_perm=0o755; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    41: open "f_444.txt" [O_CREAT;O_RDWR] 0o444
        Tau
        RV_num(3)
    42: close (FD 3)
        Tau
        RV_none
    43: stat "f_444.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66066; st_kind=S_IFREG; st_perm=0o444; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    45: open "f_322.txt" [O_CREAT;O_RDWR] 0o322
        Tau
        RV_num(3)
    46: close (FD 3)
        Tau
        RV_none
    47: stat "f_322.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66067; st_kind=S_IFREG; st_perm=0o300; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    49: mkdir "dir_777" 0o777
        Tau
        RV_none
    50: stat "dir_777"
        Tau
        RV_stat { st_dev=1792; st_ino=66068; st_kind=S_IFDIR; st_perm=0o755; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    52: mkdir "dir_444" 0o444
        Tau
        RV_none
    53: stat "dir_444"
        Tau
        RV_stat { st_dev=1792; st_ino=66069; st_kind=S_IFDIR; st_perm=0o444; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    55: mkdir "dir_322" 0o322
        Tau
        RV_none
    56: stat "dir_322"
        Tau
        RV_stat { st_dev=1792; st_ino=66070; st_kind=S_IFDIR; st_perm=0o300; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }



        ###########################################
        # umask 0o000
        ###########################################

    64: umask 0o000
        Tau
        RV_file_perm(0o022)
    65: chdir "/d_000"
        Tau
        RV_none

    67: open "f_777.txt" [O_CREAT;O_RDWR] 0o777
        Tau
        RV_num(3)
    68: close (FD 3)
        Tau
        RV_none
    69: stat "f_777.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66071; st_kind=S_IFREG; st_perm=0o777; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    71: open "f_444.txt" [O_CREAT;O_RDWR] 0o444
        Tau
        RV_num(3)
    72: close (FD 3)
        Tau
        RV_none
    73: stat "f_444.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66072; st_kind=S_IFREG; st_perm=0o444; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=860001564;}; st_mtim={tv_sec=1418235773;tv_nsec=860001564;}; st_ctim={tv_sec=1418235773;tv_nsec=860001564;}; }

    75: open "f_322.txt" [O_CREAT;O_RDWR] 0o322
        Tau
        RV_num(3)
    76: close (FD 3)
        Tau
        RV_none
    77: stat "f_322.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66073; st_kind=S_IFREG; st_perm=0o322; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

    79: mkdir "dir_777" 0o777
        Tau
        RV_none
    80: stat "dir_777"
        Tau
        RV_stat { st_dev=1792; st_ino=66074; st_kind=S_IFDIR; st_perm=0o777; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

    82: mkdir "dir_444" 0o444
        Tau
        RV_none
    83: stat "dir_444"
        Tau
        RV_stat { st_dev=1792; st_ino=66075; st_kind=S_IFDIR; st_perm=0o444; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

    85: mkdir "dir_322" 0o322
        Tau
        RV_none
    86: stat "dir_322"
        Tau
        RV_stat { st_dev=1792; st_ino=66076; st_kind=S_IFDIR; st_perm=0o322; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }




        ###########################################
        # umask 0o444
        ###########################################

    95: umask 0o444
        Tau
        RV_file_perm(0o000)
    96: chdir "/d_444"
        Tau
        RV_none

    98: open "f_777.txt" [O_CREAT;O_RDWR] 0o777
        Tau
        RV_num(3)
    99: close (FD 3)
        Tau
        RV_none
   100: stat "f_777.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66077; st_kind=S_IFREG; st_perm=0o333; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

   102: open "f_444.txt" [O_CREAT;O_RDWR] 0o444
        Tau
        RV_num(3)
   103: close (FD 3)
        Tau
        RV_none
   104: stat "f_444.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66078; st_kind=S_IFREG; st_perm=0o000; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

   106: open "f_322.txt" [O_CREAT;O_RDWR] 0o322
        Tau
        RV_num(3)
   107: close (FD 3)
        Tau
        RV_none
   108: stat "f_322.txt"
        Tau
        RV_stat { st_dev=1792; st_ino=66079; st_kind=S_IFREG; st_perm=0o322; st_nlink=1; st_uid=0; st_gid=0; st_rdev=0; st_size=0; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

   110: mkdir "dir_777" 0o777
        Tau
        RV_none
   111: stat "dir_777"
        Tau
        RV_stat { st_dev=1792; st_ino=66080; st_kind=S_IFDIR; st_perm=0o333; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

   113: mkdir "dir_444" 0o444
        Tau
        RV_none
   114: stat "dir_444"
        Tau
        RV_stat { st_dev=1792; st_ino=66081; st_kind=S_IFDIR; st_perm=0o000; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }

   116: mkdir "dir_322" 0o322
        Tau
        RV_none
   117: stat "dir_322"
        Tau
        RV_stat { st_dev=1792; st_ino=66082; st_kind=S_IFDIR; st_perm=0o322; st_nlink=2; st_uid=0; st_gid=0; st_rdev=0; st_size=4096; st_atim={tv_sec=1418235773;tv_nsec=863335132;}; st_mtim={tv_sec=1418235773;tv_nsec=863335132;}; st_ctim={tv_sec=1418235773;tv_nsec=863335132;}; }


