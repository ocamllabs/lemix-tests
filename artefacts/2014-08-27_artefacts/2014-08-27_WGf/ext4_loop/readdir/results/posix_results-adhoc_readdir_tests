        ## adhoc_readdir_tests
        ##

        #####################################
        ## Test 1 
        ## reading empty dir
        #####################################

     9: mkdir /d1 0o777
        Tau
        RV_none

    11: opendir /d1
        Tau
        RV_num(1)
    12: readdir (DH 1)
        Tau
        RV_bytes(".")
    13: readdir (DH 1)
        Tau
        RV_bytes("..")
    14: readdir (DH 1)
        Tau
        RV_none
    15: readdir (DH 1)
        Tau
        RV_none
    16: closedir (DH 1)
        Tau
        RV_none


        #####################################
        ## Test 2 
        ## reading non-empty dir without
        ## interference
        #####################################

    25: mkdir /d2 0o777
        Tau
        RV_none
    26: chdir /d2
        Tau
        RV_none

    28: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    29: open_close f2.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    30: open_close f3.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    31: open_close f4.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    32: open_close f5.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    34: opendir /d2
        Tau
        RV_num(1)
    35: readdir (DH 1)
        Tau
        RV_bytes(".")
    36: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
    37: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
    38: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
    39: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
    40: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
    41: readdir (DH 1)
        Tau
        RV_bytes("..")
    42: readdir (DH 1)
        Tau
        RV_none
    43: readdir (DH 1)
        Tau
        RV_none
    44: closedir (DH 1)
        Tau
        RV_none


        #####################################
        ## Test 3
        ## reading non-empty dir with rewind
        #####################################

    52: mkdir /d3 0o777
        Tau
        RV_none
    53: chdir /d3
        Tau
        RV_none

    55: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    56: open_close f2.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    57: open_close f3.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    58: open_close f4.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
    59: open_close f5.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    61: opendir /d3
        Tau
        RV_num(1)
    62: readdir (DH 1)
        Tau
        RV_bytes(".")
    63: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
    64: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
    65: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
    66: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
    67: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
    68: readdir (DH 1)
        Tau
        RV_bytes("..")
    69: readdir (DH 1)
        Tau
        RV_none
    70: readdir (DH 1)
        Tau
        RV_none
    71: rewinddir (DH 1)
        Tau
        RV_none
    72: readdir (DH 1)
        Tau
        RV_bytes(".")
    73: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
    74: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
    75: rewinddir (DH 1)
        Tau
        RV_none
    76: readdir (DH 1)
        Tau
        RV_bytes(".")
    77: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
    78: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
    79: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
    80: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
    81: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
    82: readdir (DH 1)
        Tau
        RV_bytes("..")
    83: readdir (DH 1)
        Tau
        RV_none
    84: readdir (DH 1)
        Tau
        RV_none
    85: readdir (DH 1)
        Tau
        RV_none
    86: readdir (DH 1)
        Tau
        RV_none
    87: readdir (DH 1)
        Tau
        RV_none
    88: closedir (DH 1)
        Tau
        RV_none


        #####################################
        ## Test 4
        ## reading a dir with two DHs
        #####################################

    96: mkdir /d4 0o777
        Tau
        RV_none
    97: chdir /d4
        Tau
        RV_none

    99: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   100: open_close f2.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   101: open_close f3.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   102: open_close f4.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   103: open_close f5.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   105: opendir /d4
        Tau
        RV_num(1)
   106: opendir /d4
        Tau
        RV_num(2)
   107: readdir (DH 1)
        Tau
        RV_bytes(".")
   108: readdir (DH 2)
        Tau
        RV_bytes(".")
   109: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
   110: readdir (DH 2)
        Tau
        RV_bytes("f3.txt")
   111: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
   112: readdir (DH 2)
        Tau
        RV_bytes("f2.txt")
   113: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
   114: readdir (DH 2)
        Tau
        RV_bytes("f4.txt")
   115: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
   116: readdir (DH 2)
        Tau
        RV_bytes("f5.txt")
   117: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
   118: readdir (DH 1)
        Tau
        RV_bytes("..")
   119: readdir (DH 1)
        Tau
        RV_none
   120: readdir (DH 2)
        Tau
        RV_bytes("f1.txt")
   121: readdir (DH 2)
        Tau
        RV_bytes("..")
   122: readdir (DH 2)
        Tau
        RV_none
   123: rewinddir (DH 1)
        Tau
        RV_none
   124: readdir (DH 1)
        Tau
        RV_bytes(".")
   125: readdir (DH 2)
        Tau
        RV_none
   126: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
   127: readdir (DH 2)
        Tau
        RV_none
   128: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
   129: readdir (DH 2)
        Tau
        RV_none
   130: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
   131: readdir (DH 2)
        Tau
        RV_none
   132: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
   133: readdir (DH 2)
        Tau
        RV_none
   134: closedir (DH 2)
        Tau
        RV_none
   135: closedir (DH 1)
        Tau
        RV_none


        #####################################
        ## Test 5
        ## reading non-empty dir while
        ## changing its content
        #####################################

   144: mkdir /d5 0o777
        Tau
        RV_none
   145: chdir /d5
        Tau
        RV_none

   147: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   148: open_close f2.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   149: open_close f3.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   150: open_close f4.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   151: open_close f5.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   153: opendir /d5
        Tau
        RV_num(1)
   154: readdir (DH 1)
        Tau
        RV_bytes(".")
   155: unlink f1.txt
        Tau
        RV_none
   156: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
   157: open_close f6.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   158: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   159: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
   160: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
   161: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
   162: unlink f6.txt
        Tau
        RV_none
   163: rename f2.txt f2-changed.txt
        Tau
        RV_none
   164: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
   165: readdir (DH 1)
        Tau
        RV_bytes("..")
   166: readdir (DH 1)
        Tau
        RV_none
   167: readdir (DH 1)
        Tau
        RV_none
   168: rewinddir (DH 1)
        Tau
        RV_none
   169: readdir (DH 1)
        Tau
        RV_bytes(".")
   170: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
   171: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
   172: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
   173: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
   174: readdir (DH 1)
        Tau
        RV_bytes("f2-changed.txt")
   175: readdir (DH 1)
        Tau
        RV_bytes("..")
   176: readdir (DH 1)
        Tau
        RV_none
   177: readdir (DH 1)
        Tau
        RV_none
   178: readdir (DH 1)
        Tau
        RV_none
   179: readdir (DH 1)
        Tau
        RV_none
   180: readdir (DH 1)
        Tau
        RV_none
   181: readdir (DH 1)
        Tau
        RV_none
   182: closedir (DH 1)
        Tau
        RV_none


        #####################################
        ## Test 6
        ## reading a dir with with to DHs
        #####################################

   190: mkdir /d6 0o777
        Tau
        RV_none
   191: chdir /d6
        Tau
        RV_none

   193: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   194: open_close f2.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   195: open_close f3.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   196: open_close f4.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   197: open_close f5.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   199: opendir /d6
        Tau
        RV_num(1)
   200: opendir /d6
        Tau
        RV_num(2)
   201: readdir (DH 1)
        Tau
        RV_bytes(".")
   202: readdir (DH 2)
        Tau
        RV_bytes(".")
   203: unlink f1.txt
        Tau
        RV_none
   204: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
   205: readdir (DH 2)
        Tau
        RV_bytes("f3.txt")
   206: readdir (DH 1)
        Tau
        RV_bytes("f2.txt")
   207: readdir (DH 2)
        Tau
        RV_bytes("f2.txt")
   208: open_close f6.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   209: open_close f1.txt [O_CREAT;O_RDWR] 0o666
        Tau
        RV_none
   210: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
   211: readdir (DH 2)
        Tau
        RV_bytes("f4.txt")
   212: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
   213: readdir (DH 2)
        Tau
        RV_bytes("f5.txt")
   214: unlink f6.txt
        Tau
        RV_none
   215: rename f2.txt f2-changed.txt
        Tau
        RV_none
   216: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
   217: readdir (DH 1)
        Tau
        RV_bytes("..")
   218: readdir (DH 1)
        Tau
        RV_none
   219: readdir (DH 2)
        Tau
        RV_bytes("f1.txt")
   220: readdir (DH 2)
        Tau
        RV_bytes("..")
   221: readdir (DH 2)
        Tau
        RV_none
   222: rewinddir (DH 1)
        Tau
        RV_none
   223: readdir (DH 1)
        Tau
        RV_bytes(".")
   224: readdir (DH 2)
        Tau
        RV_none
   225: readdir (DH 1)
        Tau
        RV_bytes("f3.txt")
   226: readdir (DH 2)
        Tau
        RV_none
   227: readdir (DH 1)
        Tau
        RV_bytes("f4.txt")
   228: readdir (DH 2)
        Tau
        RV_none
   229: readdir (DH 1)
        Tau
        RV_bytes("f5.txt")
   230: readdir (DH 2)
        Tau
        RV_none
   231: readdir (DH 1)
        Tau
        RV_bytes("f1.txt")
   232: readdir (DH 2)
        Tau
        RV_none
   233: closedir (DH 2)
        Tau
        RV_none
   234: closedir (DH 1)
        Tau
        RV_none

