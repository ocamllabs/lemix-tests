#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
RV_none

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir1 0
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|280
   /test_dir_0001/empty_dir1|D|285
   /test_dir_0001/empty_dir2|D|291
   /test_dir_0001/nonempty_dir1|D|296
   /test_dir_0001/nonempty_dir2|D|313
   /test_dir_0001/nonempty_dir1/d2|D|303
   /test_dir_0001/nonempty_dir1/f1.txt|F|300|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|310
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|326
   /test_dir_0001/nonempty_dir2/f1.txt|F|317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|321|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|329
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
RV_none

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir1/ 0
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|407
   /test_dir_0002/empty_dir1|D|411
   /test_dir_0002/empty_dir2|D|418
   /test_dir_0002/nonempty_dir1|D|422
   /test_dir_0002/nonempty_dir2|D|438
   /test_dir_0002/nonempty_dir1/d2|D|427
   /test_dir_0002/nonempty_dir1/f1.txt|F|424|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|435
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|430|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|450
   /test_dir_0002/nonempty_dir2/f1.txt|F|442|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|444|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|453
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
RV_none

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir2 0
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|533
   /test_dir_0003/empty_dir1|D|537
   /test_dir_0003/empty_dir2|D|543
   /test_dir_0003/nonempty_dir1|D|547
   /test_dir_0003/nonempty_dir2|D|563
   /test_dir_0003/nonempty_dir1/d2|D|553
   /test_dir_0003/nonempty_dir1/f1.txt|F|550|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|560
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|556|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|574
   /test_dir_0003/nonempty_dir2/f1.txt|F|566|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|570|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|580
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
RV_none

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir2/ 0
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|663
   /test_dir_0004/empty_dir1|D|667
   /test_dir_0004/empty_dir2|D|672
   /test_dir_0004/nonempty_dir1|D|675
   /test_dir_0004/nonempty_dir2|D|690
   /test_dir_0004/nonempty_dir1/d2|D|680
   /test_dir_0004/nonempty_dir1/f1.txt|F|677|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|686
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|683|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|704
   /test_dir_0004/nonempty_dir2/f1.txt|F|694|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|697|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|710
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
RV_none

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1 0
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|791
   /test_dir_0005/empty_dir1|D|795
   /test_dir_0005/empty_dir2|D|798
   /test_dir_0005/nonempty_dir1|D|801
   /test_dir_0005/nonempty_dir2|D|818
   /test_dir_0005/nonempty_dir1/d2|D|807
   /test_dir_0005/nonempty_dir1/f1.txt|F|804|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|813
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|810|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|835
   /test_dir_0005/nonempty_dir2/f1.txt|F|822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|839
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
RV_none

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/ 0
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|919
   /test_dir_0006/empty_dir1|D|922
   /test_dir_0006/empty_dir2|D|925
   /test_dir_0006/nonempty_dir1|D|928
   /test_dir_0006/nonempty_dir2|D|945
   /test_dir_0006/nonempty_dir1/d2|D|934
   /test_dir_0006/nonempty_dir1/f1.txt|F|931|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|940
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|936|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|960
   /test_dir_0006/nonempty_dir2/f1.txt|F|948|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|951|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|966
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
RV_none

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2 0
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1043
   /test_dir_0007/empty_dir1|D|1046
   /test_dir_0007/empty_dir2|D|1049
   /test_dir_0007/nonempty_dir1|D|1052
   /test_dir_0007/nonempty_dir2|D|1067
   /test_dir_0007/nonempty_dir1/d2|D|1058
   /test_dir_0007/nonempty_dir1/f1.txt|F|1055|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1063
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1061|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1080
   /test_dir_0007/nonempty_dir2/f1.txt|F|1070|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1074|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1085
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
RV_none

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/ 0
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1170
   /test_dir_0008/empty_dir1|D|1174
   /test_dir_0008/empty_dir2|D|1176
   /test_dir_0008/nonempty_dir1|D|1179
   /test_dir_0008/nonempty_dir2|D|1195
   /test_dir_0008/nonempty_dir1/d2|D|1185
   /test_dir_0008/nonempty_dir1/f1.txt|F|1182|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1191
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1188|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1210
   /test_dir_0008/nonempty_dir2/f1.txt|F|1198|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1203|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1216
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
RV_none

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/broken_sl/nonexist_6 0
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1297
   /test_dir_0009/empty_dir1|D|1300
   /test_dir_0009/empty_dir2|D|1303
   /test_dir_0009/nonempty_dir1|D|1307
   /test_dir_0009/nonempty_dir2|D|1322
   /test_dir_0009/nonempty_dir1/d2|D|1311
   /test_dir_0009/nonempty_dir1/f1.txt|F|1309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1318
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1335
   /test_dir_0009/nonempty_dir2/f1.txt|F|1325|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1330|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1341
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
RV_none

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 0
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1424
   /test_dir_0010/empty_dir1|D|1426
   /test_dir_0010/empty_dir2|D|1429
   /test_dir_0010/nonempty_dir1|D|1433
   /test_dir_0010/nonempty_dir2|D|1448
   /test_dir_0010/nonempty_dir1/d2|D|1437
   /test_dir_0010/nonempty_dir1/f1.txt|F|1434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1443
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1440|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1463
   /test_dir_0010/nonempty_dir2/f1.txt|F|1452|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1457|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1469
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
RV_none

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/d3 0
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1549
   /test_dir_0011/empty_dir1|D|1552
   /test_dir_0011/empty_dir2|D|1555
   /test_dir_0011/nonempty_dir1|D|1558
   /test_dir_0011/nonempty_dir2|D|1575
   /test_dir_0011/nonempty_dir1/d2|D|1564
   /test_dir_0011/nonempty_dir1/f1.txt|F|1561|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1570
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1565|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1592
   /test_dir_0011/nonempty_dir2/f1.txt|F|1580|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1585|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1599
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
RV_none

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/d3/ 0
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1678
   /test_dir_0012/empty_dir1|D|1679
   /test_dir_0012/empty_dir2|D|1681
   /test_dir_0012/nonempty_dir1|D|1684
   /test_dir_0012/nonempty_dir2|D|1701
   /test_dir_0012/nonempty_dir1/d2|D|1690
   /test_dir_0012/nonempty_dir1/f1.txt|F|1687|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1696
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1693|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1719
   /test_dir_0012/nonempty_dir2/f1.txt|F|1706|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1711|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1725
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
RV_none

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/f3.txt 0
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1802
   /test_dir_0013/empty_dir1|D|1805
   /test_dir_0013/empty_dir2|D|1807
   /test_dir_0013/nonempty_dir1|D|1810
   /test_dir_0013/nonempty_dir2|D|1828
   /test_dir_0013/nonempty_dir1/d2|D|1815
   /test_dir_0013/nonempty_dir1/f1.txt|F|1812|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1822
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1818|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1846
   /test_dir_0013/nonempty_dir2/f1.txt|F|1832|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1838|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1852
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
RV_none

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/f3.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|1930
   /test_dir_0014/empty_dir1|D|1932
   /test_dir_0014/empty_dir2|D|1934
   /test_dir_0014/nonempty_dir1|D|1937
   /test_dir_0014/nonempty_dir2|D|1956
   /test_dir_0014/nonempty_dir1/d2|D|1943
   /test_dir_0014/nonempty_dir1/f1.txt|F|1940|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1951
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1946|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1974
   /test_dir_0014/nonempty_dir2/f1.txt|F|1961|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1966|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1980
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
RV_none

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_d2 0
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2056
   /test_dir_0015/empty_dir1|D|2058
   /test_dir_0015/empty_dir2|D|2060
   /test_dir_0015/nonempty_dir1|D|2063
   /test_dir_0015/nonempty_dir2|D|2083
   /test_dir_0015/nonempty_dir1/d2|D|2069
   /test_dir_0015/nonempty_dir1/f1.txt|F|2066|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2077
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2072|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2101
   /test_dir_0015/nonempty_dir2/f1.txt|F|2086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2106
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
RV_none

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_d2/ 0
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2182
   /test_dir_0016/empty_dir1|D|2184
   /test_dir_0016/empty_dir2|D|2186
   /test_dir_0016/nonempty_dir1|D|2189
   /test_dir_0016/nonempty_dir2|D|2208
   /test_dir_0016/nonempty_dir1/d2|D|2195
   /test_dir_0016/nonempty_dir1/f1.txt|F|2192|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2202
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2198|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2226
   /test_dir_0016/nonempty_dir2/f1.txt|F|2212|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2217|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2233
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
RV_none

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 0
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2309
   /test_dir_0017/empty_dir1|D|2310
   /test_dir_0017/empty_dir2|D|2313
   /test_dir_0017/nonempty_dir1|D|2316
   /test_dir_0017/nonempty_dir2|D|2334
   /test_dir_0017/nonempty_dir1/d2|D|2322
   /test_dir_0017/nonempty_dir1/f1.txt|F|2319|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2329
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2325|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2353
   /test_dir_0017/nonempty_dir2/f1.txt|F|2340|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2346|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2360
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
RV_none

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 0
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2436
   /test_dir_0018/empty_dir1|D|2439
   /test_dir_0018/empty_dir2|D|2441
   /test_dir_0018/nonempty_dir1|D|2445
   /test_dir_0018/nonempty_dir2|D|2464
   /test_dir_0018/nonempty_dir1/d2|D|2450
   /test_dir_0018/nonempty_dir1/f1.txt|F|2447|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2458
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2453|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2485
   /test_dir_0018/nonempty_dir2/f1.txt|F|2470|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2476|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2491
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
RV_none

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_no_such_target 0
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2562
   /test_dir_0019/empty_dir1|D|2565
   /test_dir_0019/empty_dir2|D|2568
   /test_dir_0019/nonempty_dir1|D|2571
   /test_dir_0019/nonempty_dir2|D|2592
   /test_dir_0019/nonempty_dir1/d2|D|2577
   /test_dir_0019/nonempty_dir1/f1.txt|F|2574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2584
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2580|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2610
   /test_dir_0019/nonempty_dir2/f1.txt|F|2596|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2616
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
RV_none

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_no_such_target/ 0
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2690
   /test_dir_0020/empty_dir1|D|2692
   /test_dir_0020/empty_dir2|D|2695
   /test_dir_0020/nonempty_dir1|D|2699
   /test_dir_0020/nonempty_dir2|D|2720
   /test_dir_0020/nonempty_dir1/d2|D|2705
   /test_dir_0020/nonempty_dir1/f1.txt|F|2702|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2713
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2707|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2739
   /test_dir_0020/nonempty_dir2/f1.txt|F|2724|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2729|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2743
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
RV_none

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt 0
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2816
   /test_dir_0021/empty_dir1|D|2819
   /test_dir_0021/empty_dir2|D|2822
   /test_dir_0021/nonempty_dir1|D|2825
   /test_dir_0021/nonempty_dir2|D|2846
   /test_dir_0021/nonempty_dir1/d2|D|2831
   /test_dir_0021/nonempty_dir1/f1.txt|F|2828|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2841
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2836|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2867
   /test_dir_0021/nonempty_dir2/f1.txt|F|2852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2858|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2871
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
RV_none

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2943
   /test_dir_0022/empty_dir1|D|2945
   /test_dir_0022/empty_dir2|D|2949
   /test_dir_0022/nonempty_dir1|D|2952
   /test_dir_0022/nonempty_dir2|D|2976
   /test_dir_0022/nonempty_dir1/d2|D|2958
   /test_dir_0022/nonempty_dir1/f1.txt|F|2955|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2969
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2963|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2994
   /test_dir_0022/nonempty_dir2/f1.txt|F|2981|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2986|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3000
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
RV_none

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/nonexist_5 0
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3069
   /test_dir_0023/empty_dir1|D|3071
   /test_dir_0023/empty_dir2|D|3075
   /test_dir_0023/nonempty_dir1|D|3078
   /test_dir_0023/nonempty_dir2|D|3104
   /test_dir_0023/nonempty_dir1/d2|D|3087
   /test_dir_0023/nonempty_dir1/f1.txt|F|3082|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3098
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3091|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3123
   /test_dir_0023/nonempty_dir2/f1.txt|F|3110|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3116|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3130
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
RV_none

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/nonexist_5/ 0
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3196
   /test_dir_0024/empty_dir1|D|3199
   /test_dir_0024/empty_dir2|D|3202
   /test_dir_0024/nonempty_dir1|D|3206
   /test_dir_0024/nonempty_dir2|D|3231
   /test_dir_0024/nonempty_dir1/d2|D|3213
   /test_dir_0024/nonempty_dir1/f1.txt|F|3209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3225
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3217|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3250
   /test_dir_0024/nonempty_dir2/f1.txt|F|3237|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3242|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3256
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
RV_none

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/nonexist_4 0
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3322
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3328
   /test_dir_0025/nonempty_dir1|D|3331
   /test_dir_0025/nonempty_dir2|D|3356
   /test_dir_0025/nonempty_dir1/d2|D|3340
   /test_dir_0025/nonempty_dir1/f1.txt|F|3335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3350
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3373
   /test_dir_0025/nonempty_dir2/f1.txt|F|3362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3366|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3378
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
RV_none

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/nonexist_4/ 0
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3446
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3453
   /test_dir_0026/nonempty_dir1|D|3458
   /test_dir_0026/nonempty_dir2|D|3482
   /test_dir_0026/nonempty_dir1/d2|D|3466
   /test_dir_0026/nonempty_dir1/f1.txt|F|3462|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3477
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3470|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3501
   /test_dir_0026/nonempty_dir2/f1.txt|F|3487|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3506
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
RV_none

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/sl_f1.txt 0
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3574
   /test_dir_0027/empty_dir1|D|3578
   /test_dir_0027/empty_dir2|D|3581
   /test_dir_0027/nonempty_dir1|D|3585
   /test_dir_0027/nonempty_dir2|D|3609
   /test_dir_0027/nonempty_dir1/d2|D|3593
   /test_dir_0027/nonempty_dir1/f1.txt|F|3589|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3604
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3597|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3620|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3632
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
RV_none

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/sl_f1.txt/ 0
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3698
   /test_dir_0028/empty_dir1|D|3701
   /test_dir_0028/empty_dir2|D|3705
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3734
   /test_dir_0028/nonempty_dir1/d2|D|3718
   /test_dir_0028/nonempty_dir1/f1.txt|F|3713|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3728
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3722|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3750
   /test_dir_0028/nonempty_dir2/f1.txt|F|3737|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3744|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3756
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
RV_none

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2 0
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3824
   /test_dir_0029/empty_dir1|D|3828
   /test_dir_0029/empty_dir2|D|3833
   /test_dir_0029/nonempty_dir1|D|3837
   /test_dir_0029/nonempty_dir2|D|3863
   /test_dir_0029/nonempty_dir1/d2|D|3846
   /test_dir_0029/nonempty_dir1/f1.txt|F|3841|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3857
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3851|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3881
   /test_dir_0029/nonempty_dir2/f1.txt|F|3868|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3874|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3887
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
RV_none

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/ 0
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3952
   /test_dir_0030/empty_dir1|D|3956
   /test_dir_0030/empty_dir2|D|3961
   /test_dir_0030/nonempty_dir1|D|3965
   /test_dir_0030/nonempty_dir2|D|3989
   /test_dir_0030/nonempty_dir1/d2|D|3973
   /test_dir_0030/nonempty_dir1/f1.txt|F|3969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3985
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3978|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|4007
   /test_dir_0030/nonempty_dir2/f1.txt|F|3994|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|4001|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|4013
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
RV_none

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2 0
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4081
   /test_dir_0031/empty_dir1|D|4085
   /test_dir_0031/empty_dir2|D|4088
   /test_dir_0031/nonempty_dir1|D|4092
   /test_dir_0031/nonempty_dir2|D|4117
   /test_dir_0031/nonempty_dir1/d2|D|4101
   /test_dir_0031/nonempty_dir1/f1.txt|F|4096|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4112
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4106|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4134
   /test_dir_0031/nonempty_dir2/f1.txt|F|4122|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4128|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4140
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
RV_none

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/ 0
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4203
   /test_dir_0032/empty_dir1|D|4207
   /test_dir_0032/empty_dir2|D|4213
   /test_dir_0032/nonempty_dir1|D|4217
   /test_dir_0032/nonempty_dir2|D|4242
   /test_dir_0032/nonempty_dir1/d2|D|4226
   /test_dir_0032/nonempty_dir1/f1.txt|F|4220|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4237
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4231|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4258
   /test_dir_0032/nonempty_dir2/f1.txt|F|4247|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4249|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4262
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
RV_none

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/d3 0
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4327
   /test_dir_0033/empty_dir1|D|4331
   /test_dir_0033/empty_dir2|D|4335
   /test_dir_0033/nonempty_dir1|D|4340
   /test_dir_0033/nonempty_dir2|D|4363
   /test_dir_0033/nonempty_dir1/d2|D|4348
   /test_dir_0033/nonempty_dir1/f1.txt|F|4343|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4358
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4352|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4379
   /test_dir_0033/nonempty_dir2/f1.txt|F|4368|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4385
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
RV_none

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/d3/ 0
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4451
   /test_dir_0034/empty_dir1|D|4456
   /test_dir_0034/empty_dir2|D|4460
   /test_dir_0034/nonempty_dir1|D|4465
   /test_dir_0034/nonempty_dir2|D|4490
   /test_dir_0034/nonempty_dir1/d2|D|4474
   /test_dir_0034/nonempty_dir1/f1.txt|F|4469|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4484
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4506
   /test_dir_0034/nonempty_dir2/f1.txt|F|4495|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4500|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4512
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
RV_none

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/sl_f3.txt 0
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4579
   /test_dir_0035/empty_dir1|D|4583
   /test_dir_0035/empty_dir2|D|4587
   /test_dir_0035/nonempty_dir1|D|4593
   /test_dir_0035/nonempty_dir2|D|4619
   /test_dir_0035/nonempty_dir1/d2|D|4602
   /test_dir_0035/nonempty_dir1/f1.txt|F|4597|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4613
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4606|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4634
   /test_dir_0035/nonempty_dir2/f1.txt|F|4623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4628|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4639
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
RV_none

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/sl_f3.txt/ 0
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4704
   /test_dir_0036/empty_dir1|D|4709
   /test_dir_0036/empty_dir2|D|4714
   /test_dir_0036/nonempty_dir1|D|4719
   /test_dir_0036/nonempty_dir2|D|4745
   /test_dir_0036/nonempty_dir1/d2|D|4730
   /test_dir_0036/nonempty_dir1/f1.txt|F|4725|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4740
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4735|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4760
   /test_dir_0036/nonempty_dir2/f1.txt|F|4750|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4754|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4765
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
RV_none

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f1.txt 0
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4830
   /test_dir_0037/empty_dir1|D|4835
   /test_dir_0037/empty_dir2|D|4840
   /test_dir_0037/nonempty_dir1|D|4845
   /test_dir_0037/nonempty_dir2|D|4871
   /test_dir_0037/nonempty_dir1/d2|D|4854
   /test_dir_0037/nonempty_dir1/f1.txt|F|4850|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4866
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4859|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4887
   /test_dir_0037/nonempty_dir2/f1.txt|F|4876|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir2/f2.txt|F|4880|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4892
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
RV_none

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4957
   /test_dir_0038/empty_dir1|D|4962
   /test_dir_0038/empty_dir2|D|4967
   /test_dir_0038/nonempty_dir1|D|4972
   /test_dir_0038/nonempty_dir2|D|4999
   /test_dir_0038/nonempty_dir1/d2|D|4983
   /test_dir_0038/nonempty_dir1/f1.txt|F|4978|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4994
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4988|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|5015
   /test_dir_0038/nonempty_dir2/f1.txt|F|5003|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|5008|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|5020
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
RV_none

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f2.txt 0
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|5081
   /test_dir_0039/empty_dir1|D|5086
   /test_dir_0039/empty_dir2|D|5092
   /test_dir_0039/nonempty_dir1|D|5098
   /test_dir_0039/nonempty_dir2|D|5125
   /test_dir_0039/nonempty_dir1/d2|D|5108
   /test_dir_0039/nonempty_dir1/f1.txt|F|5104|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|5118
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|5112|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|5142
   /test_dir_0039/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|5134|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/d2/d3|D|5147
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
RV_none

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f2.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|5207
   /test_dir_0040/empty_dir1|D|5212
   /test_dir_0040/empty_dir2|D|5218
   /test_dir_0040/nonempty_dir1|D|5225
   /test_dir_0040/nonempty_dir2|D|5251
   /test_dir_0040/nonempty_dir1/d2|D|5237
   /test_dir_0040/nonempty_dir1/f1.txt|F|5230|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5246
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5241|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5269
   /test_dir_0040/nonempty_dir2/f1.txt|F|5256|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5262|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5275
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
RV_none

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_1 0
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5332
   /test_dir_0041/empty_dir1|D|5336
   /test_dir_0041/empty_dir2|D|5343
   /test_dir_0041/nonempty_dir1|D|5349
   /test_dir_0041/nonempty_dir2|D|5376
   /test_dir_0041/nonempty_dir1/d2|D|5361
   /test_dir_0041/nonempty_dir1/f1.txt|F|5355|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5372
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5366|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5393
   /test_dir_0041/nonempty_dir2/f1.txt|F|5381|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5386|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5399
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
RV_none

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_1/ 0
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5459
   /test_dir_0042/empty_dir1|D|5463
   /test_dir_0042/empty_dir2|D|5468
   /test_dir_0042/nonempty_dir1|D|5475
   /test_dir_0042/nonempty_dir2|D|5502
   /test_dir_0042/nonempty_dir1/d2|D|5485
   /test_dir_0042/nonempty_dir1/f1.txt|F|5480|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5496
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5490|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5517
   /test_dir_0042/nonempty_dir2/f1.txt|F|5506|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5511|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5523
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
RV_none

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_2 0
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5585
   /test_dir_0043/empty_dir1|D|5590
   /test_dir_0043/empty_dir2|D|5595
   /test_dir_0043/nonempty_dir1|D|5599
   /test_dir_0043/nonempty_dir2|D|5622
   /test_dir_0043/nonempty_dir1/d2|D|5607
   /test_dir_0043/nonempty_dir1/f1.txt|F|5603|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5618
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5612|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5634
   /test_dir_0043/nonempty_dir2/f1.txt|F|5625|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5629|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5639
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
RV_none

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_2/ 0
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5692
   /test_dir_0044/empty_dir1|D|5696
   /test_dir_0044/empty_dir2|D|5701
   /test_dir_0044/nonempty_dir1|D|5707
   /test_dir_0044/nonempty_dir2|D|5731
   /test_dir_0044/nonempty_dir1/d2|D|5717
   /test_dir_0044/nonempty_dir1/f1.txt|F|5712|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5727
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5721|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5743
   /test_dir_0044/nonempty_dir2/f1.txt|F|5734|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5737|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5745
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
RV_none

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_dir/nonexist_3 0
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5797
   /test_dir_0045/empty_dir1|D|5801
   /test_dir_0045/empty_dir2|D|5804
   /test_dir_0045/nonempty_dir1|D|5808
   /test_dir_0045/nonempty_dir2|D|5821
   /test_dir_0045/nonempty_dir1/d2|D|5813
   /test_dir_0045/nonempty_dir1/f1.txt|F|5810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5820
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5816|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5827
   /test_dir_0045/nonempty_dir2/f1.txt|F|5823|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5829
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
RV_none

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_dir/nonexist_3/ 0
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5871
   /test_dir_0046/empty_dir1|D|5875
   /test_dir_0046/empty_dir2|D|5879
   /test_dir_0046/nonempty_dir1|D|5883
   /test_dir_0046/nonempty_dir2|D|5895
   /test_dir_0046/nonempty_dir1/d2|D|5889
   /test_dir_0046/nonempty_dir1/f1.txt|F|5885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5893
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5891|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5901
   /test_dir_0046/nonempty_dir2/f1.txt|F|5897|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5902
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 10
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|280
   /test_dir_0001/empty_dir1|D|285
   /test_dir_0001/empty_dir2|D|291
   /test_dir_0001/nonempty_dir1|D|296
   /test_dir_0001/nonempty_dir2|D|313
   /test_dir_0001/nonempty_dir1/d2|D|303
   /test_dir_0001/nonempty_dir1/f1.txt|F|300|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|310
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|326
   /test_dir_0001/nonempty_dir2/f1.txt|F|317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|321|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|329
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 10
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|407
   /test_dir_0002/empty_dir1|D|411
   /test_dir_0002/empty_dir2|D|418
   /test_dir_0002/nonempty_dir1|D|422
   /test_dir_0002/nonempty_dir2|D|438
   /test_dir_0002/nonempty_dir1/d2|D|427
   /test_dir_0002/nonempty_dir1/f1.txt|F|424|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|435
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|430|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|450
   /test_dir_0002/nonempty_dir2/f1.txt|F|442|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|444|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|453
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 10
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|533
   /test_dir_0003/empty_dir1|D|537
   /test_dir_0003/empty_dir2|D|543
   /test_dir_0003/nonempty_dir1|D|547
   /test_dir_0003/nonempty_dir2|D|563
   /test_dir_0003/nonempty_dir1/d2|D|553
   /test_dir_0003/nonempty_dir1/f1.txt|F|550|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|560
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|556|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|574
   /test_dir_0003/nonempty_dir2/f1.txt|F|566|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|570|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|580
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 10
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|663
   /test_dir_0004/empty_dir1|D|667
   /test_dir_0004/empty_dir2|D|672
   /test_dir_0004/nonempty_dir1|D|675
   /test_dir_0004/nonempty_dir2|D|690
   /test_dir_0004/nonempty_dir1/d2|D|680
   /test_dir_0004/nonempty_dir1/f1.txt|F|677|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|686
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|683|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|704
   /test_dir_0004/nonempty_dir2/f1.txt|F|694|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|697|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|710
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 10
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|791
   /test_dir_0005/empty_dir1|D|795
   /test_dir_0005/empty_dir2|D|798
   /test_dir_0005/nonempty_dir1|D|801
   /test_dir_0005/nonempty_dir2|D|818
   /test_dir_0005/nonempty_dir1/d2|D|807
   /test_dir_0005/nonempty_dir1/f1.txt|F|804|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|813
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|810|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|835
   /test_dir_0005/nonempty_dir2/f1.txt|F|822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|839
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 10
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|919
   /test_dir_0006/empty_dir1|D|922
   /test_dir_0006/empty_dir2|D|925
   /test_dir_0006/nonempty_dir1|D|928
   /test_dir_0006/nonempty_dir2|D|945
   /test_dir_0006/nonempty_dir1/d2|D|934
   /test_dir_0006/nonempty_dir1/f1.txt|F|931|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|940
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|936|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|960
   /test_dir_0006/nonempty_dir2/f1.txt|F|948|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|951|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|966
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 10
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1043
   /test_dir_0007/empty_dir1|D|1046
   /test_dir_0007/empty_dir2|D|1049
   /test_dir_0007/nonempty_dir1|D|1052
   /test_dir_0007/nonempty_dir2|D|1067
   /test_dir_0007/nonempty_dir1/d2|D|1058
   /test_dir_0007/nonempty_dir1/f1.txt|F|1055|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1063
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1061|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1080
   /test_dir_0007/nonempty_dir2/f1.txt|F|1070|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1074|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1085
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 10
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1170
   /test_dir_0008/empty_dir1|D|1174
   /test_dir_0008/empty_dir2|D|1176
   /test_dir_0008/nonempty_dir1|D|1179
   /test_dir_0008/nonempty_dir2|D|1195
   /test_dir_0008/nonempty_dir1/d2|D|1185
   /test_dir_0008/nonempty_dir1/f1.txt|F|1182|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1191
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1188|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1210
   /test_dir_0008/nonempty_dir2/f1.txt|F|1198|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1203|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1216
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 10
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1297
   /test_dir_0009/empty_dir1|D|1300
   /test_dir_0009/empty_dir2|D|1303
   /test_dir_0009/nonempty_dir1|D|1307
   /test_dir_0009/nonempty_dir2|D|1322
   /test_dir_0009/nonempty_dir1/d2|D|1311
   /test_dir_0009/nonempty_dir1/f1.txt|F|1309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1318
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1335
   /test_dir_0009/nonempty_dir2/f1.txt|F|1325|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1330|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1341
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 10
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1424
   /test_dir_0010/empty_dir1|D|1426
   /test_dir_0010/empty_dir2|D|1429
   /test_dir_0010/nonempty_dir1|D|1433
   /test_dir_0010/nonempty_dir2|D|1448
   /test_dir_0010/nonempty_dir1/d2|D|1437
   /test_dir_0010/nonempty_dir1/f1.txt|F|1434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1443
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1440|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1463
   /test_dir_0010/nonempty_dir2/f1.txt|F|1452|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1457|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1469
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 10
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1549
   /test_dir_0011/empty_dir1|D|1552
   /test_dir_0011/empty_dir2|D|1555
   /test_dir_0011/nonempty_dir1|D|1558
   /test_dir_0011/nonempty_dir2|D|1575
   /test_dir_0011/nonempty_dir1/d2|D|1564
   /test_dir_0011/nonempty_dir1/f1.txt|F|1561|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1570
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1565|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1592
   /test_dir_0011/nonempty_dir2/f1.txt|F|1580|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1585|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1599
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 10
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1678
   /test_dir_0012/empty_dir1|D|1679
   /test_dir_0012/empty_dir2|D|1681
   /test_dir_0012/nonempty_dir1|D|1684
   /test_dir_0012/nonempty_dir2|D|1701
   /test_dir_0012/nonempty_dir1/d2|D|1690
   /test_dir_0012/nonempty_dir1/f1.txt|F|1687|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1696
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1693|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1719
   /test_dir_0012/nonempty_dir2/f1.txt|F|1706|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1711|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1725
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 10
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1802
   /test_dir_0013/empty_dir1|D|1805
   /test_dir_0013/empty_dir2|D|1807
   /test_dir_0013/nonempty_dir1|D|1810
   /test_dir_0013/nonempty_dir2|D|1828
   /test_dir_0013/nonempty_dir1/d2|D|1815
   /test_dir_0013/nonempty_dir1/f1.txt|F|1812|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1822
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1818|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1846
   /test_dir_0013/nonempty_dir2/f1.txt|F|1832|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1838|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1852
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|1930
   /test_dir_0014/empty_dir1|D|1932
   /test_dir_0014/empty_dir2|D|1934
   /test_dir_0014/nonempty_dir1|D|1937
   /test_dir_0014/nonempty_dir2|D|1956
   /test_dir_0014/nonempty_dir1/d2|D|1943
   /test_dir_0014/nonempty_dir1/f1.txt|F|1940|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1951
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1946|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1974
   /test_dir_0014/nonempty_dir2/f1.txt|F|1961|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1966|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1980
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 10
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2056
   /test_dir_0015/empty_dir1|D|2058
   /test_dir_0015/empty_dir2|D|2060
   /test_dir_0015/nonempty_dir1|D|2063
   /test_dir_0015/nonempty_dir2|D|2083
   /test_dir_0015/nonempty_dir1/d2|D|2069
   /test_dir_0015/nonempty_dir1/f1.txt|F|2066|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2077
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2072|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2101
   /test_dir_0015/nonempty_dir2/f1.txt|F|2086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2106
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 10
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2182
   /test_dir_0016/empty_dir1|D|2184
   /test_dir_0016/empty_dir2|D|2186
   /test_dir_0016/nonempty_dir1|D|2189
   /test_dir_0016/nonempty_dir2|D|2208
   /test_dir_0016/nonempty_dir1/d2|D|2195
   /test_dir_0016/nonempty_dir1/f1.txt|F|2192|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2202
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2198|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2226
   /test_dir_0016/nonempty_dir2/f1.txt|F|2212|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2217|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2233
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 10
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2309
   /test_dir_0017/empty_dir1|D|2310
   /test_dir_0017/empty_dir2|D|2313
   /test_dir_0017/nonempty_dir1|D|2316
   /test_dir_0017/nonempty_dir2|D|2334
   /test_dir_0017/nonempty_dir1/d2|D|2322
   /test_dir_0017/nonempty_dir1/f1.txt|F|2319|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2329
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2325|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2353
   /test_dir_0017/nonempty_dir2/f1.txt|F|2340|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2346|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2360
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 10
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2436
   /test_dir_0018/empty_dir1|D|2439
   /test_dir_0018/empty_dir2|D|2441
   /test_dir_0018/nonempty_dir1|D|2445
   /test_dir_0018/nonempty_dir2|D|2464
   /test_dir_0018/nonempty_dir1/d2|D|2450
   /test_dir_0018/nonempty_dir1/f1.txt|F|2447|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2458
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2453|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2485
   /test_dir_0018/nonempty_dir2/f1.txt|F|2470|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2476|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2491
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 10
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2562
   /test_dir_0019/empty_dir1|D|2565
   /test_dir_0019/empty_dir2|D|2568
   /test_dir_0019/nonempty_dir1|D|2571
   /test_dir_0019/nonempty_dir2|D|2592
   /test_dir_0019/nonempty_dir1/d2|D|2577
   /test_dir_0019/nonempty_dir1/f1.txt|F|2574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2584
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2580|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2610
   /test_dir_0019/nonempty_dir2/f1.txt|F|2596|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2616
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 10
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2690
   /test_dir_0020/empty_dir1|D|2692
   /test_dir_0020/empty_dir2|D|2695
   /test_dir_0020/nonempty_dir1|D|2699
   /test_dir_0020/nonempty_dir2|D|2720
   /test_dir_0020/nonempty_dir1/d2|D|2705
   /test_dir_0020/nonempty_dir1/f1.txt|F|2702|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2713
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2707|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2739
   /test_dir_0020/nonempty_dir2/f1.txt|F|2724|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2729|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2743
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 10
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2816
   /test_dir_0021/empty_dir1|D|2819
   /test_dir_0021/empty_dir2|D|2822
   /test_dir_0021/nonempty_dir1|D|2825
   /test_dir_0021/nonempty_dir2|D|2846
   /test_dir_0021/nonempty_dir1/d2|D|2831
   /test_dir_0021/nonempty_dir1/f1.txt|F|2828|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2841
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2836|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2867
   /test_dir_0021/nonempty_dir2/f1.txt|F|2852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2858|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2871
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2943
   /test_dir_0022/empty_dir1|D|2945
   /test_dir_0022/empty_dir2|D|2949
   /test_dir_0022/nonempty_dir1|D|2952
   /test_dir_0022/nonempty_dir2|D|2976
   /test_dir_0022/nonempty_dir1/d2|D|2958
   /test_dir_0022/nonempty_dir1/f1.txt|F|2955|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2969
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2963|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2994
   /test_dir_0022/nonempty_dir2/f1.txt|F|2981|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2986|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3000
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 10
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3069
   /test_dir_0023/empty_dir1|D|3071
   /test_dir_0023/empty_dir2|D|3075
   /test_dir_0023/nonempty_dir1|D|3078
   /test_dir_0023/nonempty_dir2|D|3104
   /test_dir_0023/nonempty_dir1/d2|D|3087
   /test_dir_0023/nonempty_dir1/f1.txt|F|3082|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3098
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3091|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3123
   /test_dir_0023/nonempty_dir2/f1.txt|F|3110|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3116|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3130
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 10
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3196
   /test_dir_0024/empty_dir1|D|3199
   /test_dir_0024/empty_dir2|D|3202
   /test_dir_0024/nonempty_dir1|D|3206
   /test_dir_0024/nonempty_dir2|D|3231
   /test_dir_0024/nonempty_dir1/d2|D|3213
   /test_dir_0024/nonempty_dir1/f1.txt|F|3209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3225
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3217|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3250
   /test_dir_0024/nonempty_dir2/f1.txt|F|3237|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3242|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3256
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 10
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3322
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3328
   /test_dir_0025/nonempty_dir1|D|3331
   /test_dir_0025/nonempty_dir2|D|3356
   /test_dir_0025/nonempty_dir1/d2|D|3340
   /test_dir_0025/nonempty_dir1/f1.txt|F|3335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3350
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3373
   /test_dir_0025/nonempty_dir2/f1.txt|F|3362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3366|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3378
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 10
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3446
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3453
   /test_dir_0026/nonempty_dir1|D|3458
   /test_dir_0026/nonempty_dir2|D|3482
   /test_dir_0026/nonempty_dir1/d2|D|3466
   /test_dir_0026/nonempty_dir1/f1.txt|F|3462|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3477
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3470|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3501
   /test_dir_0026/nonempty_dir2/f1.txt|F|3487|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3506
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 10
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3574
   /test_dir_0027/empty_dir1|D|3578
   /test_dir_0027/empty_dir2|D|3581
   /test_dir_0027/nonempty_dir1|D|3585
   /test_dir_0027/nonempty_dir2|D|3609
   /test_dir_0027/nonempty_dir1/d2|D|3593
   /test_dir_0027/nonempty_dir1/f1.txt|F|3589|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3604
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3597|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3620|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3632
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 10
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3698
   /test_dir_0028/empty_dir1|D|3701
   /test_dir_0028/empty_dir2|D|3705
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3734
   /test_dir_0028/nonempty_dir1/d2|D|3718
   /test_dir_0028/nonempty_dir1/f1.txt|F|3713|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3728
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3722|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3750
   /test_dir_0028/nonempty_dir2/f1.txt|F|3737|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3744|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3756
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 10
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3824
   /test_dir_0029/empty_dir1|D|3828
   /test_dir_0029/empty_dir2|D|3833
   /test_dir_0029/nonempty_dir1|D|3837
   /test_dir_0029/nonempty_dir2|D|3863
   /test_dir_0029/nonempty_dir1/d2|D|3846
   /test_dir_0029/nonempty_dir1/f1.txt|F|3841|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3857
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3851|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3881
   /test_dir_0029/nonempty_dir2/f1.txt|F|3868|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3874|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3887
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 10
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3952
   /test_dir_0030/empty_dir1|D|3956
   /test_dir_0030/empty_dir2|D|3961
   /test_dir_0030/nonempty_dir1|D|3965
   /test_dir_0030/nonempty_dir2|D|3989
   /test_dir_0030/nonempty_dir1/d2|D|3973
   /test_dir_0030/nonempty_dir1/f1.txt|F|3969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3985
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3978|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|4007
   /test_dir_0030/nonempty_dir2/f1.txt|F|3994|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|4001|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|4013
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 10
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4081
   /test_dir_0031/empty_dir1|D|4085
   /test_dir_0031/empty_dir2|D|4088
   /test_dir_0031/nonempty_dir1|D|4092
   /test_dir_0031/nonempty_dir2|D|4117
   /test_dir_0031/nonempty_dir1/d2|D|4101
   /test_dir_0031/nonempty_dir1/f1.txt|F|4096|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4112
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4106|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4134
   /test_dir_0031/nonempty_dir2/f1.txt|F|4122|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4128|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4140
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 10
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4203
   /test_dir_0032/empty_dir1|D|4207
   /test_dir_0032/empty_dir2|D|4213
   /test_dir_0032/nonempty_dir1|D|4217
   /test_dir_0032/nonempty_dir2|D|4242
   /test_dir_0032/nonempty_dir1/d2|D|4226
   /test_dir_0032/nonempty_dir1/f1.txt|F|4220|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4237
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4231|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4258
   /test_dir_0032/nonempty_dir2/f1.txt|F|4247|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4249|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4262
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 10
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4327
   /test_dir_0033/empty_dir1|D|4331
   /test_dir_0033/empty_dir2|D|4335
   /test_dir_0033/nonempty_dir1|D|4340
   /test_dir_0033/nonempty_dir2|D|4363
   /test_dir_0033/nonempty_dir1/d2|D|4348
   /test_dir_0033/nonempty_dir1/f1.txt|F|4343|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4358
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4352|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4379
   /test_dir_0033/nonempty_dir2/f1.txt|F|4368|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4385
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 10
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4451
   /test_dir_0034/empty_dir1|D|4456
   /test_dir_0034/empty_dir2|D|4460
   /test_dir_0034/nonempty_dir1|D|4465
   /test_dir_0034/nonempty_dir2|D|4490
   /test_dir_0034/nonempty_dir1/d2|D|4474
   /test_dir_0034/nonempty_dir1/f1.txt|F|4469|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4484
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4506
   /test_dir_0034/nonempty_dir2/f1.txt|F|4495|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4500|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4512
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 10
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4579
   /test_dir_0035/empty_dir1|D|4583
   /test_dir_0035/empty_dir2|D|4587
   /test_dir_0035/nonempty_dir1|D|4593
   /test_dir_0035/nonempty_dir2|D|4619
   /test_dir_0035/nonempty_dir1/d2|D|4602
   /test_dir_0035/nonempty_dir1/f1.txt|F|4597|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4613
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4606|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4634
   /test_dir_0035/nonempty_dir2/f1.txt|F|4623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4628|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4639
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 10
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4704
   /test_dir_0036/empty_dir1|D|4709
   /test_dir_0036/empty_dir2|D|4714
   /test_dir_0036/nonempty_dir1|D|4719
   /test_dir_0036/nonempty_dir2|D|4745
   /test_dir_0036/nonempty_dir1/d2|D|4730
   /test_dir_0036/nonempty_dir1/f1.txt|F|4725|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4740
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4735|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4760
   /test_dir_0036/nonempty_dir2/f1.txt|F|4750|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4754|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4765
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 10
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4830
   /test_dir_0037/empty_dir1|D|4835
   /test_dir_0037/empty_dir2|D|4840
   /test_dir_0037/nonempty_dir1|D|4845
   /test_dir_0037/nonempty_dir2|D|4871
   /test_dir_0037/nonempty_dir1/d2|D|4854
   /test_dir_0037/nonempty_dir1/f1.txt|F|4850|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4866
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4859|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4887
   /test_dir_0037/nonempty_dir2/f1.txt|F|4876|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0037/nonempty_dir2/f2.txt|F|4880|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4892
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4957
   /test_dir_0038/empty_dir1|D|4962
   /test_dir_0038/empty_dir2|D|4967
   /test_dir_0038/nonempty_dir1|D|4972
   /test_dir_0038/nonempty_dir2|D|4999
   /test_dir_0038/nonempty_dir1/d2|D|4983
   /test_dir_0038/nonempty_dir1/f1.txt|F|4978|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4994
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4988|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|5015
   /test_dir_0038/nonempty_dir2/f1.txt|F|5003|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|5008|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|5020
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 10
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|5081
   /test_dir_0039/empty_dir1|D|5086
   /test_dir_0039/empty_dir2|D|5092
   /test_dir_0039/nonempty_dir1|D|5098
   /test_dir_0039/nonempty_dir2|D|5125
   /test_dir_0039/nonempty_dir1/d2|D|5108
   /test_dir_0039/nonempty_dir1/f1.txt|F|5104|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|5118
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|5112|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|5142
   /test_dir_0039/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|5134|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0039/nonempty_dir2/d2/d3|D|5147
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|5207
   /test_dir_0040/empty_dir1|D|5212
   /test_dir_0040/empty_dir2|D|5218
   /test_dir_0040/nonempty_dir1|D|5225
   /test_dir_0040/nonempty_dir2|D|5251
   /test_dir_0040/nonempty_dir1/d2|D|5237
   /test_dir_0040/nonempty_dir1/f1.txt|F|5230|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5246
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5241|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5269
   /test_dir_0040/nonempty_dir2/f1.txt|F|5256|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5262|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5275
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 10
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5332
   /test_dir_0041/empty_dir1|D|5336
   /test_dir_0041/empty_dir2|D|5343
   /test_dir_0041/nonempty_dir1|D|5349
   /test_dir_0041/nonempty_dir2|D|5376
   /test_dir_0041/nonempty_dir1/d2|D|5361
   /test_dir_0041/nonempty_dir1/f1.txt|F|5355|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5372
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5366|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5393
   /test_dir_0041/nonempty_dir2/f1.txt|F|5381|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5386|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5399
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 10
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5459
   /test_dir_0042/empty_dir1|D|5463
   /test_dir_0042/empty_dir2|D|5468
   /test_dir_0042/nonempty_dir1|D|5475
   /test_dir_0042/nonempty_dir2|D|5502
   /test_dir_0042/nonempty_dir1/d2|D|5485
   /test_dir_0042/nonempty_dir1/f1.txt|F|5480|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5496
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5490|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5517
   /test_dir_0042/nonempty_dir2/f1.txt|F|5506|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5511|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5523
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 10
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5585
   /test_dir_0043/empty_dir1|D|5590
   /test_dir_0043/empty_dir2|D|5595
   /test_dir_0043/nonempty_dir1|D|5599
   /test_dir_0043/nonempty_dir2|D|5622
   /test_dir_0043/nonempty_dir1/d2|D|5607
   /test_dir_0043/nonempty_dir1/f1.txt|F|5603|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5618
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5612|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5634
   /test_dir_0043/nonempty_dir2/f1.txt|F|5625|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5629|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5639
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 10
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5692
   /test_dir_0044/empty_dir1|D|5696
   /test_dir_0044/empty_dir2|D|5701
   /test_dir_0044/nonempty_dir1|D|5707
   /test_dir_0044/nonempty_dir2|D|5731
   /test_dir_0044/nonempty_dir1/d2|D|5717
   /test_dir_0044/nonempty_dir1/f1.txt|F|5712|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5727
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5721|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5743
   /test_dir_0044/nonempty_dir2/f1.txt|F|5734|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5737|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5745
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 10
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5797
   /test_dir_0045/empty_dir1|D|5801
   /test_dir_0045/empty_dir2|D|5804
   /test_dir_0045/nonempty_dir1|D|5808
   /test_dir_0045/nonempty_dir2|D|5821
   /test_dir_0045/nonempty_dir1/d2|D|5813
   /test_dir_0045/nonempty_dir1/f1.txt|F|5810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5820
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5816|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5827
   /test_dir_0045/nonempty_dir2/f1.txt|F|5823|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5829
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 10
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5871
   /test_dir_0046/empty_dir1|D|5875
   /test_dir_0046/empty_dir2|D|5879
   /test_dir_0046/nonempty_dir1|D|5883
   /test_dir_0046/nonempty_dir2|D|5895
   /test_dir_0046/nonempty_dir1/d2|D|5889
   /test_dir_0046/nonempty_dir1/f1.txt|F|5885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5893
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5891|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5901
   /test_dir_0046/nonempty_dir2/f1.txt|F|5897|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5902
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 100
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|280
   /test_dir_0001/empty_dir1|D|285
   /test_dir_0001/empty_dir2|D|291
   /test_dir_0001/nonempty_dir1|D|296
   /test_dir_0001/nonempty_dir2|D|313
   /test_dir_0001/nonempty_dir1/d2|D|303
   /test_dir_0001/nonempty_dir1/f1.txt|F|300|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|310
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|326
   /test_dir_0001/nonempty_dir2/f1.txt|F|317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|321|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|329
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 100
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|407
   /test_dir_0002/empty_dir1|D|411
   /test_dir_0002/empty_dir2|D|418
   /test_dir_0002/nonempty_dir1|D|422
   /test_dir_0002/nonempty_dir2|D|438
   /test_dir_0002/nonempty_dir1/d2|D|427
   /test_dir_0002/nonempty_dir1/f1.txt|F|424|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|435
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|430|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|450
   /test_dir_0002/nonempty_dir2/f1.txt|F|442|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|444|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|453
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 100
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|533
   /test_dir_0003/empty_dir1|D|537
   /test_dir_0003/empty_dir2|D|543
   /test_dir_0003/nonempty_dir1|D|547
   /test_dir_0003/nonempty_dir2|D|563
   /test_dir_0003/nonempty_dir1/d2|D|553
   /test_dir_0003/nonempty_dir1/f1.txt|F|550|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|560
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|556|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|574
   /test_dir_0003/nonempty_dir2/f1.txt|F|566|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|570|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|580
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 100
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|663
   /test_dir_0004/empty_dir1|D|667
   /test_dir_0004/empty_dir2|D|672
   /test_dir_0004/nonempty_dir1|D|675
   /test_dir_0004/nonempty_dir2|D|690
   /test_dir_0004/nonempty_dir1/d2|D|680
   /test_dir_0004/nonempty_dir1/f1.txt|F|677|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|686
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|683|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|704
   /test_dir_0004/nonempty_dir2/f1.txt|F|694|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|697|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|710
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 100
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|791
   /test_dir_0005/empty_dir1|D|795
   /test_dir_0005/empty_dir2|D|798
   /test_dir_0005/nonempty_dir1|D|801
   /test_dir_0005/nonempty_dir2|D|818
   /test_dir_0005/nonempty_dir1/d2|D|807
   /test_dir_0005/nonempty_dir1/f1.txt|F|804|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|813
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|810|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|835
   /test_dir_0005/nonempty_dir2/f1.txt|F|822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|839
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 100
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|919
   /test_dir_0006/empty_dir1|D|922
   /test_dir_0006/empty_dir2|D|925
   /test_dir_0006/nonempty_dir1|D|928
   /test_dir_0006/nonempty_dir2|D|945
   /test_dir_0006/nonempty_dir1/d2|D|934
   /test_dir_0006/nonempty_dir1/f1.txt|F|931|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|940
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|936|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|960
   /test_dir_0006/nonempty_dir2/f1.txt|F|948|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|951|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|966
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 100
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1043
   /test_dir_0007/empty_dir1|D|1046
   /test_dir_0007/empty_dir2|D|1049
   /test_dir_0007/nonempty_dir1|D|1052
   /test_dir_0007/nonempty_dir2|D|1067
   /test_dir_0007/nonempty_dir1/d2|D|1058
   /test_dir_0007/nonempty_dir1/f1.txt|F|1055|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1063
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1061|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1080
   /test_dir_0007/nonempty_dir2/f1.txt|F|1070|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1074|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1085
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 100
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1170
   /test_dir_0008/empty_dir1|D|1174
   /test_dir_0008/empty_dir2|D|1176
   /test_dir_0008/nonempty_dir1|D|1179
   /test_dir_0008/nonempty_dir2|D|1195
   /test_dir_0008/nonempty_dir1/d2|D|1185
   /test_dir_0008/nonempty_dir1/f1.txt|F|1182|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1191
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1188|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1210
   /test_dir_0008/nonempty_dir2/f1.txt|F|1198|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1203|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1216
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 100
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1297
   /test_dir_0009/empty_dir1|D|1300
   /test_dir_0009/empty_dir2|D|1303
   /test_dir_0009/nonempty_dir1|D|1307
   /test_dir_0009/nonempty_dir2|D|1322
   /test_dir_0009/nonempty_dir1/d2|D|1311
   /test_dir_0009/nonempty_dir1/f1.txt|F|1309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1318
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1335
   /test_dir_0009/nonempty_dir2/f1.txt|F|1325|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1330|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1341
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 100
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1424
   /test_dir_0010/empty_dir1|D|1426
   /test_dir_0010/empty_dir2|D|1429
   /test_dir_0010/nonempty_dir1|D|1433
   /test_dir_0010/nonempty_dir2|D|1448
   /test_dir_0010/nonempty_dir1/d2|D|1437
   /test_dir_0010/nonempty_dir1/f1.txt|F|1434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1443
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1440|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1463
   /test_dir_0010/nonempty_dir2/f1.txt|F|1452|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1457|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1469
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 100
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1549
   /test_dir_0011/empty_dir1|D|1552
   /test_dir_0011/empty_dir2|D|1555
   /test_dir_0011/nonempty_dir1|D|1558
   /test_dir_0011/nonempty_dir2|D|1575
   /test_dir_0011/nonempty_dir1/d2|D|1564
   /test_dir_0011/nonempty_dir1/f1.txt|F|1561|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1570
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1565|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1592
   /test_dir_0011/nonempty_dir2/f1.txt|F|1580|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1585|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1599
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 100
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1678
   /test_dir_0012/empty_dir1|D|1679
   /test_dir_0012/empty_dir2|D|1681
   /test_dir_0012/nonempty_dir1|D|1684
   /test_dir_0012/nonempty_dir2|D|1701
   /test_dir_0012/nonempty_dir1/d2|D|1690
   /test_dir_0012/nonempty_dir1/f1.txt|F|1687|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1696
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1693|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1719
   /test_dir_0012/nonempty_dir2/f1.txt|F|1706|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1711|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1725
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 100
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1802
   /test_dir_0013/empty_dir1|D|1805
   /test_dir_0013/empty_dir2|D|1807
   /test_dir_0013/nonempty_dir1|D|1810
   /test_dir_0013/nonempty_dir2|D|1828
   /test_dir_0013/nonempty_dir1/d2|D|1815
   /test_dir_0013/nonempty_dir1/f1.txt|F|1812|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1822
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1818|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1846
   /test_dir_0013/nonempty_dir2/f1.txt|F|1832|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1838|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1852
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|1930
   /test_dir_0014/empty_dir1|D|1932
   /test_dir_0014/empty_dir2|D|1934
   /test_dir_0014/nonempty_dir1|D|1937
   /test_dir_0014/nonempty_dir2|D|1956
   /test_dir_0014/nonempty_dir1/d2|D|1943
   /test_dir_0014/nonempty_dir1/f1.txt|F|1940|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1951
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1946|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1974
   /test_dir_0014/nonempty_dir2/f1.txt|F|1961|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1966|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1980
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 100
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2056
   /test_dir_0015/empty_dir1|D|2058
   /test_dir_0015/empty_dir2|D|2060
   /test_dir_0015/nonempty_dir1|D|2063
   /test_dir_0015/nonempty_dir2|D|2083
   /test_dir_0015/nonempty_dir1/d2|D|2069
   /test_dir_0015/nonempty_dir1/f1.txt|F|2066|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2077
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2072|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2101
   /test_dir_0015/nonempty_dir2/f1.txt|F|2086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2106
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 100
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2182
   /test_dir_0016/empty_dir1|D|2184
   /test_dir_0016/empty_dir2|D|2186
   /test_dir_0016/nonempty_dir1|D|2189
   /test_dir_0016/nonempty_dir2|D|2208
   /test_dir_0016/nonempty_dir1/d2|D|2195
   /test_dir_0016/nonempty_dir1/f1.txt|F|2192|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2202
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2198|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2226
   /test_dir_0016/nonempty_dir2/f1.txt|F|2212|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2217|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2233
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 100
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2309
   /test_dir_0017/empty_dir1|D|2310
   /test_dir_0017/empty_dir2|D|2313
   /test_dir_0017/nonempty_dir1|D|2316
   /test_dir_0017/nonempty_dir2|D|2334
   /test_dir_0017/nonempty_dir1/d2|D|2322
   /test_dir_0017/nonempty_dir1/f1.txt|F|2319|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2329
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2325|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2353
   /test_dir_0017/nonempty_dir2/f1.txt|F|2340|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2346|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2360
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 100
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2436
   /test_dir_0018/empty_dir1|D|2439
   /test_dir_0018/empty_dir2|D|2441
   /test_dir_0018/nonempty_dir1|D|2445
   /test_dir_0018/nonempty_dir2|D|2464
   /test_dir_0018/nonempty_dir1/d2|D|2450
   /test_dir_0018/nonempty_dir1/f1.txt|F|2447|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2458
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2453|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2485
   /test_dir_0018/nonempty_dir2/f1.txt|F|2470|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2476|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2491
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 100
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2562
   /test_dir_0019/empty_dir1|D|2565
   /test_dir_0019/empty_dir2|D|2568
   /test_dir_0019/nonempty_dir1|D|2571
   /test_dir_0019/nonempty_dir2|D|2592
   /test_dir_0019/nonempty_dir1/d2|D|2577
   /test_dir_0019/nonempty_dir1/f1.txt|F|2574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2584
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2580|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2610
   /test_dir_0019/nonempty_dir2/f1.txt|F|2596|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2616
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 100
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2690
   /test_dir_0020/empty_dir1|D|2692
   /test_dir_0020/empty_dir2|D|2695
   /test_dir_0020/nonempty_dir1|D|2699
   /test_dir_0020/nonempty_dir2|D|2720
   /test_dir_0020/nonempty_dir1/d2|D|2705
   /test_dir_0020/nonempty_dir1/f1.txt|F|2702|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2713
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2707|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2739
   /test_dir_0020/nonempty_dir2/f1.txt|F|2724|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2729|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2743
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 100
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2816
   /test_dir_0021/empty_dir1|D|2819
   /test_dir_0021/empty_dir2|D|2822
   /test_dir_0021/nonempty_dir1|D|2825
   /test_dir_0021/nonempty_dir2|D|2846
   /test_dir_0021/nonempty_dir1/d2|D|2831
   /test_dir_0021/nonempty_dir1/f1.txt|F|2828|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2841
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2836|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2867
   /test_dir_0021/nonempty_dir2/f1.txt|F|2852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2858|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2871
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2943
   /test_dir_0022/empty_dir1|D|2945
   /test_dir_0022/empty_dir2|D|2949
   /test_dir_0022/nonempty_dir1|D|2952
   /test_dir_0022/nonempty_dir2|D|2976
   /test_dir_0022/nonempty_dir1/d2|D|2958
   /test_dir_0022/nonempty_dir1/f1.txt|F|2955|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2969
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2963|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2994
   /test_dir_0022/nonempty_dir2/f1.txt|F|2981|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2986|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3000
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 100
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3069
   /test_dir_0023/empty_dir1|D|3071
   /test_dir_0023/empty_dir2|D|3075
   /test_dir_0023/nonempty_dir1|D|3078
   /test_dir_0023/nonempty_dir2|D|3104
   /test_dir_0023/nonempty_dir1/d2|D|3087
   /test_dir_0023/nonempty_dir1/f1.txt|F|3082|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3098
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3091|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3123
   /test_dir_0023/nonempty_dir2/f1.txt|F|3110|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3116|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3130
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 100
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3196
   /test_dir_0024/empty_dir1|D|3199
   /test_dir_0024/empty_dir2|D|3202
   /test_dir_0024/nonempty_dir1|D|3206
   /test_dir_0024/nonempty_dir2|D|3231
   /test_dir_0024/nonempty_dir1/d2|D|3213
   /test_dir_0024/nonempty_dir1/f1.txt|F|3209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3225
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3217|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3250
   /test_dir_0024/nonempty_dir2/f1.txt|F|3237|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3242|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3256
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 100
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3322
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3328
   /test_dir_0025/nonempty_dir1|D|3331
   /test_dir_0025/nonempty_dir2|D|3356
   /test_dir_0025/nonempty_dir1/d2|D|3340
   /test_dir_0025/nonempty_dir1/f1.txt|F|3335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3350
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3373
   /test_dir_0025/nonempty_dir2/f1.txt|F|3362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3366|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3378
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 100
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3446
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3453
   /test_dir_0026/nonempty_dir1|D|3458
   /test_dir_0026/nonempty_dir2|D|3482
   /test_dir_0026/nonempty_dir1/d2|D|3466
   /test_dir_0026/nonempty_dir1/f1.txt|F|3462|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3477
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3470|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3501
   /test_dir_0026/nonempty_dir2/f1.txt|F|3487|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3506
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 100
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3574
   /test_dir_0027/empty_dir1|D|3578
   /test_dir_0027/empty_dir2|D|3581
   /test_dir_0027/nonempty_dir1|D|3585
   /test_dir_0027/nonempty_dir2|D|3609
   /test_dir_0027/nonempty_dir1/d2|D|3593
   /test_dir_0027/nonempty_dir1/f1.txt|F|3589|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3604
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3597|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3620|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3632
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 100
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3698
   /test_dir_0028/empty_dir1|D|3701
   /test_dir_0028/empty_dir2|D|3705
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3734
   /test_dir_0028/nonempty_dir1/d2|D|3718
   /test_dir_0028/nonempty_dir1/f1.txt|F|3713|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3728
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3722|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3750
   /test_dir_0028/nonempty_dir2/f1.txt|F|3737|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3744|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3756
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 100
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3824
   /test_dir_0029/empty_dir1|D|3828
   /test_dir_0029/empty_dir2|D|3833
   /test_dir_0029/nonempty_dir1|D|3837
   /test_dir_0029/nonempty_dir2|D|3863
   /test_dir_0029/nonempty_dir1/d2|D|3846
   /test_dir_0029/nonempty_dir1/f1.txt|F|3841|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3857
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3851|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3881
   /test_dir_0029/nonempty_dir2/f1.txt|F|3868|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3874|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3887
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 100
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3952
   /test_dir_0030/empty_dir1|D|3956
   /test_dir_0030/empty_dir2|D|3961
   /test_dir_0030/nonempty_dir1|D|3965
   /test_dir_0030/nonempty_dir2|D|3989
   /test_dir_0030/nonempty_dir1/d2|D|3973
   /test_dir_0030/nonempty_dir1/f1.txt|F|3969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3985
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3978|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|4007
   /test_dir_0030/nonempty_dir2/f1.txt|F|3994|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|4001|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|4013
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 100
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4081
   /test_dir_0031/empty_dir1|D|4085
   /test_dir_0031/empty_dir2|D|4088
   /test_dir_0031/nonempty_dir1|D|4092
   /test_dir_0031/nonempty_dir2|D|4117
   /test_dir_0031/nonempty_dir1/d2|D|4101
   /test_dir_0031/nonempty_dir1/f1.txt|F|4096|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4112
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4106|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4134
   /test_dir_0031/nonempty_dir2/f1.txt|F|4122|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4128|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4140
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 100
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4203
   /test_dir_0032/empty_dir1|D|4207
   /test_dir_0032/empty_dir2|D|4213
   /test_dir_0032/nonempty_dir1|D|4217
   /test_dir_0032/nonempty_dir2|D|4242
   /test_dir_0032/nonempty_dir1/d2|D|4226
   /test_dir_0032/nonempty_dir1/f1.txt|F|4220|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4237
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4231|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4258
   /test_dir_0032/nonempty_dir2/f1.txt|F|4247|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4249|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4262
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 100
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4327
   /test_dir_0033/empty_dir1|D|4331
   /test_dir_0033/empty_dir2|D|4335
   /test_dir_0033/nonempty_dir1|D|4340
   /test_dir_0033/nonempty_dir2|D|4363
   /test_dir_0033/nonempty_dir1/d2|D|4348
   /test_dir_0033/nonempty_dir1/f1.txt|F|4343|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4358
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4352|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4379
   /test_dir_0033/nonempty_dir2/f1.txt|F|4368|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4385
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 100
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4451
   /test_dir_0034/empty_dir1|D|4456
   /test_dir_0034/empty_dir2|D|4460
   /test_dir_0034/nonempty_dir1|D|4465
   /test_dir_0034/nonempty_dir2|D|4490
   /test_dir_0034/nonempty_dir1/d2|D|4474
   /test_dir_0034/nonempty_dir1/f1.txt|F|4469|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4484
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4506
   /test_dir_0034/nonempty_dir2/f1.txt|F|4495|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4500|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4512
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 100
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4579
   /test_dir_0035/empty_dir1|D|4583
   /test_dir_0035/empty_dir2|D|4587
   /test_dir_0035/nonempty_dir1|D|4593
   /test_dir_0035/nonempty_dir2|D|4619
   /test_dir_0035/nonempty_dir1/d2|D|4602
   /test_dir_0035/nonempty_dir1/f1.txt|F|4597|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4613
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4606|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4634
   /test_dir_0035/nonempty_dir2/f1.txt|F|4623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4628|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4639
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 100
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4704
   /test_dir_0036/empty_dir1|D|4709
   /test_dir_0036/empty_dir2|D|4714
   /test_dir_0036/nonempty_dir1|D|4719
   /test_dir_0036/nonempty_dir2|D|4745
   /test_dir_0036/nonempty_dir1/d2|D|4730
   /test_dir_0036/nonempty_dir1/f1.txt|F|4725|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4740
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4735|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4760
   /test_dir_0036/nonempty_dir2/f1.txt|F|4750|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4754|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4765
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 100
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4830
   /test_dir_0037/empty_dir1|D|4835
   /test_dir_0037/empty_dir2|D|4840
   /test_dir_0037/nonempty_dir1|D|4845
   /test_dir_0037/nonempty_dir2|D|4871
   /test_dir_0037/nonempty_dir1/d2|D|4854
   /test_dir_0037/nonempty_dir1/f1.txt|F|4850|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4866
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4859|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4887
   /test_dir_0037/nonempty_dir2/f1.txt|F|4876|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0037/nonempty_dir2/f2.txt|F|4880|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4892
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4957
   /test_dir_0038/empty_dir1|D|4962
   /test_dir_0038/empty_dir2|D|4967
   /test_dir_0038/nonempty_dir1|D|4972
   /test_dir_0038/nonempty_dir2|D|4999
   /test_dir_0038/nonempty_dir1/d2|D|4983
   /test_dir_0038/nonempty_dir1/f1.txt|F|4978|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4994
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4988|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|5015
   /test_dir_0038/nonempty_dir2/f1.txt|F|5003|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|5008|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|5020
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 100
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|5081
   /test_dir_0039/empty_dir1|D|5086
   /test_dir_0039/empty_dir2|D|5092
   /test_dir_0039/nonempty_dir1|D|5098
   /test_dir_0039/nonempty_dir2|D|5125
   /test_dir_0039/nonempty_dir1/d2|D|5108
   /test_dir_0039/nonempty_dir1/f1.txt|F|5104|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|5118
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|5112|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|5142
   /test_dir_0039/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|5134|100|73e4ea4018155d76ebe7374f30c9d1db00b81a4d
   /test_dir_0039/nonempty_dir2/d2/d3|D|5147
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|5207
   /test_dir_0040/empty_dir1|D|5212
   /test_dir_0040/empty_dir2|D|5218
   /test_dir_0040/nonempty_dir1|D|5225
   /test_dir_0040/nonempty_dir2|D|5251
   /test_dir_0040/nonempty_dir1/d2|D|5237
   /test_dir_0040/nonempty_dir1/f1.txt|F|5230|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5246
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5241|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5269
   /test_dir_0040/nonempty_dir2/f1.txt|F|5256|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5262|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5275
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 100
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5332
   /test_dir_0041/empty_dir1|D|5336
   /test_dir_0041/empty_dir2|D|5343
   /test_dir_0041/nonempty_dir1|D|5349
   /test_dir_0041/nonempty_dir2|D|5376
   /test_dir_0041/nonempty_dir1/d2|D|5361
   /test_dir_0041/nonempty_dir1/f1.txt|F|5355|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5372
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5366|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5393
   /test_dir_0041/nonempty_dir2/f1.txt|F|5381|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5386|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5399
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 100
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5459
   /test_dir_0042/empty_dir1|D|5463
   /test_dir_0042/empty_dir2|D|5468
   /test_dir_0042/nonempty_dir1|D|5475
   /test_dir_0042/nonempty_dir2|D|5502
   /test_dir_0042/nonempty_dir1/d2|D|5485
   /test_dir_0042/nonempty_dir1/f1.txt|F|5480|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5496
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5490|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5517
   /test_dir_0042/nonempty_dir2/f1.txt|F|5506|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5511|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5523
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 100
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5585
   /test_dir_0043/empty_dir1|D|5590
   /test_dir_0043/empty_dir2|D|5595
   /test_dir_0043/nonempty_dir1|D|5599
   /test_dir_0043/nonempty_dir2|D|5622
   /test_dir_0043/nonempty_dir1/d2|D|5607
   /test_dir_0043/nonempty_dir1/f1.txt|F|5603|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5618
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5612|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5634
   /test_dir_0043/nonempty_dir2/f1.txt|F|5625|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5629|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5639
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 100
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5692
   /test_dir_0044/empty_dir1|D|5696
   /test_dir_0044/empty_dir2|D|5701
   /test_dir_0044/nonempty_dir1|D|5707
   /test_dir_0044/nonempty_dir2|D|5731
   /test_dir_0044/nonempty_dir1/d2|D|5717
   /test_dir_0044/nonempty_dir1/f1.txt|F|5712|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5727
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5721|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5743
   /test_dir_0044/nonempty_dir2/f1.txt|F|5734|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5737|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5745
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 100
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5797
   /test_dir_0045/empty_dir1|D|5801
   /test_dir_0045/empty_dir2|D|5804
   /test_dir_0045/nonempty_dir1|D|5808
   /test_dir_0045/nonempty_dir2|D|5821
   /test_dir_0045/nonempty_dir1/d2|D|5813
   /test_dir_0045/nonempty_dir1/f1.txt|F|5810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5820
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5816|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5827
   /test_dir_0045/nonempty_dir2/f1.txt|F|5823|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5829
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 100
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5871
   /test_dir_0046/empty_dir1|D|5875
   /test_dir_0046/empty_dir2|D|5879
   /test_dir_0046/nonempty_dir1|D|5883
   /test_dir_0046/nonempty_dir2|D|5895
   /test_dir_0046/nonempty_dir1/d2|D|5889
   /test_dir_0046/nonempty_dir1/f1.txt|F|5885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5893
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5891|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5901
   /test_dir_0046/nonempty_dir2/f1.txt|F|5897|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5902
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 1000
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|280
   /test_dir_0001/empty_dir1|D|285
   /test_dir_0001/empty_dir2|D|291
   /test_dir_0001/nonempty_dir1|D|296
   /test_dir_0001/nonempty_dir2|D|313
   /test_dir_0001/nonempty_dir1/d2|D|303
   /test_dir_0001/nonempty_dir1/f1.txt|F|300|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|310
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|326
   /test_dir_0001/nonempty_dir2/f1.txt|F|317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|321|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|329
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 1000
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|407
   /test_dir_0002/empty_dir1|D|411
   /test_dir_0002/empty_dir2|D|418
   /test_dir_0002/nonempty_dir1|D|422
   /test_dir_0002/nonempty_dir2|D|438
   /test_dir_0002/nonempty_dir1/d2|D|427
   /test_dir_0002/nonempty_dir1/f1.txt|F|424|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|435
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|430|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|450
   /test_dir_0002/nonempty_dir2/f1.txt|F|442|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|444|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|453
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 1000
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|533
   /test_dir_0003/empty_dir1|D|537
   /test_dir_0003/empty_dir2|D|543
   /test_dir_0003/nonempty_dir1|D|547
   /test_dir_0003/nonempty_dir2|D|563
   /test_dir_0003/nonempty_dir1/d2|D|553
   /test_dir_0003/nonempty_dir1/f1.txt|F|550|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|560
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|556|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|574
   /test_dir_0003/nonempty_dir2/f1.txt|F|566|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|570|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|580
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 1000
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|663
   /test_dir_0004/empty_dir1|D|667
   /test_dir_0004/empty_dir2|D|672
   /test_dir_0004/nonempty_dir1|D|675
   /test_dir_0004/nonempty_dir2|D|690
   /test_dir_0004/nonempty_dir1/d2|D|680
   /test_dir_0004/nonempty_dir1/f1.txt|F|677|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|686
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|683|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|704
   /test_dir_0004/nonempty_dir2/f1.txt|F|694|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|697|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|710
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 1000
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|791
   /test_dir_0005/empty_dir1|D|795
   /test_dir_0005/empty_dir2|D|798
   /test_dir_0005/nonempty_dir1|D|801
   /test_dir_0005/nonempty_dir2|D|818
   /test_dir_0005/nonempty_dir1/d2|D|807
   /test_dir_0005/nonempty_dir1/f1.txt|F|804|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|813
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|810|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|835
   /test_dir_0005/nonempty_dir2/f1.txt|F|822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|839
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 1000
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|919
   /test_dir_0006/empty_dir1|D|922
   /test_dir_0006/empty_dir2|D|925
   /test_dir_0006/nonempty_dir1|D|928
   /test_dir_0006/nonempty_dir2|D|945
   /test_dir_0006/nonempty_dir1/d2|D|934
   /test_dir_0006/nonempty_dir1/f1.txt|F|931|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|940
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|936|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|960
   /test_dir_0006/nonempty_dir2/f1.txt|F|948|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|951|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|966
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 1000
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1043
   /test_dir_0007/empty_dir1|D|1046
   /test_dir_0007/empty_dir2|D|1049
   /test_dir_0007/nonempty_dir1|D|1052
   /test_dir_0007/nonempty_dir2|D|1067
   /test_dir_0007/nonempty_dir1/d2|D|1058
   /test_dir_0007/nonempty_dir1/f1.txt|F|1055|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1063
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1061|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1080
   /test_dir_0007/nonempty_dir2/f1.txt|F|1070|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1074|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1085
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 1000
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1170
   /test_dir_0008/empty_dir1|D|1174
   /test_dir_0008/empty_dir2|D|1176
   /test_dir_0008/nonempty_dir1|D|1179
   /test_dir_0008/nonempty_dir2|D|1195
   /test_dir_0008/nonempty_dir1/d2|D|1185
   /test_dir_0008/nonempty_dir1/f1.txt|F|1182|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1191
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1188|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1210
   /test_dir_0008/nonempty_dir2/f1.txt|F|1198|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1203|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1216
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 1000
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1297
   /test_dir_0009/empty_dir1|D|1300
   /test_dir_0009/empty_dir2|D|1303
   /test_dir_0009/nonempty_dir1|D|1307
   /test_dir_0009/nonempty_dir2|D|1322
   /test_dir_0009/nonempty_dir1/d2|D|1311
   /test_dir_0009/nonempty_dir1/f1.txt|F|1309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1318
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1335
   /test_dir_0009/nonempty_dir2/f1.txt|F|1325|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1330|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1341
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 1000
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1424
   /test_dir_0010/empty_dir1|D|1426
   /test_dir_0010/empty_dir2|D|1429
   /test_dir_0010/nonempty_dir1|D|1433
   /test_dir_0010/nonempty_dir2|D|1448
   /test_dir_0010/nonempty_dir1/d2|D|1437
   /test_dir_0010/nonempty_dir1/f1.txt|F|1434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1443
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1440|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1463
   /test_dir_0010/nonempty_dir2/f1.txt|F|1452|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1457|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1469
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 1000
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1549
   /test_dir_0011/empty_dir1|D|1552
   /test_dir_0011/empty_dir2|D|1555
   /test_dir_0011/nonempty_dir1|D|1558
   /test_dir_0011/nonempty_dir2|D|1575
   /test_dir_0011/nonempty_dir1/d2|D|1564
   /test_dir_0011/nonempty_dir1/f1.txt|F|1561|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1570
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1565|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1592
   /test_dir_0011/nonempty_dir2/f1.txt|F|1580|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1585|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1599
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 1000
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1678
   /test_dir_0012/empty_dir1|D|1679
   /test_dir_0012/empty_dir2|D|1681
   /test_dir_0012/nonempty_dir1|D|1684
   /test_dir_0012/nonempty_dir2|D|1701
   /test_dir_0012/nonempty_dir1/d2|D|1690
   /test_dir_0012/nonempty_dir1/f1.txt|F|1687|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1696
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1693|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1719
   /test_dir_0012/nonempty_dir2/f1.txt|F|1706|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1711|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1725
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 1000
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1802
   /test_dir_0013/empty_dir1|D|1805
   /test_dir_0013/empty_dir2|D|1807
   /test_dir_0013/nonempty_dir1|D|1810
   /test_dir_0013/nonempty_dir2|D|1828
   /test_dir_0013/nonempty_dir1/d2|D|1815
   /test_dir_0013/nonempty_dir1/f1.txt|F|1812|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1822
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1818|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1846
   /test_dir_0013/nonempty_dir2/f1.txt|F|1832|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1838|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1852
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|1930
   /test_dir_0014/empty_dir1|D|1932
   /test_dir_0014/empty_dir2|D|1934
   /test_dir_0014/nonempty_dir1|D|1937
   /test_dir_0014/nonempty_dir2|D|1956
   /test_dir_0014/nonempty_dir1/d2|D|1943
   /test_dir_0014/nonempty_dir1/f1.txt|F|1940|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1951
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1946|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1974
   /test_dir_0014/nonempty_dir2/f1.txt|F|1961|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1966|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1980
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 1000
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2056
   /test_dir_0015/empty_dir1|D|2058
   /test_dir_0015/empty_dir2|D|2060
   /test_dir_0015/nonempty_dir1|D|2063
   /test_dir_0015/nonempty_dir2|D|2083
   /test_dir_0015/nonempty_dir1/d2|D|2069
   /test_dir_0015/nonempty_dir1/f1.txt|F|2066|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2077
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2072|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2101
   /test_dir_0015/nonempty_dir2/f1.txt|F|2086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2106
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 1000
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2182
   /test_dir_0016/empty_dir1|D|2184
   /test_dir_0016/empty_dir2|D|2186
   /test_dir_0016/nonempty_dir1|D|2189
   /test_dir_0016/nonempty_dir2|D|2208
   /test_dir_0016/nonempty_dir1/d2|D|2195
   /test_dir_0016/nonempty_dir1/f1.txt|F|2192|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2202
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2198|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2226
   /test_dir_0016/nonempty_dir2/f1.txt|F|2212|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2217|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2233
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 1000
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2309
   /test_dir_0017/empty_dir1|D|2310
   /test_dir_0017/empty_dir2|D|2313
   /test_dir_0017/nonempty_dir1|D|2316
   /test_dir_0017/nonempty_dir2|D|2334
   /test_dir_0017/nonempty_dir1/d2|D|2322
   /test_dir_0017/nonempty_dir1/f1.txt|F|2319|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2329
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2325|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2353
   /test_dir_0017/nonempty_dir2/f1.txt|F|2340|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2346|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2360
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 1000
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2436
   /test_dir_0018/empty_dir1|D|2439
   /test_dir_0018/empty_dir2|D|2441
   /test_dir_0018/nonempty_dir1|D|2445
   /test_dir_0018/nonempty_dir2|D|2464
   /test_dir_0018/nonempty_dir1/d2|D|2450
   /test_dir_0018/nonempty_dir1/f1.txt|F|2447|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2458
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2453|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2485
   /test_dir_0018/nonempty_dir2/f1.txt|F|2470|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2476|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2491
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 1000
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2562
   /test_dir_0019/empty_dir1|D|2565
   /test_dir_0019/empty_dir2|D|2568
   /test_dir_0019/nonempty_dir1|D|2571
   /test_dir_0019/nonempty_dir2|D|2592
   /test_dir_0019/nonempty_dir1/d2|D|2577
   /test_dir_0019/nonempty_dir1/f1.txt|F|2574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2584
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2580|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2610
   /test_dir_0019/nonempty_dir2/f1.txt|F|2596|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2616
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 1000
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2690
   /test_dir_0020/empty_dir1|D|2692
   /test_dir_0020/empty_dir2|D|2695
   /test_dir_0020/nonempty_dir1|D|2699
   /test_dir_0020/nonempty_dir2|D|2720
   /test_dir_0020/nonempty_dir1/d2|D|2705
   /test_dir_0020/nonempty_dir1/f1.txt|F|2702|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2713
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2707|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2739
   /test_dir_0020/nonempty_dir2/f1.txt|F|2724|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2729|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2743
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 1000
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2816
   /test_dir_0021/empty_dir1|D|2819
   /test_dir_0021/empty_dir2|D|2822
   /test_dir_0021/nonempty_dir1|D|2825
   /test_dir_0021/nonempty_dir2|D|2846
   /test_dir_0021/nonempty_dir1/d2|D|2831
   /test_dir_0021/nonempty_dir1/f1.txt|F|2828|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2841
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2836|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2867
   /test_dir_0021/nonempty_dir2/f1.txt|F|2852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2858|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2871
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2943
   /test_dir_0022/empty_dir1|D|2945
   /test_dir_0022/empty_dir2|D|2949
   /test_dir_0022/nonempty_dir1|D|2952
   /test_dir_0022/nonempty_dir2|D|2976
   /test_dir_0022/nonempty_dir1/d2|D|2958
   /test_dir_0022/nonempty_dir1/f1.txt|F|2955|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2969
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2963|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2994
   /test_dir_0022/nonempty_dir2/f1.txt|F|2981|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2986|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3000
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 1000
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3069
   /test_dir_0023/empty_dir1|D|3071
   /test_dir_0023/empty_dir2|D|3075
   /test_dir_0023/nonempty_dir1|D|3078
   /test_dir_0023/nonempty_dir2|D|3104
   /test_dir_0023/nonempty_dir1/d2|D|3087
   /test_dir_0023/nonempty_dir1/f1.txt|F|3082|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3098
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3091|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3123
   /test_dir_0023/nonempty_dir2/f1.txt|F|3110|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3116|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3130
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 1000
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3196
   /test_dir_0024/empty_dir1|D|3199
   /test_dir_0024/empty_dir2|D|3202
   /test_dir_0024/nonempty_dir1|D|3206
   /test_dir_0024/nonempty_dir2|D|3231
   /test_dir_0024/nonempty_dir1/d2|D|3213
   /test_dir_0024/nonempty_dir1/f1.txt|F|3209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3225
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3217|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3250
   /test_dir_0024/nonempty_dir2/f1.txt|F|3237|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3242|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3256
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 1000
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3322
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3328
   /test_dir_0025/nonempty_dir1|D|3331
   /test_dir_0025/nonempty_dir2|D|3356
   /test_dir_0025/nonempty_dir1/d2|D|3340
   /test_dir_0025/nonempty_dir1/f1.txt|F|3335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3350
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3373
   /test_dir_0025/nonempty_dir2/f1.txt|F|3362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3366|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3378
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 1000
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3446
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3453
   /test_dir_0026/nonempty_dir1|D|3458
   /test_dir_0026/nonempty_dir2|D|3482
   /test_dir_0026/nonempty_dir1/d2|D|3466
   /test_dir_0026/nonempty_dir1/f1.txt|F|3462|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3477
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3470|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3501
   /test_dir_0026/nonempty_dir2/f1.txt|F|3487|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3506
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 1000
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3574
   /test_dir_0027/empty_dir1|D|3578
   /test_dir_0027/empty_dir2|D|3581
   /test_dir_0027/nonempty_dir1|D|3585
   /test_dir_0027/nonempty_dir2|D|3609
   /test_dir_0027/nonempty_dir1/d2|D|3593
   /test_dir_0027/nonempty_dir1/f1.txt|F|3589|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3604
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3597|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3620|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3632
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 1000
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3698
   /test_dir_0028/empty_dir1|D|3701
   /test_dir_0028/empty_dir2|D|3705
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3734
   /test_dir_0028/nonempty_dir1/d2|D|3718
   /test_dir_0028/nonempty_dir1/f1.txt|F|3713|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3728
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3722|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3750
   /test_dir_0028/nonempty_dir2/f1.txt|F|3737|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3744|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3756
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 1000
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3824
   /test_dir_0029/empty_dir1|D|3828
   /test_dir_0029/empty_dir2|D|3833
   /test_dir_0029/nonempty_dir1|D|3837
   /test_dir_0029/nonempty_dir2|D|3863
   /test_dir_0029/nonempty_dir1/d2|D|3846
   /test_dir_0029/nonempty_dir1/f1.txt|F|3841|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3857
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3851|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3881
   /test_dir_0029/nonempty_dir2/f1.txt|F|3868|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3874|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3887
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 1000
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3952
   /test_dir_0030/empty_dir1|D|3956
   /test_dir_0030/empty_dir2|D|3961
   /test_dir_0030/nonempty_dir1|D|3965
   /test_dir_0030/nonempty_dir2|D|3989
   /test_dir_0030/nonempty_dir1/d2|D|3973
   /test_dir_0030/nonempty_dir1/f1.txt|F|3969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3985
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3978|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|4007
   /test_dir_0030/nonempty_dir2/f1.txt|F|3994|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|4001|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|4013
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 1000
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4081
   /test_dir_0031/empty_dir1|D|4085
   /test_dir_0031/empty_dir2|D|4088
   /test_dir_0031/nonempty_dir1|D|4092
   /test_dir_0031/nonempty_dir2|D|4117
   /test_dir_0031/nonempty_dir1/d2|D|4101
   /test_dir_0031/nonempty_dir1/f1.txt|F|4096|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4112
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4106|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4134
   /test_dir_0031/nonempty_dir2/f1.txt|F|4122|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4128|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4140
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 1000
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4203
   /test_dir_0032/empty_dir1|D|4207
   /test_dir_0032/empty_dir2|D|4213
   /test_dir_0032/nonempty_dir1|D|4217
   /test_dir_0032/nonempty_dir2|D|4242
   /test_dir_0032/nonempty_dir1/d2|D|4226
   /test_dir_0032/nonempty_dir1/f1.txt|F|4220|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4237
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4231|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4258
   /test_dir_0032/nonempty_dir2/f1.txt|F|4247|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4249|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4262
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 1000
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4327
   /test_dir_0033/empty_dir1|D|4331
   /test_dir_0033/empty_dir2|D|4335
   /test_dir_0033/nonempty_dir1|D|4340
   /test_dir_0033/nonempty_dir2|D|4363
   /test_dir_0033/nonempty_dir1/d2|D|4348
   /test_dir_0033/nonempty_dir1/f1.txt|F|4343|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4358
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4352|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4379
   /test_dir_0033/nonempty_dir2/f1.txt|F|4368|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4385
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 1000
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4451
   /test_dir_0034/empty_dir1|D|4456
   /test_dir_0034/empty_dir2|D|4460
   /test_dir_0034/nonempty_dir1|D|4465
   /test_dir_0034/nonempty_dir2|D|4490
   /test_dir_0034/nonempty_dir1/d2|D|4474
   /test_dir_0034/nonempty_dir1/f1.txt|F|4469|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4484
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4506
   /test_dir_0034/nonempty_dir2/f1.txt|F|4495|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4500|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4512
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 1000
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4579
   /test_dir_0035/empty_dir1|D|4583
   /test_dir_0035/empty_dir2|D|4587
   /test_dir_0035/nonempty_dir1|D|4593
   /test_dir_0035/nonempty_dir2|D|4619
   /test_dir_0035/nonempty_dir1/d2|D|4602
   /test_dir_0035/nonempty_dir1/f1.txt|F|4597|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4613
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4606|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4634
   /test_dir_0035/nonempty_dir2/f1.txt|F|4623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4628|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4639
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 1000
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4704
   /test_dir_0036/empty_dir1|D|4709
   /test_dir_0036/empty_dir2|D|4714
   /test_dir_0036/nonempty_dir1|D|4719
   /test_dir_0036/nonempty_dir2|D|4745
   /test_dir_0036/nonempty_dir1/d2|D|4730
   /test_dir_0036/nonempty_dir1/f1.txt|F|4725|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4740
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4735|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4760
   /test_dir_0036/nonempty_dir2/f1.txt|F|4750|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4754|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4765
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 1000
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4830
   /test_dir_0037/empty_dir1|D|4835
   /test_dir_0037/empty_dir2|D|4840
   /test_dir_0037/nonempty_dir1|D|4845
   /test_dir_0037/nonempty_dir2|D|4871
   /test_dir_0037/nonempty_dir1/d2|D|4854
   /test_dir_0037/nonempty_dir1/f1.txt|F|4850|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4866
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4859|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4887
   /test_dir_0037/nonempty_dir2/f1.txt|F|4876|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0037/nonempty_dir2/f2.txt|F|4880|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4892
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4957
   /test_dir_0038/empty_dir1|D|4962
   /test_dir_0038/empty_dir2|D|4967
   /test_dir_0038/nonempty_dir1|D|4972
   /test_dir_0038/nonempty_dir2|D|4999
   /test_dir_0038/nonempty_dir1/d2|D|4983
   /test_dir_0038/nonempty_dir1/f1.txt|F|4978|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4994
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4988|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|5015
   /test_dir_0038/nonempty_dir2/f1.txt|F|5003|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|5008|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|5020
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 1000
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|5081
   /test_dir_0039/empty_dir1|D|5086
   /test_dir_0039/empty_dir2|D|5092
   /test_dir_0039/nonempty_dir1|D|5098
   /test_dir_0039/nonempty_dir2|D|5125
   /test_dir_0039/nonempty_dir1/d2|D|5108
   /test_dir_0039/nonempty_dir1/f1.txt|F|5104|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|5118
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|5112|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|5142
   /test_dir_0039/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|5134|1000|399f5ffef7a3ffbb2de9b4a80f09cb13f6d2a697
   /test_dir_0039/nonempty_dir2/d2/d3|D|5147
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|5207
   /test_dir_0040/empty_dir1|D|5212
   /test_dir_0040/empty_dir2|D|5218
   /test_dir_0040/nonempty_dir1|D|5225
   /test_dir_0040/nonempty_dir2|D|5251
   /test_dir_0040/nonempty_dir1/d2|D|5237
   /test_dir_0040/nonempty_dir1/f1.txt|F|5230|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5246
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5241|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5269
   /test_dir_0040/nonempty_dir2/f1.txt|F|5256|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5262|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5275
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 1000
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5332
   /test_dir_0041/empty_dir1|D|5336
   /test_dir_0041/empty_dir2|D|5343
   /test_dir_0041/nonempty_dir1|D|5349
   /test_dir_0041/nonempty_dir2|D|5376
   /test_dir_0041/nonempty_dir1/d2|D|5361
   /test_dir_0041/nonempty_dir1/f1.txt|F|5355|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5372
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5366|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5393
   /test_dir_0041/nonempty_dir2/f1.txt|F|5381|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5386|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5399
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 1000
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5459
   /test_dir_0042/empty_dir1|D|5463
   /test_dir_0042/empty_dir2|D|5468
   /test_dir_0042/nonempty_dir1|D|5475
   /test_dir_0042/nonempty_dir2|D|5502
   /test_dir_0042/nonempty_dir1/d2|D|5485
   /test_dir_0042/nonempty_dir1/f1.txt|F|5480|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5496
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5490|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5517
   /test_dir_0042/nonempty_dir2/f1.txt|F|5506|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5511|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5523
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 1000
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5585
   /test_dir_0043/empty_dir1|D|5590
   /test_dir_0043/empty_dir2|D|5595
   /test_dir_0043/nonempty_dir1|D|5599
   /test_dir_0043/nonempty_dir2|D|5622
   /test_dir_0043/nonempty_dir1/d2|D|5607
   /test_dir_0043/nonempty_dir1/f1.txt|F|5603|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5618
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5612|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5634
   /test_dir_0043/nonempty_dir2/f1.txt|F|5625|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5629|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5639
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 1000
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5692
   /test_dir_0044/empty_dir1|D|5696
   /test_dir_0044/empty_dir2|D|5701
   /test_dir_0044/nonempty_dir1|D|5707
   /test_dir_0044/nonempty_dir2|D|5731
   /test_dir_0044/nonempty_dir1/d2|D|5717
   /test_dir_0044/nonempty_dir1/f1.txt|F|5712|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5727
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5721|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5743
   /test_dir_0044/nonempty_dir2/f1.txt|F|5734|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5737|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5745
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 1000
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5797
   /test_dir_0045/empty_dir1|D|5801
   /test_dir_0045/empty_dir2|D|5804
   /test_dir_0045/nonempty_dir1|D|5808
   /test_dir_0045/nonempty_dir2|D|5821
   /test_dir_0045/nonempty_dir1/d2|D|5813
   /test_dir_0045/nonempty_dir1/f1.txt|F|5810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5820
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5816|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5827
   /test_dir_0045/nonempty_dir2/f1.txt|F|5823|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5829
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 1000
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5871
   /test_dir_0046/empty_dir1|D|5875
   /test_dir_0046/empty_dir2|D|5879
   /test_dir_0046/nonempty_dir1|D|5883
   /test_dir_0046/nonempty_dir2|D|5895
   /test_dir_0046/nonempty_dir1/d2|D|5889
   /test_dir_0046/nonempty_dir1/f1.txt|F|5885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5893
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5891|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5901
   /test_dir_0046/nonempty_dir2/f1.txt|F|5897|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5902
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 -100
Tau
EINVAL

dump-result /test_dir_0001
   /test_dir_0001|D|280
   /test_dir_0001/empty_dir1|D|285
   /test_dir_0001/empty_dir2|D|291
   /test_dir_0001/nonempty_dir1|D|296
   /test_dir_0001/nonempty_dir2|D|313
   /test_dir_0001/nonempty_dir1/d2|D|303
   /test_dir_0001/nonempty_dir1/f1.txt|F|300|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|310
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|326
   /test_dir_0001/nonempty_dir2/f1.txt|F|317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|321|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|329
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ -100
Tau
EINVAL

dump-result /test_dir_0002
   /test_dir_0002|D|407
   /test_dir_0002/empty_dir1|D|411
   /test_dir_0002/empty_dir2|D|418
   /test_dir_0002/nonempty_dir1|D|422
   /test_dir_0002/nonempty_dir2|D|438
   /test_dir_0002/nonempty_dir1/d2|D|427
   /test_dir_0002/nonempty_dir1/f1.txt|F|424|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|435
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|430|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|450
   /test_dir_0002/nonempty_dir2/f1.txt|F|442|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|444|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|453
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 -100
Tau
EINVAL

dump-result /test_dir_0003
   /test_dir_0003|D|533
   /test_dir_0003/empty_dir1|D|537
   /test_dir_0003/empty_dir2|D|543
   /test_dir_0003/nonempty_dir1|D|547
   /test_dir_0003/nonempty_dir2|D|563
   /test_dir_0003/nonempty_dir1/d2|D|553
   /test_dir_0003/nonempty_dir1/f1.txt|F|550|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|560
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|556|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|574
   /test_dir_0003/nonempty_dir2/f1.txt|F|566|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|570|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|580
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ -100
Tau
EINVAL

dump-result /test_dir_0004
   /test_dir_0004|D|663
   /test_dir_0004/empty_dir1|D|667
   /test_dir_0004/empty_dir2|D|672
   /test_dir_0004/nonempty_dir1|D|675
   /test_dir_0004/nonempty_dir2|D|690
   /test_dir_0004/nonempty_dir1/d2|D|680
   /test_dir_0004/nonempty_dir1/f1.txt|F|677|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|686
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|683|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|704
   /test_dir_0004/nonempty_dir2/f1.txt|F|694|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|697|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|710
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 -100
Tau
EINVAL

dump-result /test_dir_0005
   /test_dir_0005|D|791
   /test_dir_0005/empty_dir1|D|795
   /test_dir_0005/empty_dir2|D|798
   /test_dir_0005/nonempty_dir1|D|801
   /test_dir_0005/nonempty_dir2|D|818
   /test_dir_0005/nonempty_dir1/d2|D|807
   /test_dir_0005/nonempty_dir1/f1.txt|F|804|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|813
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|810|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|835
   /test_dir_0005/nonempty_dir2/f1.txt|F|822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|839
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ -100
Tau
EINVAL

dump-result /test_dir_0006
   /test_dir_0006|D|919
   /test_dir_0006/empty_dir1|D|922
   /test_dir_0006/empty_dir2|D|925
   /test_dir_0006/nonempty_dir1|D|928
   /test_dir_0006/nonempty_dir2|D|945
   /test_dir_0006/nonempty_dir1/d2|D|934
   /test_dir_0006/nonempty_dir1/f1.txt|F|931|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|940
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|936|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|960
   /test_dir_0006/nonempty_dir2/f1.txt|F|948|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|951|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|966
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 -100
Tau
EINVAL

dump-result /test_dir_0007
   /test_dir_0007|D|1043
   /test_dir_0007/empty_dir1|D|1046
   /test_dir_0007/empty_dir2|D|1049
   /test_dir_0007/nonempty_dir1|D|1052
   /test_dir_0007/nonempty_dir2|D|1067
   /test_dir_0007/nonempty_dir1/d2|D|1058
   /test_dir_0007/nonempty_dir1/f1.txt|F|1055|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1063
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1061|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1080
   /test_dir_0007/nonempty_dir2/f1.txt|F|1070|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1074|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1085
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ -100
Tau
EINVAL

dump-result /test_dir_0008
   /test_dir_0008|D|1170
   /test_dir_0008/empty_dir1|D|1174
   /test_dir_0008/empty_dir2|D|1176
   /test_dir_0008/nonempty_dir1|D|1179
   /test_dir_0008/nonempty_dir2|D|1195
   /test_dir_0008/nonempty_dir1/d2|D|1185
   /test_dir_0008/nonempty_dir1/f1.txt|F|1182|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1191
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1188|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1210
   /test_dir_0008/nonempty_dir2/f1.txt|F|1198|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1203|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1216
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 -100
Tau
EINVAL

dump-result /test_dir_0009
   /test_dir_0009|D|1297
   /test_dir_0009/empty_dir1|D|1300
   /test_dir_0009/empty_dir2|D|1303
   /test_dir_0009/nonempty_dir1|D|1307
   /test_dir_0009/nonempty_dir2|D|1322
   /test_dir_0009/nonempty_dir1/d2|D|1311
   /test_dir_0009/nonempty_dir1/f1.txt|F|1309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1318
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1335
   /test_dir_0009/nonempty_dir2/f1.txt|F|1325|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1330|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1341
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ -100
Tau
EINVAL

dump-result /test_dir_0010
   /test_dir_0010|D|1424
   /test_dir_0010/empty_dir1|D|1426
   /test_dir_0010/empty_dir2|D|1429
   /test_dir_0010/nonempty_dir1|D|1433
   /test_dir_0010/nonempty_dir2|D|1448
   /test_dir_0010/nonempty_dir1/d2|D|1437
   /test_dir_0010/nonempty_dir1/f1.txt|F|1434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1443
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1440|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1463
   /test_dir_0010/nonempty_dir2/f1.txt|F|1452|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1457|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1469
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 -100
Tau
EINVAL

dump-result /test_dir_0011
   /test_dir_0011|D|1549
   /test_dir_0011/empty_dir1|D|1552
   /test_dir_0011/empty_dir2|D|1555
   /test_dir_0011/nonempty_dir1|D|1558
   /test_dir_0011/nonempty_dir2|D|1575
   /test_dir_0011/nonempty_dir1/d2|D|1564
   /test_dir_0011/nonempty_dir1/f1.txt|F|1561|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1570
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1565|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1592
   /test_dir_0011/nonempty_dir2/f1.txt|F|1580|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1585|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1599
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ -100
Tau
EINVAL

dump-result /test_dir_0012
   /test_dir_0012|D|1678
   /test_dir_0012/empty_dir1|D|1679
   /test_dir_0012/empty_dir2|D|1681
   /test_dir_0012/nonempty_dir1|D|1684
   /test_dir_0012/nonempty_dir2|D|1701
   /test_dir_0012/nonempty_dir1/d2|D|1690
   /test_dir_0012/nonempty_dir1/f1.txt|F|1687|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1696
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1693|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1719
   /test_dir_0012/nonempty_dir2/f1.txt|F|1706|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1711|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1725
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt -100
Tau
EINVAL

dump-result /test_dir_0013
   /test_dir_0013|D|1802
   /test_dir_0013/empty_dir1|D|1805
   /test_dir_0013/empty_dir2|D|1807
   /test_dir_0013/nonempty_dir1|D|1810
   /test_dir_0013/nonempty_dir2|D|1828
   /test_dir_0013/nonempty_dir1/d2|D|1815
   /test_dir_0013/nonempty_dir1/f1.txt|F|1812|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1822
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1818|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1846
   /test_dir_0013/nonempty_dir2/f1.txt|F|1832|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1838|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1852
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ -100
Tau
EINVAL

dump-result /test_dir_0014
   /test_dir_0014|D|1930
   /test_dir_0014/empty_dir1|D|1932
   /test_dir_0014/empty_dir2|D|1934
   /test_dir_0014/nonempty_dir1|D|1937
   /test_dir_0014/nonempty_dir2|D|1956
   /test_dir_0014/nonempty_dir1/d2|D|1943
   /test_dir_0014/nonempty_dir1/f1.txt|F|1940|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1951
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1946|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1974
   /test_dir_0014/nonempty_dir2/f1.txt|F|1961|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1966|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1980
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 -100
Tau
EINVAL

dump-result /test_dir_0015
   /test_dir_0015|D|2056
   /test_dir_0015/empty_dir1|D|2058
   /test_dir_0015/empty_dir2|D|2060
   /test_dir_0015/nonempty_dir1|D|2063
   /test_dir_0015/nonempty_dir2|D|2083
   /test_dir_0015/nonempty_dir1/d2|D|2069
   /test_dir_0015/nonempty_dir1/f1.txt|F|2066|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2077
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2072|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2101
   /test_dir_0015/nonempty_dir2/f1.txt|F|2086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2106
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ -100
Tau
EINVAL

dump-result /test_dir_0016
   /test_dir_0016|D|2182
   /test_dir_0016/empty_dir1|D|2184
   /test_dir_0016/empty_dir2|D|2186
   /test_dir_0016/nonempty_dir1|D|2189
   /test_dir_0016/nonempty_dir2|D|2208
   /test_dir_0016/nonempty_dir1/d2|D|2195
   /test_dir_0016/nonempty_dir1/f1.txt|F|2192|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2202
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2198|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2226
   /test_dir_0016/nonempty_dir2/f1.txt|F|2212|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2217|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2233
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt -100
Tau
EINVAL

dump-result /test_dir_0017
   /test_dir_0017|D|2309
   /test_dir_0017/empty_dir1|D|2310
   /test_dir_0017/empty_dir2|D|2313
   /test_dir_0017/nonempty_dir1|D|2316
   /test_dir_0017/nonempty_dir2|D|2334
   /test_dir_0017/nonempty_dir1/d2|D|2322
   /test_dir_0017/nonempty_dir1/f1.txt|F|2319|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2329
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2325|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2353
   /test_dir_0017/nonempty_dir2/f1.txt|F|2340|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2346|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2360
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0018
   /test_dir_0018|D|2436
   /test_dir_0018/empty_dir1|D|2439
   /test_dir_0018/empty_dir2|D|2441
   /test_dir_0018/nonempty_dir1|D|2445
   /test_dir_0018/nonempty_dir2|D|2464
   /test_dir_0018/nonempty_dir1/d2|D|2450
   /test_dir_0018/nonempty_dir1/f1.txt|F|2447|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2458
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2453|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2485
   /test_dir_0018/nonempty_dir2/f1.txt|F|2470|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2476|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2491
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target -100
Tau
EINVAL

dump-result /test_dir_0019
   /test_dir_0019|D|2562
   /test_dir_0019/empty_dir1|D|2565
   /test_dir_0019/empty_dir2|D|2568
   /test_dir_0019/nonempty_dir1|D|2571
   /test_dir_0019/nonempty_dir2|D|2592
   /test_dir_0019/nonempty_dir1/d2|D|2577
   /test_dir_0019/nonempty_dir1/f1.txt|F|2574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2584
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2580|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2610
   /test_dir_0019/nonempty_dir2/f1.txt|F|2596|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2616
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ -100
Tau
EINVAL

dump-result /test_dir_0020
   /test_dir_0020|D|2690
   /test_dir_0020/empty_dir1|D|2692
   /test_dir_0020/empty_dir2|D|2695
   /test_dir_0020/nonempty_dir1|D|2699
   /test_dir_0020/nonempty_dir2|D|2720
   /test_dir_0020/nonempty_dir1/d2|D|2705
   /test_dir_0020/nonempty_dir1/f1.txt|F|2702|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2713
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2707|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2739
   /test_dir_0020/nonempty_dir2/f1.txt|F|2724|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2729|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2743
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt -100
Tau
EINVAL

dump-result /test_dir_0021
   /test_dir_0021|D|2816
   /test_dir_0021/empty_dir1|D|2819
   /test_dir_0021/empty_dir2|D|2822
   /test_dir_0021/nonempty_dir1|D|2825
   /test_dir_0021/nonempty_dir2|D|2846
   /test_dir_0021/nonempty_dir1/d2|D|2831
   /test_dir_0021/nonempty_dir1/f1.txt|F|2828|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2841
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2836|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2867
   /test_dir_0021/nonempty_dir2/f1.txt|F|2852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2858|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2871
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0022
   /test_dir_0022|D|2943
   /test_dir_0022/empty_dir1|D|2945
   /test_dir_0022/empty_dir2|D|2949
   /test_dir_0022/nonempty_dir1|D|2952
   /test_dir_0022/nonempty_dir2|D|2976
   /test_dir_0022/nonempty_dir1/d2|D|2958
   /test_dir_0022/nonempty_dir1/f1.txt|F|2955|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2969
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2963|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2994
   /test_dir_0022/nonempty_dir2/f1.txt|F|2981|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2986|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3000
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 -100
Tau
EINVAL

dump-result /test_dir_0023
   /test_dir_0023|D|3069
   /test_dir_0023/empty_dir1|D|3071
   /test_dir_0023/empty_dir2|D|3075
   /test_dir_0023/nonempty_dir1|D|3078
   /test_dir_0023/nonempty_dir2|D|3104
   /test_dir_0023/nonempty_dir1/d2|D|3087
   /test_dir_0023/nonempty_dir1/f1.txt|F|3082|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3098
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3091|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3123
   /test_dir_0023/nonempty_dir2/f1.txt|F|3110|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3116|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3130
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ -100
Tau
EINVAL

dump-result /test_dir_0024
   /test_dir_0024|D|3196
   /test_dir_0024/empty_dir1|D|3199
   /test_dir_0024/empty_dir2|D|3202
   /test_dir_0024/nonempty_dir1|D|3206
   /test_dir_0024/nonempty_dir2|D|3231
   /test_dir_0024/nonempty_dir1/d2|D|3213
   /test_dir_0024/nonempty_dir1/f1.txt|F|3209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3225
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3217|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3250
   /test_dir_0024/nonempty_dir2/f1.txt|F|3237|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3242|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3256
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 -100
Tau
EINVAL

dump-result /test_dir_0025
   /test_dir_0025|D|3322
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3328
   /test_dir_0025/nonempty_dir1|D|3331
   /test_dir_0025/nonempty_dir2|D|3356
   /test_dir_0025/nonempty_dir1/d2|D|3340
   /test_dir_0025/nonempty_dir1/f1.txt|F|3335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3350
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3373
   /test_dir_0025/nonempty_dir2/f1.txt|F|3362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3366|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3378
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ -100
Tau
EINVAL

dump-result /test_dir_0026
   /test_dir_0026|D|3446
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3453
   /test_dir_0026/nonempty_dir1|D|3458
   /test_dir_0026/nonempty_dir2|D|3482
   /test_dir_0026/nonempty_dir1/d2|D|3466
   /test_dir_0026/nonempty_dir1/f1.txt|F|3462|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3477
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3470|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3501
   /test_dir_0026/nonempty_dir2/f1.txt|F|3487|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3506
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt -100
Tau
EINVAL

dump-result /test_dir_0027
   /test_dir_0027|D|3574
   /test_dir_0027/empty_dir1|D|3578
   /test_dir_0027/empty_dir2|D|3581
   /test_dir_0027/nonempty_dir1|D|3585
   /test_dir_0027/nonempty_dir2|D|3609
   /test_dir_0027/nonempty_dir1/d2|D|3593
   /test_dir_0027/nonempty_dir1/f1.txt|F|3589|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3604
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3597|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3620|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3632
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0028
   /test_dir_0028|D|3698
   /test_dir_0028/empty_dir1|D|3701
   /test_dir_0028/empty_dir2|D|3705
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3734
   /test_dir_0028/nonempty_dir1/d2|D|3718
   /test_dir_0028/nonempty_dir1/f1.txt|F|3713|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3728
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3722|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3750
   /test_dir_0028/nonempty_dir2/f1.txt|F|3737|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3744|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3756
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 -100
Tau
EINVAL

dump-result /test_dir_0029
   /test_dir_0029|D|3824
   /test_dir_0029/empty_dir1|D|3828
   /test_dir_0029/empty_dir2|D|3833
   /test_dir_0029/nonempty_dir1|D|3837
   /test_dir_0029/nonempty_dir2|D|3863
   /test_dir_0029/nonempty_dir1/d2|D|3846
   /test_dir_0029/nonempty_dir1/f1.txt|F|3841|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3857
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3851|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3881
   /test_dir_0029/nonempty_dir2/f1.txt|F|3868|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3874|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3887
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ -100
Tau
EINVAL

dump-result /test_dir_0030
   /test_dir_0030|D|3952
   /test_dir_0030/empty_dir1|D|3956
   /test_dir_0030/empty_dir2|D|3961
   /test_dir_0030/nonempty_dir1|D|3965
   /test_dir_0030/nonempty_dir2|D|3989
   /test_dir_0030/nonempty_dir1/d2|D|3973
   /test_dir_0030/nonempty_dir1/f1.txt|F|3969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3985
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3978|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|4007
   /test_dir_0030/nonempty_dir2/f1.txt|F|3994|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|4001|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|4013
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 -100
Tau
EINVAL

dump-result /test_dir_0031
   /test_dir_0031|D|4081
   /test_dir_0031/empty_dir1|D|4085
   /test_dir_0031/empty_dir2|D|4088
   /test_dir_0031/nonempty_dir1|D|4092
   /test_dir_0031/nonempty_dir2|D|4117
   /test_dir_0031/nonempty_dir1/d2|D|4101
   /test_dir_0031/nonempty_dir1/f1.txt|F|4096|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4112
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4106|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4134
   /test_dir_0031/nonempty_dir2/f1.txt|F|4122|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4128|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4140
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ -100
Tau
EINVAL

dump-result /test_dir_0032
   /test_dir_0032|D|4203
   /test_dir_0032/empty_dir1|D|4207
   /test_dir_0032/empty_dir2|D|4213
   /test_dir_0032/nonempty_dir1|D|4217
   /test_dir_0032/nonempty_dir2|D|4242
   /test_dir_0032/nonempty_dir1/d2|D|4226
   /test_dir_0032/nonempty_dir1/f1.txt|F|4220|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4237
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4231|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4258
   /test_dir_0032/nonempty_dir2/f1.txt|F|4247|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4249|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4262
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 -100
Tau
EINVAL

dump-result /test_dir_0033
   /test_dir_0033|D|4327
   /test_dir_0033/empty_dir1|D|4331
   /test_dir_0033/empty_dir2|D|4335
   /test_dir_0033/nonempty_dir1|D|4340
   /test_dir_0033/nonempty_dir2|D|4363
   /test_dir_0033/nonempty_dir1/d2|D|4348
   /test_dir_0033/nonempty_dir1/f1.txt|F|4343|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4358
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4352|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4379
   /test_dir_0033/nonempty_dir2/f1.txt|F|4368|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4385
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ -100
Tau
EINVAL

dump-result /test_dir_0034
   /test_dir_0034|D|4451
   /test_dir_0034/empty_dir1|D|4456
   /test_dir_0034/empty_dir2|D|4460
   /test_dir_0034/nonempty_dir1|D|4465
   /test_dir_0034/nonempty_dir2|D|4490
   /test_dir_0034/nonempty_dir1/d2|D|4474
   /test_dir_0034/nonempty_dir1/f1.txt|F|4469|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4484
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4506
   /test_dir_0034/nonempty_dir2/f1.txt|F|4495|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4500|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4512
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt -100
Tau
EINVAL

dump-result /test_dir_0035
   /test_dir_0035|D|4579
   /test_dir_0035/empty_dir1|D|4583
   /test_dir_0035/empty_dir2|D|4587
   /test_dir_0035/nonempty_dir1|D|4593
   /test_dir_0035/nonempty_dir2|D|4619
   /test_dir_0035/nonempty_dir1/d2|D|4602
   /test_dir_0035/nonempty_dir1/f1.txt|F|4597|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4613
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4606|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4634
   /test_dir_0035/nonempty_dir2/f1.txt|F|4623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4628|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4639
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ -100
Tau
EINVAL

dump-result /test_dir_0036
   /test_dir_0036|D|4704
   /test_dir_0036/empty_dir1|D|4709
   /test_dir_0036/empty_dir2|D|4714
   /test_dir_0036/nonempty_dir1|D|4719
   /test_dir_0036/nonempty_dir2|D|4745
   /test_dir_0036/nonempty_dir1/d2|D|4730
   /test_dir_0036/nonempty_dir1/f1.txt|F|4725|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4740
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4735|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4760
   /test_dir_0036/nonempty_dir2/f1.txt|F|4750|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4754|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4765
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt -100
Tau
EINVAL

dump-result /test_dir_0037
   /test_dir_0037|D|4830
   /test_dir_0037/empty_dir1|D|4835
   /test_dir_0037/empty_dir2|D|4840
   /test_dir_0037/nonempty_dir1|D|4845
   /test_dir_0037/nonempty_dir2|D|4871
   /test_dir_0037/nonempty_dir1/d2|D|4854
   /test_dir_0037/nonempty_dir1/f1.txt|F|4850|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4866
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4859|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4887
   /test_dir_0037/nonempty_dir2/f1.txt|F|4876|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0037/nonempty_dir2/f2.txt|F|4880|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4892
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0038
   /test_dir_0038|D|4957
   /test_dir_0038/empty_dir1|D|4962
   /test_dir_0038/empty_dir2|D|4967
   /test_dir_0038/nonempty_dir1|D|4972
   /test_dir_0038/nonempty_dir2|D|4999
   /test_dir_0038/nonempty_dir1/d2|D|4983
   /test_dir_0038/nonempty_dir1/f1.txt|F|4978|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4994
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4988|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|5015
   /test_dir_0038/nonempty_dir2/f1.txt|F|5003|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|5008|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|5020
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt -100
Tau
EINVAL

dump-result /test_dir_0039
   /test_dir_0039|D|5081
   /test_dir_0039/empty_dir1|D|5086
   /test_dir_0039/empty_dir2|D|5092
   /test_dir_0039/nonempty_dir1|D|5098
   /test_dir_0039/nonempty_dir2|D|5125
   /test_dir_0039/nonempty_dir1/d2|D|5108
   /test_dir_0039/nonempty_dir1/f1.txt|F|5104|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|5118
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|5112|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|5142
   /test_dir_0039/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|5134|1000|399f5ffef7a3ffbb2de9b4a80f09cb13f6d2a697
   /test_dir_0039/nonempty_dir2/d2/d3|D|5147
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ -100
Tau
EINVAL

dump-result /test_dir_0040
   /test_dir_0040|D|5207
   /test_dir_0040/empty_dir1|D|5212
   /test_dir_0040/empty_dir2|D|5218
   /test_dir_0040/nonempty_dir1|D|5225
   /test_dir_0040/nonempty_dir2|D|5251
   /test_dir_0040/nonempty_dir1/d2|D|5237
   /test_dir_0040/nonempty_dir1/f1.txt|F|5230|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5246
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5241|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5269
   /test_dir_0040/nonempty_dir2/f1.txt|F|5256|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5262|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5275
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 -100
Tau
EINVAL

dump-result /test_dir_0041
   /test_dir_0041|D|5332
   /test_dir_0041/empty_dir1|D|5336
   /test_dir_0041/empty_dir2|D|5343
   /test_dir_0041/nonempty_dir1|D|5349
   /test_dir_0041/nonempty_dir2|D|5376
   /test_dir_0041/nonempty_dir1/d2|D|5361
   /test_dir_0041/nonempty_dir1/f1.txt|F|5355|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5372
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5366|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5393
   /test_dir_0041/nonempty_dir2/f1.txt|F|5381|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5386|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5399
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ -100
Tau
EINVAL

dump-result /test_dir_0042
   /test_dir_0042|D|5459
   /test_dir_0042/empty_dir1|D|5463
   /test_dir_0042/empty_dir2|D|5468
   /test_dir_0042/nonempty_dir1|D|5475
   /test_dir_0042/nonempty_dir2|D|5502
   /test_dir_0042/nonempty_dir1/d2|D|5485
   /test_dir_0042/nonempty_dir1/f1.txt|F|5480|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5496
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5490|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5517
   /test_dir_0042/nonempty_dir2/f1.txt|F|5506|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5511|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5523
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 -100
Tau
EINVAL

dump-result /test_dir_0043
   /test_dir_0043|D|5585
   /test_dir_0043/empty_dir1|D|5590
   /test_dir_0043/empty_dir2|D|5595
   /test_dir_0043/nonempty_dir1|D|5599
   /test_dir_0043/nonempty_dir2|D|5622
   /test_dir_0043/nonempty_dir1/d2|D|5607
   /test_dir_0043/nonempty_dir1/f1.txt|F|5603|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5618
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5612|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5634
   /test_dir_0043/nonempty_dir2/f1.txt|F|5625|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5629|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5639
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ -100
Tau
EINVAL

dump-result /test_dir_0044
   /test_dir_0044|D|5692
   /test_dir_0044/empty_dir1|D|5696
   /test_dir_0044/empty_dir2|D|5701
   /test_dir_0044/nonempty_dir1|D|5707
   /test_dir_0044/nonempty_dir2|D|5731
   /test_dir_0044/nonempty_dir1/d2|D|5717
   /test_dir_0044/nonempty_dir1/f1.txt|F|5712|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5727
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5721|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5743
   /test_dir_0044/nonempty_dir2/f1.txt|F|5734|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5737|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5745
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 -100
Tau
EINVAL

dump-result /test_dir_0045
   /test_dir_0045|D|5797
   /test_dir_0045/empty_dir1|D|5801
   /test_dir_0045/empty_dir2|D|5804
   /test_dir_0045/nonempty_dir1|D|5808
   /test_dir_0045/nonempty_dir2|D|5821
   /test_dir_0045/nonempty_dir1/d2|D|5813
   /test_dir_0045/nonempty_dir1/f1.txt|F|5810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5820
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5816|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5827
   /test_dir_0045/nonempty_dir2/f1.txt|F|5823|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5825|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5829
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ -100
Tau
EINVAL

dump-result /test_dir_0046
   /test_dir_0046|D|5871
   /test_dir_0046/empty_dir1|D|5875
   /test_dir_0046/empty_dir2|D|5879
   /test_dir_0046/nonempty_dir1|D|5883
   /test_dir_0046/nonempty_dir2|D|5895
   /test_dir_0046/nonempty_dir1/d2|D|5889
   /test_dir_0046/nonempty_dir1/f1.txt|F|5885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5893
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5891|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5901
   /test_dir_0046/nonempty_dir2/f1.txt|F|5897|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5902
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


