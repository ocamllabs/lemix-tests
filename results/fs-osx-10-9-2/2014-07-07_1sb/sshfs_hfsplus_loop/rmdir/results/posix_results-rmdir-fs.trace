#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
RV_none

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir empty_dir1
Tau
RV_none

dump-result /test_dir_0001
   /test_dir_0001|D|128
   /test_dir_0001/empty_dir2|D|136
   /test_dir_0001/nonempty_dir1|D|140
   /test_dir_0001/nonempty_dir2|D|153
   /test_dir_0001/nonempty_dir1/d2|D|145
   /test_dir_0001/nonempty_dir1/f1.txt|F|142|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|151
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|148|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|159
   /test_dir_0001/nonempty_dir2/f1.txt|F|155|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|157|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|161
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
RV_none

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir empty_dir1/
Tau
RV_none

dump-result /test_dir_0002
   /test_dir_0002|D|214
   /test_dir_0002/empty_dir2|D|225
   /test_dir_0002/nonempty_dir1|D|230
   /test_dir_0002/nonempty_dir2|D|250
   /test_dir_0002/nonempty_dir1/d2|D|238
   /test_dir_0002/nonempty_dir1/f1.txt|F|234|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|248
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|243|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|261
   /test_dir_0002/nonempty_dir2/f1.txt|F|254|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|257|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|265
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
RV_none

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir empty_dir2
Tau
RV_none

dump-result /test_dir_0003
   /test_dir_0003|D|330
   /test_dir_0003/empty_dir1|D|335
   /test_dir_0003/nonempty_dir1|D|349
   /test_dir_0003/nonempty_dir2|D|375
   /test_dir_0003/nonempty_dir1/d2|D|358
   /test_dir_0003/nonempty_dir1/f1.txt|F|353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|369
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|364|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|387
   /test_dir_0003/nonempty_dir2/f1.txt|F|378|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|382|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|390
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
RV_none

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir empty_dir2/
Tau
RV_none

dump-result /test_dir_0004
   /test_dir_0004|D|457
   /test_dir_0004/empty_dir1|D|462
   /test_dir_0004/nonempty_dir1|D|476
   /test_dir_0004/nonempty_dir2|D|500
   /test_dir_0004/nonempty_dir1/d2|D|487
   /test_dir_0004/nonempty_dir1/f1.txt|F|481|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|498
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|492|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|513
   /test_dir_0004/nonempty_dir2/f1.txt|F|504|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|508|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|516
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
RV_none

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1
Tau
ENOTEMPTY

dump-result /test_dir_0005
   /test_dir_0005|D|578
   /test_dir_0005/empty_dir1|D|584
   /test_dir_0005/empty_dir2|D|590
   /test_dir_0005/nonempty_dir1|D|598
   /test_dir_0005/nonempty_dir2|D|624
   /test_dir_0005/nonempty_dir1/d2|D|608
   /test_dir_0005/nonempty_dir1/f1.txt|F|603|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|621
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|614|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|636
   /test_dir_0005/nonempty_dir2/f1.txt|F|628|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|632|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|640
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
RV_none

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/
Tau
ENOTEMPTY

dump-result /test_dir_0006
   /test_dir_0006|D|699
   /test_dir_0006/empty_dir1|D|705
   /test_dir_0006/empty_dir2|D|711
   /test_dir_0006/nonempty_dir1|D|718
   /test_dir_0006/nonempty_dir2|D|749
   /test_dir_0006/nonempty_dir1/d2|D|731
   /test_dir_0006/nonempty_dir1/f1.txt|F|725|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|743
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|735|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|762
   /test_dir_0006/nonempty_dir2/f1.txt|F|752|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|757|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|766
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
RV_none

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2
Tau
ENOTEMPTY

dump-result /test_dir_0007
   /test_dir_0007|D|829
   /test_dir_0007/empty_dir1|D|836
   /test_dir_0007/empty_dir2|D|843
   /test_dir_0007/nonempty_dir1|D|849
   /test_dir_0007/nonempty_dir2|D|877
   /test_dir_0007/nonempty_dir1/d2|D|860
   /test_dir_0007/nonempty_dir1/f1.txt|F|855|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|872
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|863|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|890
   /test_dir_0007/nonempty_dir2/f1.txt|F|880|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|885|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|894
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
RV_none

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/
Tau
ENOTEMPTY

dump-result /test_dir_0008
   /test_dir_0008|D|956
   /test_dir_0008/empty_dir1|D|962
   /test_dir_0008/empty_dir2|D|968
   /test_dir_0008/nonempty_dir1|D|974
   /test_dir_0008/nonempty_dir2|D|1003
   /test_dir_0008/nonempty_dir1/d2|D|985
   /test_dir_0008/nonempty_dir1/f1.txt|F|980|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|997
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|990|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1017
   /test_dir_0008/nonempty_dir2/f1.txt|F|1007|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1011|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1021
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
RV_none

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/broken_sl/nonexist_6
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1087
   /test_dir_0009/empty_dir1|D|1093
   /test_dir_0009/empty_dir2|D|1100
   /test_dir_0009/nonempty_dir1|D|1106
   /test_dir_0009/nonempty_dir2|D|1133
   /test_dir_0009/nonempty_dir1/d2|D|1116
   /test_dir_0009/nonempty_dir1/f1.txt|F|1111|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1127
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1122|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1146
   /test_dir_0009/nonempty_dir2/f1.txt|F|1137|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1141|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1150
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
RV_none

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/broken_sl/nonexist_6/
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1214
   /test_dir_0010/empty_dir1|D|1221
   /test_dir_0010/empty_dir2|D|1225
   /test_dir_0010/nonempty_dir1|D|1231
   /test_dir_0010/nonempty_dir2|D|1259
   /test_dir_0010/nonempty_dir1/d2|D|1242
   /test_dir_0010/nonempty_dir1/f1.txt|F|1237|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1254
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1247|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1271
   /test_dir_0010/nonempty_dir2/f1.txt|F|1263|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1267|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1276
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
RV_none

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/d3
Tau
RV_none

dump-result /test_dir_0011
   /test_dir_0011|D|1336
   /test_dir_0011/empty_dir1|D|1342
   /test_dir_0011/empty_dir2|D|1350
   /test_dir_0011/nonempty_dir1|D|1356
   /test_dir_0011/nonempty_dir2|D|1385
   /test_dir_0011/nonempty_dir1/d2|D|1366
   /test_dir_0011/nonempty_dir1/f1.txt|F|1360|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1372|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1398
   /test_dir_0011/nonempty_dir2/f1.txt|F|1388|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1392|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1400
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
RV_none

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/d3/
Tau
RV_none

dump-result /test_dir_0012
   /test_dir_0012|D|1462
   /test_dir_0012/empty_dir1|D|1468
   /test_dir_0012/empty_dir2|D|1476
   /test_dir_0012/nonempty_dir1|D|1481
   /test_dir_0012/nonempty_dir2|D|1510
   /test_dir_0012/nonempty_dir1/d2|D|1491
   /test_dir_0012/nonempty_dir1/f1.txt|F|1487|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1496|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1523
   /test_dir_0012/nonempty_dir2/f1.txt|F|1514|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1518|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1525
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
RV_none

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/f3.txt
Tau
ENOTDIR

dump-result /test_dir_0013
   /test_dir_0013|D|1586
   /test_dir_0013/empty_dir1|D|1591
   /test_dir_0013/empty_dir2|D|1598
   /test_dir_0013/nonempty_dir1|D|1608
   /test_dir_0013/nonempty_dir2|D|1636
   /test_dir_0013/nonempty_dir1/d2|D|1616
   /test_dir_0013/nonempty_dir1/f1.txt|F|1611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1631
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1622|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1649
   /test_dir_0013/nonempty_dir2/f1.txt|F|1640|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1645|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1652
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
RV_none

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/f3.txt/
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|1714
   /test_dir_0014/empty_dir1|D|1721
   /test_dir_0014/empty_dir2|D|1728
   /test_dir_0014/nonempty_dir1|D|1734
   /test_dir_0014/nonempty_dir2|D|1761
   /test_dir_0014/nonempty_dir1/d2|D|1744
   /test_dir_0014/nonempty_dir1/f1.txt|F|1738|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1758
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1749|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1776
   /test_dir_0014/nonempty_dir2/f1.txt|F|1767|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1772|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1781
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
RV_none

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/sl_dotdot_d2
Tau
ENOTDIR

dump-result /test_dir_0015
   /test_dir_0015|D|1841
   /test_dir_0015/empty_dir1|D|1847
   /test_dir_0015/empty_dir2|D|1856
   /test_dir_0015/nonempty_dir1|D|1860
   /test_dir_0015/nonempty_dir2|D|1890
   /test_dir_0015/nonempty_dir1/d2|D|1872
   /test_dir_0015/nonempty_dir1/f1.txt|F|1866|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|1884
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|1877|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|1903
   /test_dir_0015/nonempty_dir2/f1.txt|F|1894|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|1899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|1907
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
RV_none

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/sl_dotdot_d2/
Tau
ENOTEMPTY

dump-result /test_dir_0016
   /test_dir_0016|D|1967
   /test_dir_0016/empty_dir1|D|1973
   /test_dir_0016/empty_dir2|D|1979
   /test_dir_0016/nonempty_dir1|D|1985
   /test_dir_0016/nonempty_dir2|D|2014
   /test_dir_0016/nonempty_dir1/d2|D|1996
   /test_dir_0016/nonempty_dir1/f1.txt|F|1990|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2008
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2002|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2028
   /test_dir_0016/nonempty_dir2/f1.txt|F|2019|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2024|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2032
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
RV_none

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
ENOTDIR

dump-result /test_dir_0017
   /test_dir_0017|D|2093
   /test_dir_0017/empty_dir1|D|2099
   /test_dir_0017/empty_dir2|D|2105
   /test_dir_0017/nonempty_dir1|D|2111
   /test_dir_0017/nonempty_dir2|D|2139
   /test_dir_0017/nonempty_dir1/d2|D|2121
   /test_dir_0017/nonempty_dir1/f1.txt|F|2115|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2134
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2127|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2154
   /test_dir_0017/nonempty_dir2/f1.txt|F|2144|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2149|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2159
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
RV_none

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/sl_dotdot_f1.txt/
Tau
ENOTDIR

dump-result /test_dir_0018
   /test_dir_0018|D|2215
   /test_dir_0018/empty_dir1|D|2220
   /test_dir_0018/empty_dir2|D|2229
   /test_dir_0018/nonempty_dir1|D|2236
   /test_dir_0018/nonempty_dir2|D|2264
   /test_dir_0018/nonempty_dir1/d2|D|2246
   /test_dir_0018/nonempty_dir1/f1.txt|F|2240|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2258
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2251|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2279
   /test_dir_0018/nonempty_dir2/f1.txt|F|2269|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2273|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2283
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
RV_none

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/sl_no_such_target
Tau
ENOTDIR

dump-result /test_dir_0019
   /test_dir_0019|D|2339
   /test_dir_0019/empty_dir1|D|2343
   /test_dir_0019/empty_dir2|D|2350
   /test_dir_0019/nonempty_dir1|D|2358
   /test_dir_0019/nonempty_dir2|D|2389
   /test_dir_0019/nonempty_dir1/d2|D|2370
   /test_dir_0019/nonempty_dir1/f1.txt|F|2363|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2382
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2373|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2404
   /test_dir_0019/nonempty_dir2/f1.txt|F|2394|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2399|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2408
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
RV_none

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/d2/sl_no_such_target/
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2463
   /test_dir_0020/empty_dir1|D|2468
   /test_dir_0020/empty_dir2|D|2474
   /test_dir_0020/nonempty_dir1|D|2482
   /test_dir_0020/nonempty_dir2|D|2511
   /test_dir_0020/nonempty_dir1/d2|D|2493
   /test_dir_0020/nonempty_dir1/f1.txt|F|2488|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2505
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2498|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2528
   /test_dir_0020/nonempty_dir2/f1.txt|F|2517|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2523|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2531
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
RV_none

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/f1.txt
Tau
ENOTDIR

dump-result /test_dir_0021
   /test_dir_0021|D|2586
   /test_dir_0021/empty_dir1|D|2591
   /test_dir_0021/empty_dir2|D|2598
   /test_dir_0021/nonempty_dir1|D|2605
   /test_dir_0021/nonempty_dir2|D|2633
   /test_dir_0021/nonempty_dir1/d2|D|2615
   /test_dir_0021/nonempty_dir1/f1.txt|F|2609|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2627
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2621|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2651
   /test_dir_0021/nonempty_dir2/f1.txt|F|2639|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2645|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2655
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
RV_none

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/f1.txt/
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2709
   /test_dir_0022/empty_dir1|D|2715
   /test_dir_0022/empty_dir2|D|2719
   /test_dir_0022/nonempty_dir1|D|2726
   /test_dir_0022/nonempty_dir2|D|2754
   /test_dir_0022/nonempty_dir1/d2|D|2736
   /test_dir_0022/nonempty_dir1/f1.txt|F|2731|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2748
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2741|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2771
   /test_dir_0022/nonempty_dir2/f1.txt|F|2760|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2766|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|2776
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
RV_none

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/f1.txt/nonexist_5
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|2833
   /test_dir_0023/empty_dir1|D|2837
   /test_dir_0023/empty_dir2|D|2842
   /test_dir_0023/nonempty_dir1|D|2847
   /test_dir_0023/nonempty_dir2|D|2879
   /test_dir_0023/nonempty_dir1/d2|D|2859
   /test_dir_0023/nonempty_dir1/f1.txt|F|2853|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|2872
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|2865|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|2898
   /test_dir_0023/nonempty_dir2/f1.txt|F|2883|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|2889|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|2902
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
RV_none

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/f1.txt/nonexist_5/
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|2959
   /test_dir_0024/empty_dir1|D|2964
   /test_dir_0024/empty_dir2|D|2968
   /test_dir_0024/nonempty_dir1|D|2974
   /test_dir_0024/nonempty_dir2|D|3008
   /test_dir_0024/nonempty_dir1/d2|D|2984
   /test_dir_0024/nonempty_dir1/f1.txt|F|2980|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3001
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|2991|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3027
   /test_dir_0024/nonempty_dir2/f1.txt|F|3013|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3019|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3030
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
RV_none

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/nonexist_4
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3085
   /test_dir_0025/empty_dir1|D|3090
   /test_dir_0025/empty_dir2|D|3097
   /test_dir_0025/nonempty_dir1|D|3103
   /test_dir_0025/nonempty_dir2|D|3135
   /test_dir_0025/nonempty_dir1/d2|D|3114
   /test_dir_0025/nonempty_dir1/f1.txt|F|3108|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3129
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3120|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3152
   /test_dir_0025/nonempty_dir2/f1.txt|F|3140|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3146|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3157
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
RV_none

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/nonexist_4/
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3212
   /test_dir_0026/empty_dir1|D|3216
   /test_dir_0026/empty_dir2|D|3220
   /test_dir_0026/nonempty_dir1|D|3227
   /test_dir_0026/nonempty_dir2|D|3259
   /test_dir_0026/nonempty_dir1/d2|D|3239
   /test_dir_0026/nonempty_dir1/f1.txt|F|3232|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3251
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3244|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3276
   /test_dir_0026/nonempty_dir2/f1.txt|F|3264|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3280
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
RV_none

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/sl_f1.txt
Tau
ENOTDIR

dump-result /test_dir_0027
   /test_dir_0027|D|3334
   /test_dir_0027/empty_dir1|D|3339
   /test_dir_0027/empty_dir2|D|3344
   /test_dir_0027/nonempty_dir1|D|3349
   /test_dir_0027/nonempty_dir2|D|3379
   /test_dir_0027/nonempty_dir1/d2|D|3359
   /test_dir_0027/nonempty_dir1/f1.txt|F|3353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3372
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3365|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3400
   /test_dir_0027/nonempty_dir2/f1.txt|F|3385|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3392|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3403
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
RV_none

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir1/sl_f1.txt/
Tau
ENOTDIR

dump-result /test_dir_0028
   /test_dir_0028|D|3459
   /test_dir_0028/empty_dir1|D|3463
   /test_dir_0028/empty_dir2|D|3468
   /test_dir_0028/nonempty_dir1|D|3474
   /test_dir_0028/nonempty_dir2|D|3502
   /test_dir_0028/nonempty_dir1/d2|D|3483
   /test_dir_0028/nonempty_dir1/f1.txt|F|3479|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3496
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3488|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3521
   /test_dir_0028/nonempty_dir2/f1.txt|F|3508|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3515|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3526
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
RV_none

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2
Tau
ENOTEMPTY

dump-result /test_dir_0029
   /test_dir_0029|D|3588
   /test_dir_0029/empty_dir1|D|3592
   /test_dir_0029/empty_dir2|D|3598
   /test_dir_0029/nonempty_dir1|D|3603
   /test_dir_0029/nonempty_dir2|D|3633
   /test_dir_0029/nonempty_dir1/d2|D|3613
   /test_dir_0029/nonempty_dir1/f1.txt|F|3607|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3625
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3619|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3651
   /test_dir_0029/nonempty_dir2/f1.txt|F|3639|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3644|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3656
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
RV_none

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/
Tau
ENOTEMPTY

dump-result /test_dir_0030
   /test_dir_0030|D|3715
   /test_dir_0030/empty_dir1|D|3720
   /test_dir_0030/empty_dir2|D|3726
   /test_dir_0030/nonempty_dir1|D|3731
   /test_dir_0030/nonempty_dir2|D|3760
   /test_dir_0030/nonempty_dir1/d2|D|3740
   /test_dir_0030/nonempty_dir1/f1.txt|F|3735|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3752
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3745|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3778
   /test_dir_0030/nonempty_dir2/f1.txt|F|3765|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3771|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3782
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
RV_none

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/d2
Tau
ENOTEMPTY

dump-result /test_dir_0031
   /test_dir_0031|D|3842
   /test_dir_0031/empty_dir1|D|3847
   /test_dir_0031/empty_dir2|D|3852
   /test_dir_0031/nonempty_dir1|D|3856
   /test_dir_0031/nonempty_dir2|D|3884
   /test_dir_0031/nonempty_dir1/d2|D|3866
   /test_dir_0031/nonempty_dir1/f1.txt|F|3860|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|3878
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|3871|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|3901
   /test_dir_0031/nonempty_dir2/f1.txt|F|3889|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|3895|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|3906
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
RV_none

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/d2/
Tau
ENOTEMPTY

dump-result /test_dir_0032
   /test_dir_0032|D|3968
   /test_dir_0032/empty_dir1|D|3974
   /test_dir_0032/empty_dir2|D|3979
   /test_dir_0032/nonempty_dir1|D|3983
   /test_dir_0032/nonempty_dir2|D|4011
   /test_dir_0032/nonempty_dir1/d2|D|3993
   /test_dir_0032/nonempty_dir1/f1.txt|F|3988|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4005
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|3999|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4028
   /test_dir_0032/nonempty_dir2/f1.txt|F|4015|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4021|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4032
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
RV_none

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/d2/d3
Tau
RV_none

dump-result /test_dir_0033
   /test_dir_0033|D|4095
   /test_dir_0033/empty_dir1|D|4100
   /test_dir_0033/empty_dir2|D|4105
   /test_dir_0033/nonempty_dir1|D|4110
   /test_dir_0033/nonempty_dir2|D|4137
   /test_dir_0033/nonempty_dir1/d2|D|4120
   /test_dir_0033/nonempty_dir1/f1.txt|F|4115|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4132
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4124|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4154
   /test_dir_0033/nonempty_dir2/f1.txt|F|4142|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4148|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
RV_none

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/d2/d3/
Tau
RV_none

dump-result /test_dir_0034
   /test_dir_0034|D|4221
   /test_dir_0034/empty_dir1|D|4227
   /test_dir_0034/empty_dir2|D|4232
   /test_dir_0034/nonempty_dir1|D|4235
   /test_dir_0034/nonempty_dir2|D|4264
   /test_dir_0034/nonempty_dir1/d2|D|4246
   /test_dir_0034/nonempty_dir1/f1.txt|F|4241|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4259
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4250|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4280
   /test_dir_0034/nonempty_dir2/f1.txt|F|4270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4275|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
RV_none

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/d2/sl_f3.txt
Tau
ENOTDIR

dump-result /test_dir_0035
   /test_dir_0035|D|4346
   /test_dir_0035/empty_dir1|D|4350
   /test_dir_0035/empty_dir2|D|4356
   /test_dir_0035/nonempty_dir1|D|4361
   /test_dir_0035/nonempty_dir2|D|4389
   /test_dir_0035/nonempty_dir1/d2|D|4369
   /test_dir_0035/nonempty_dir1/f1.txt|F|4365|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4382
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4374|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4406
   /test_dir_0035/nonempty_dir2/f1.txt|F|4393|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4399|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4411
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
RV_none

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/d2/sl_f3.txt/
Tau
ENOTDIR

dump-result /test_dir_0036
   /test_dir_0036|D|4470
   /test_dir_0036/empty_dir1|D|4475
   /test_dir_0036/empty_dir2|D|4480
   /test_dir_0036/nonempty_dir1|D|4485
   /test_dir_0036/nonempty_dir2|D|4511
   /test_dir_0036/nonempty_dir1/d2|D|4494
   /test_dir_0036/nonempty_dir1/f1.txt|F|4489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4505
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4498|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4528
   /test_dir_0036/nonempty_dir2/f1.txt|F|4515|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4518|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4533
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
RV_none

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/f1.txt
Tau
ENOTDIR

dump-result /test_dir_0037
   /test_dir_0037|D|4598
   /test_dir_0037/empty_dir1|D|4603
   /test_dir_0037/empty_dir2|D|4608
   /test_dir_0037/nonempty_dir1|D|4612
   /test_dir_0037/nonempty_dir2|D|4637
   /test_dir_0037/nonempty_dir1/d2|D|4620
   /test_dir_0037/nonempty_dir1/f1.txt|F|4615|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4632
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4625|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4652
   /test_dir_0037/nonempty_dir2/f1.txt|F|4641|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir2/f2.txt|F|4646|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4657
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
RV_none

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/f1.txt/
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4724
   /test_dir_0038/empty_dir1|D|4727
   /test_dir_0038/empty_dir2|D|4734
   /test_dir_0038/nonempty_dir1|D|4739
   /test_dir_0038/nonempty_dir2|D|4762
   /test_dir_0038/nonempty_dir1/d2|D|4747
   /test_dir_0038/nonempty_dir1/f1.txt|F|4743|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4758
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4751|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4779
   /test_dir_0038/nonempty_dir2/f1.txt|F|4766|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4771|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4783
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
RV_none

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/f2.txt
Tau
ENOTDIR

dump-result /test_dir_0039
   /test_dir_0039|D|4847
   /test_dir_0039/empty_dir1|D|4852
   /test_dir_0039/empty_dir2|D|4857
   /test_dir_0039/nonempty_dir1|D|4862
   /test_dir_0039/nonempty_dir2|D|4889
   /test_dir_0039/nonempty_dir1/d2|D|4872
   /test_dir_0039/nonempty_dir1/f1.txt|F|4868|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|4882
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4875|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|4904
   /test_dir_0039/nonempty_dir2/f1.txt|F|4894|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4899|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0039/nonempty_dir2/d2/d3|D|4909
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
RV_none

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonempty_dir2/f2.txt/
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4973
   /test_dir_0040/empty_dir1|D|4979
   /test_dir_0040/empty_dir2|D|4985
   /test_dir_0040/nonempty_dir1|D|4990
   /test_dir_0040/nonempty_dir2|D|5013
   /test_dir_0040/nonempty_dir1/d2|D|4997
   /test_dir_0040/nonempty_dir1/f1.txt|F|4992|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5007
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5002|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5032
   /test_dir_0040/nonempty_dir2/f1.txt|F|5019|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5025|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5035
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
RV_none

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonexist_1
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5095
   /test_dir_0041/empty_dir1|D|5101
   /test_dir_0041/empty_dir2|D|5107
   /test_dir_0041/nonempty_dir1|D|5113
   /test_dir_0041/nonempty_dir2|D|5137
   /test_dir_0041/nonempty_dir1/d2|D|5121
   /test_dir_0041/nonempty_dir1/f1.txt|F|5117|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5130
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5124|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5156
   /test_dir_0041/nonempty_dir2/f1.txt|F|5141|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5146|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5160
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
RV_none

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonexist_1/
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5216
   /test_dir_0042/empty_dir1|D|5223
   /test_dir_0042/empty_dir2|D|5229
   /test_dir_0042/nonempty_dir1|D|5235
   /test_dir_0042/nonempty_dir2|D|5261
   /test_dir_0042/nonempty_dir1/d2|D|5243
   /test_dir_0042/nonempty_dir1/f1.txt|F|5239|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5255
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5248|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5279
   /test_dir_0042/nonempty_dir2/f1.txt|F|5266|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5270|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5285
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
RV_none

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonexist_2
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5342
   /test_dir_0043/empty_dir1|D|5346
   /test_dir_0043/empty_dir2|D|5351
   /test_dir_0043/nonempty_dir1|D|5358
   /test_dir_0043/nonempty_dir2|D|5385
   /test_dir_0043/nonempty_dir1/d2|D|5369
   /test_dir_0043/nonempty_dir1/f1.txt|F|5362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5380
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5371|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5402
   /test_dir_0043/nonempty_dir2/f1.txt|F|5390|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5394|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5408
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
RV_none

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonexist_2/
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5467
   /test_dir_0044/empty_dir1|D|5473
   /test_dir_0044/empty_dir2|D|5479
   /test_dir_0044/nonempty_dir1|D|5488
   /test_dir_0044/nonempty_dir2|D|5512
   /test_dir_0044/nonempty_dir1/d2|D|5497
   /test_dir_0044/nonempty_dir1/f1.txt|F|5492|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5508
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5501|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5529
   /test_dir_0044/nonempty_dir2/f1.txt|F|5516|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5522|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5534
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
RV_none

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonexist_dir/nonexist_3
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5594
   /test_dir_0045/empty_dir1|D|5597
   /test_dir_0045/empty_dir2|D|5602
   /test_dir_0045/nonempty_dir1|D|5609
   /test_dir_0045/nonempty_dir2|D|5628
   /test_dir_0045/nonempty_dir1/d2|D|5616
   /test_dir_0045/nonempty_dir1/f1.txt|F|5613|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5624
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5619|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5641
   /test_dir_0045/nonempty_dir2/f1.txt|F|5632|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5636|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5645
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
RV_none

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

rmdir nonexist_dir/nonexist_3/
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5704
   /test_dir_0046/empty_dir1|D|5708
   /test_dir_0046/empty_dir2|D|5715
   /test_dir_0046/nonempty_dir1|D|5719
   /test_dir_0046/nonempty_dir2|D|5739
   /test_dir_0046/nonempty_dir1/d2|D|5726
   /test_dir_0046/nonempty_dir1/f1.txt|F|5723|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5735
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5730|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5751
   /test_dir_0046/nonempty_dir2/f1.txt|F|5742|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5746|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5754
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


