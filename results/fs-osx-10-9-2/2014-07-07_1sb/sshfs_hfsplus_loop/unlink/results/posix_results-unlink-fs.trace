#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
RV_none

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink empty_dir1
Tau
EPERM

dump-result /test_dir_0001
   /test_dir_0001|D|221
   /test_dir_0001/empty_dir1|D|224
   /test_dir_0001/empty_dir2|D|229
   /test_dir_0001/nonempty_dir1|D|236
   /test_dir_0001/nonempty_dir2|D|256
   /test_dir_0001/nonempty_dir1/d2|D|244
   /test_dir_0001/nonempty_dir1/f1.txt|F|239|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|251
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|246|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|268
   /test_dir_0001/nonempty_dir2/f1.txt|F|258|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|262|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|272
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
RV_none

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink empty_dir1/
Tau
EPERM

dump-result /test_dir_0002
   /test_dir_0002|D|340
   /test_dir_0002/empty_dir1|D|347
   /test_dir_0002/empty_dir2|D|355
   /test_dir_0002/nonempty_dir1|D|361
   /test_dir_0002/nonempty_dir2|D|384
   /test_dir_0002/nonempty_dir1/d2|D|372
   /test_dir_0002/nonempty_dir1/f1.txt|F|367|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|380
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|376|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|397
   /test_dir_0002/nonempty_dir2/f1.txt|F|388|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|391|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|401
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
RV_none

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink empty_dir2
Tau
EPERM

dump-result /test_dir_0003
   /test_dir_0003|D|466
   /test_dir_0003/empty_dir1|D|473
   /test_dir_0003/empty_dir2|D|479
   /test_dir_0003/nonempty_dir1|D|483
   /test_dir_0003/nonempty_dir2|D|506
   /test_dir_0003/nonempty_dir1/d2|D|493
   /test_dir_0003/nonempty_dir1/f1.txt|F|489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|501
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|496|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|518
   /test_dir_0003/nonempty_dir2/f1.txt|F|510|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|512|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|523
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
RV_none

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink empty_dir2/
Tau
EPERM

dump-result /test_dir_0004
   /test_dir_0004|D|594
   /test_dir_0004/empty_dir1|D|600
   /test_dir_0004/empty_dir2|D|606
   /test_dir_0004/nonempty_dir1|D|613
   /test_dir_0004/nonempty_dir2|D|635
   /test_dir_0004/nonempty_dir1/d2|D|622
   /test_dir_0004/nonempty_dir1/f1.txt|F|617|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|631
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|626|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|647
   /test_dir_0004/nonempty_dir2/f1.txt|F|638|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|642|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|652
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
RV_none

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1
Tau
EPERM

dump-result /test_dir_0005
   /test_dir_0005|D|713
   /test_dir_0005/empty_dir1|D|721
   /test_dir_0005/empty_dir2|D|728
   /test_dir_0005/nonempty_dir1|D|734
   /test_dir_0005/nonempty_dir2|D|760
   /test_dir_0005/nonempty_dir1/d2|D|745
   /test_dir_0005/nonempty_dir1/f1.txt|F|740|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|756
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|748|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|772
   /test_dir_0005/nonempty_dir2/f1.txt|F|763|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|767|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|776
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
RV_none

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/
Tau
EPERM

dump-result /test_dir_0006
   /test_dir_0006|D|841
   /test_dir_0006/empty_dir1|D|848
   /test_dir_0006/empty_dir2|D|854
   /test_dir_0006/nonempty_dir1|D|861
   /test_dir_0006/nonempty_dir2|D|887
   /test_dir_0006/nonempty_dir1/d2|D|873
   /test_dir_0006/nonempty_dir1/f1.txt|F|867|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|883
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|876|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|900
   /test_dir_0006/nonempty_dir2/f1.txt|F|891|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|895|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|905
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
RV_none

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2
Tau
EPERM

dump-result /test_dir_0007
   /test_dir_0007|D|970
   /test_dir_0007/empty_dir1|D|975
   /test_dir_0007/empty_dir2|D|982
   /test_dir_0007/nonempty_dir1|D|988
   /test_dir_0007/nonempty_dir2|D|1013
   /test_dir_0007/nonempty_dir1/d2|D|998
   /test_dir_0007/nonempty_dir1/f1.txt|F|993|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1008
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1002|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1024
   /test_dir_0007/nonempty_dir2/f1.txt|F|1016|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1019|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1028
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
RV_none

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/
Tau
EPERM

dump-result /test_dir_0008
   /test_dir_0008|D|1090
   /test_dir_0008/empty_dir1|D|1097
   /test_dir_0008/empty_dir2|D|1103
   /test_dir_0008/nonempty_dir1|D|1110
   /test_dir_0008/nonempty_dir2|D|1135
   /test_dir_0008/nonempty_dir1/d2|D|1120
   /test_dir_0008/nonempty_dir1/f1.txt|F|1115|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1130
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1125|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1148
   /test_dir_0008/nonempty_dir2/f1.txt|F|1140|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1143|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1152
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
RV_none

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/broken_sl/nonexist_6
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1212
   /test_dir_0009/empty_dir1|D|1218
   /test_dir_0009/empty_dir2|D|1226
   /test_dir_0009/nonempty_dir1|D|1232
   /test_dir_0009/nonempty_dir2|D|1260
   /test_dir_0009/nonempty_dir1/d2|D|1244
   /test_dir_0009/nonempty_dir1/f1.txt|F|1238|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1255
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1249|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1275
   /test_dir_0009/nonempty_dir2/f1.txt|F|1265|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1278
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
RV_none

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/broken_sl/nonexist_6/
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1343
   /test_dir_0010/empty_dir1|D|1348
   /test_dir_0010/empty_dir2|D|1354
   /test_dir_0010/nonempty_dir1|D|1362
   /test_dir_0010/nonempty_dir2|D|1390
   /test_dir_0010/nonempty_dir1/d2|D|1373
   /test_dir_0010/nonempty_dir1/f1.txt|F|1367|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1384
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1377|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1403
   /test_dir_0010/nonempty_dir2/f1.txt|F|1394|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1396|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1406
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
RV_none

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/d3
Tau
EPERM

dump-result /test_dir_0011
   /test_dir_0011|D|1470
   /test_dir_0011/empty_dir1|D|1475
   /test_dir_0011/empty_dir2|D|1483
   /test_dir_0011/nonempty_dir1|D|1489
   /test_dir_0011/nonempty_dir2|D|1516
   /test_dir_0011/nonempty_dir1/d2|D|1500
   /test_dir_0011/nonempty_dir1/f1.txt|F|1494|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1511
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1506|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1529
   /test_dir_0011/nonempty_dir2/f1.txt|F|1520|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1524|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1534
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
RV_none

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/d3/
Tau
EPERM

dump-result /test_dir_0012
   /test_dir_0012|D|1593
   /test_dir_0012/empty_dir1|D|1600
   /test_dir_0012/empty_dir2|D|1607
   /test_dir_0012/nonempty_dir1|D|1612
   /test_dir_0012/nonempty_dir2|D|1641
   /test_dir_0012/nonempty_dir1/d2|D|1624
   /test_dir_0012/nonempty_dir1/f1.txt|F|1618|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1634
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1628|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1653
   /test_dir_0012/nonempty_dir2/f1.txt|F|1644|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1648|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1657
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
RV_none

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/f3.txt
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1717
   /test_dir_0013/empty_dir1|D|1724
   /test_dir_0013/empty_dir2|D|1730
   /test_dir_0013/nonempty_dir1|D|1736
   /test_dir_0013/nonempty_dir2|D|1765
   /test_dir_0013/nonempty_dir1/d2|D|1748
   /test_dir_0013/nonempty_dir1/f1.txt|F|1742|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1760
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1778
   /test_dir_0013/nonempty_dir2/f1.txt|F|1769|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1773|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1783
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
RV_none

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/f3.txt/
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|1844
   /test_dir_0014/empty_dir1|D|1851
   /test_dir_0014/empty_dir2|D|1857
   /test_dir_0014/nonempty_dir1|D|1863
   /test_dir_0014/nonempty_dir2|D|1891
   /test_dir_0014/nonempty_dir1/d2|D|1874
   /test_dir_0014/nonempty_dir1/f1.txt|F|1869|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|1886
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|1880|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|1905
   /test_dir_0014/nonempty_dir2/f1.txt|F|1896|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|1900|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|1910
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
RV_none

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

dump-result /test_dir_0015
   /test_dir_0015|D|1969
   /test_dir_0015/empty_dir1|D|1977
   /test_dir_0015/empty_dir2|D|1983
   /test_dir_0015/nonempty_dir1|D|1987
   /test_dir_0015/nonempty_dir2|D|2018
   /test_dir_0015/nonempty_dir1/d2|D|1999
   /test_dir_0015/nonempty_dir1/f1.txt|F|1993|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2012
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2004|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2031
   /test_dir_0015/nonempty_dir2/f1.txt|F|2023|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2026|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2035
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
RV_none

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/sl_dotdot_d2/
Tau
EPERM

dump-result /test_dir_0016
   /test_dir_0016|D|2094
   /test_dir_0016/empty_dir1|D|2100
   /test_dir_0016/empty_dir2|D|2107
   /test_dir_0016/nonempty_dir1|D|2113
   /test_dir_0016/nonempty_dir2|D|2140
   /test_dir_0016/nonempty_dir1/d2|D|2122
   /test_dir_0016/nonempty_dir1/f1.txt|F|2116|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2135
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2128|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2155
   /test_dir_0016/nonempty_dir2/f1.txt|F|2145|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2150|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2160
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
RV_none

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2219
   /test_dir_0017/empty_dir1|D|2224
   /test_dir_0017/empty_dir2|D|2232
   /test_dir_0017/nonempty_dir1|D|2239
   /test_dir_0017/nonempty_dir2|D|2266
   /test_dir_0017/nonempty_dir1/d2|D|2249
   /test_dir_0017/nonempty_dir1/f1.txt|F|2244|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2261
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2254|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2281
   /test_dir_0017/nonempty_dir2/f1.txt|F|2270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2275|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2284
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
RV_none

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/sl_dotdot_f1.txt/
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2352
   /test_dir_0018/empty_dir1|D|2359
   /test_dir_0018/empty_dir2|D|2365
   /test_dir_0018/nonempty_dir1|D|2371
   /test_dir_0018/nonempty_dir2|D|2400
   /test_dir_0018/nonempty_dir1/d2|D|2383
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2395
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2388|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2412
   /test_dir_0018/nonempty_dir2/f1.txt|F|2403|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2407|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2417
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
RV_none

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

dump-result /test_dir_0019
   /test_dir_0019|D|2479
   /test_dir_0019/empty_dir1|D|2486
   /test_dir_0019/empty_dir2|D|2494
   /test_dir_0019/nonempty_dir1|D|2499
   /test_dir_0019/nonempty_dir2|D|2526
   /test_dir_0019/nonempty_dir1/d2|D|2510
   /test_dir_0019/nonempty_dir1/f1.txt|F|2504|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2522
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2514|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir2/d2|D|2539
   /test_dir_0019/nonempty_dir2/f1.txt|F|2530|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2534|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2544
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
RV_none

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/d2/sl_no_such_target/
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2607
   /test_dir_0020/empty_dir1|D|2613
   /test_dir_0020/empty_dir2|D|2619
   /test_dir_0020/nonempty_dir1|D|2624
   /test_dir_0020/nonempty_dir2|D|2652
   /test_dir_0020/nonempty_dir1/d2|D|2636
   /test_dir_0020/nonempty_dir1/f1.txt|F|2630|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2647
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2640|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2665
   /test_dir_0020/nonempty_dir2/f1.txt|F|2656|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2660|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2669
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
RV_none

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/f1.txt
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2733
   /test_dir_0021/empty_dir1|D|2737
   /test_dir_0021/empty_dir2|D|2746
   /test_dir_0021/nonempty_dir1|D|2752
   /test_dir_0021/nonempty_dir2|D|2779
   /test_dir_0021/nonempty_dir1/d2|D|2762
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2774
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2767|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2791
   /test_dir_0021/nonempty_dir2/f1.txt|F|2782|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2786|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2796
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
RV_none

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/f1.txt/
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2863
   /test_dir_0022/empty_dir1|D|2868
   /test_dir_0022/empty_dir2|D|2875
   /test_dir_0022/nonempty_dir1|D|2881
   /test_dir_0022/nonempty_dir2|D|2906
   /test_dir_0022/nonempty_dir1/d2|D|2891
   /test_dir_0022/nonempty_dir1/f1.txt|F|2887|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|2901
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|2894|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|2918
   /test_dir_0022/nonempty_dir2/f1.txt|F|2909|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|2913|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|2922
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
RV_none

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/f1.txt/nonexist_5
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|2990
   /test_dir_0023/empty_dir1|D|2995
   /test_dir_0023/empty_dir2|D|3002
   /test_dir_0023/nonempty_dir1|D|3009
   /test_dir_0023/nonempty_dir2|D|3035
   /test_dir_0023/nonempty_dir1/d2|D|3020
   /test_dir_0023/nonempty_dir1/f1.txt|F|3014|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3031
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3024|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3047
   /test_dir_0023/nonempty_dir2/f1.txt|F|3039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3042|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3051
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
RV_none

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/f1.txt/nonexist_5/
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3118
   /test_dir_0024/empty_dir1|D|3125
   /test_dir_0024/empty_dir2|D|3133
   /test_dir_0024/nonempty_dir1|D|3139
   /test_dir_0024/nonempty_dir2|D|3165
   /test_dir_0024/nonempty_dir1/d2|D|3148
   /test_dir_0024/nonempty_dir1/f1.txt|F|3142|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3159
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3153|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3175
   /test_dir_0024/nonempty_dir2/f1.txt|F|3167|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3171|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3178
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
RV_none

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/nonexist_4
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3248
   /test_dir_0025/empty_dir1|D|3254
   /test_dir_0025/empty_dir2|D|3261
   /test_dir_0025/nonempty_dir1|D|3267
   /test_dir_0025/nonempty_dir2|D|3292
   /test_dir_0025/nonempty_dir1/d2|D|3278
   /test_dir_0025/nonempty_dir1/f1.txt|F|3273|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3287
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3283|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3302
   /test_dir_0025/nonempty_dir2/f1.txt|F|3295|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3298|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3304
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
RV_none

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/nonexist_4/
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3377
   /test_dir_0026/empty_dir1|D|3383
   /test_dir_0026/empty_dir2|D|3389
   /test_dir_0026/nonempty_dir1|D|3395
   /test_dir_0026/nonempty_dir2|D|3417
   /test_dir_0026/nonempty_dir1/d2|D|3404
   /test_dir_0026/nonempty_dir1/f1.txt|F|3401|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3415
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3409|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3428
   /test_dir_0026/nonempty_dir2/f1.txt|F|3421|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3425|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3430
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
RV_none

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/sl_f1.txt
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3503
   /test_dir_0027/empty_dir1|D|3510
   /test_dir_0027/empty_dir2|D|3516
   /test_dir_0027/nonempty_dir1|D|3522
   /test_dir_0027/nonempty_dir2|D|3544
   /test_dir_0027/nonempty_dir1/d2|D|3531
   /test_dir_0027/nonempty_dir1/f1.txt|F|3527|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir1/d2/d3|D|3540
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3535|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3554
   /test_dir_0027/nonempty_dir2/f1.txt|F|3548|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3551|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3557
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
RV_none

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir1/sl_f1.txt/
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3630
   /test_dir_0028/empty_dir1|D|3637
   /test_dir_0028/empty_dir2|D|3641
   /test_dir_0028/nonempty_dir1|D|3647
   /test_dir_0028/nonempty_dir2|D|3671
   /test_dir_0028/nonempty_dir1/d2|D|3657
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3667
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3662|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3682
   /test_dir_0028/nonempty_dir2/f1.txt|F|3674|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3677|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3684
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
RV_none

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2
Tau
EPERM

dump-result /test_dir_0029
   /test_dir_0029|D|3758
   /test_dir_0029/empty_dir1|D|3764
   /test_dir_0029/empty_dir2|D|3770
   /test_dir_0029/nonempty_dir1|D|3776
   /test_dir_0029/nonempty_dir2|D|3798
   /test_dir_0029/nonempty_dir1/d2|D|3786
   /test_dir_0029/nonempty_dir1/f1.txt|F|3781|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3794
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3790|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3808
   /test_dir_0029/nonempty_dir2/f1.txt|F|3801|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3804|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3810
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
RV_none

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/
Tau
EPERM

dump-result /test_dir_0030
   /test_dir_0030|D|3885
   /test_dir_0030/empty_dir1|D|3891
   /test_dir_0030/empty_dir2|D|3897
   /test_dir_0030/nonempty_dir1|D|3902
   /test_dir_0030/nonempty_dir2|D|3925
   /test_dir_0030/nonempty_dir1/d2|D|3912
   /test_dir_0030/nonempty_dir1/f1.txt|F|3907|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3921
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3916|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3934
   /test_dir_0030/nonempty_dir2/f1.txt|F|3928|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3931|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3937
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
RV_none

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/d2
Tau
EPERM

dump-result /test_dir_0031
   /test_dir_0031|D|4010
   /test_dir_0031/empty_dir1|D|4018
   /test_dir_0031/empty_dir2|D|4024
   /test_dir_0031/nonempty_dir1|D|4029
   /test_dir_0031/nonempty_dir2|D|4050
   /test_dir_0031/nonempty_dir1/d2|D|4036
   /test_dir_0031/nonempty_dir1/f1.txt|F|4033|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4047
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4040|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4060
   /test_dir_0031/nonempty_dir2/f1.txt|F|4054|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4056|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4063
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
RV_none

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/d2/
Tau
EPERM

dump-result /test_dir_0032
   /test_dir_0032|D|4139
   /test_dir_0032/empty_dir1|D|4144
   /test_dir_0032/empty_dir2|D|4150
   /test_dir_0032/nonempty_dir1|D|4155
   /test_dir_0032/nonempty_dir2|D|4177
   /test_dir_0032/nonempty_dir1/d2|D|4163
   /test_dir_0032/nonempty_dir1/f1.txt|F|4160|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4174
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4166|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4186
   /test_dir_0032/nonempty_dir2/f1.txt|F|4180|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4183|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4188
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
RV_none

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/d2/d3
Tau
EPERM

dump-result /test_dir_0033
   /test_dir_0033|D|4265
   /test_dir_0033/empty_dir1|D|4271
   /test_dir_0033/empty_dir2|D|4276
   /test_dir_0033/nonempty_dir1|D|4281
   /test_dir_0033/nonempty_dir2|D|4302
   /test_dir_0033/nonempty_dir1/d2|D|4289
   /test_dir_0033/nonempty_dir1/f1.txt|F|4286|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4299
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4294|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4311
   /test_dir_0033/nonempty_dir2/f1.txt|F|4304|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4308|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4315
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
RV_none

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/d2/d3/
Tau
EPERM

dump-result /test_dir_0034
   /test_dir_0034|D|4391
   /test_dir_0034/empty_dir1|D|4397
   /test_dir_0034/empty_dir2|D|4403
   /test_dir_0034/nonempty_dir1|D|4409
   /test_dir_0034/nonempty_dir2|D|4428
   /test_dir_0034/nonempty_dir1/d2|D|4417
   /test_dir_0034/nonempty_dir1/f1.txt|F|4413|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4425
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4421|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4438
   /test_dir_0034/nonempty_dir2/f1.txt|F|4432|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4435|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4442
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
RV_none

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4522
   /test_dir_0035/empty_dir1|D|4527
   /test_dir_0035/empty_dir2|D|4532
   /test_dir_0035/nonempty_dir1|D|4537
   /test_dir_0035/nonempty_dir2|D|4557
   /test_dir_0035/nonempty_dir1/d2|D|4544
   /test_dir_0035/nonempty_dir1/f1.txt|F|4539|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4553
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4548|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4567
   /test_dir_0035/nonempty_dir2/f1.txt|F|4560|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4563|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4571
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
RV_none

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/d2/sl_f3.txt/
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4651
   /test_dir_0036/empty_dir1|D|4656
   /test_dir_0036/empty_dir2|D|4661
   /test_dir_0036/nonempty_dir1|D|4666
   /test_dir_0036/nonempty_dir2|D|4684
   /test_dir_0036/nonempty_dir1/d2|D|4674
   /test_dir_0036/nonempty_dir1/f1.txt|F|4670|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4681
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4694
   /test_dir_0036/nonempty_dir2/f1.txt|F|4687|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4689|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4698
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
RV_none

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/f1.txt
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4776
   /test_dir_0037/empty_dir1|D|4782
   /test_dir_0037/empty_dir2|D|4787
   /test_dir_0037/nonempty_dir1|D|4792
   /test_dir_0037/nonempty_dir2|D|4808
   /test_dir_0037/nonempty_dir1/d2|D|4799
   /test_dir_0037/nonempty_dir1/f1.txt|F|4795|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4806
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4802|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4818
   /test_dir_0037/nonempty_dir2/f2.txt|F|4814|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4822
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
RV_none

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/f1.txt/
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4906
   /test_dir_0038/empty_dir1|D|4911
   /test_dir_0038/empty_dir2|D|4917
   /test_dir_0038/nonempty_dir1|D|4920
   /test_dir_0038/nonempty_dir2|D|4936
   /test_dir_0038/nonempty_dir1/d2|D|4927
   /test_dir_0038/nonempty_dir1/f1.txt|F|4923|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4933
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4930|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4947
   /test_dir_0038/nonempty_dir2/f1.txt|F|4938|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4942|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4950
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
RV_none

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/f2.txt
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|5036
   /test_dir_0039/empty_dir1|D|5041
   /test_dir_0039/empty_dir2|D|5046
   /test_dir_0039/nonempty_dir1|D|5051
   /test_dir_0039/nonempty_dir2|D|5063
   /test_dir_0039/nonempty_dir1/d2|D|5056
   /test_dir_0039/nonempty_dir1/f1.txt|F|5053|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|5061
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|5059|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|5074
   /test_dir_0039/nonempty_dir2/f1.txt|F|5066|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/d2/d3|D|5078
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
RV_none

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonempty_dir2/f2.txt/
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|5168
   /test_dir_0040/empty_dir1|D|5173
   /test_dir_0040/empty_dir2|D|5178
   /test_dir_0040/nonempty_dir1|D|5181
   /test_dir_0040/nonempty_dir2|D|5193
   /test_dir_0040/nonempty_dir1/d2|D|5186
   /test_dir_0040/nonempty_dir1/f1.txt|F|5184|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5190
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5188|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5201
   /test_dir_0040/nonempty_dir2/f1.txt|F|5195|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5198|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5204
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
RV_none

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonexist_1
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5289
   /test_dir_0041/empty_dir1|D|5293
   /test_dir_0041/empty_dir2|D|5300
   /test_dir_0041/nonempty_dir1|D|5306
   /test_dir_0041/nonempty_dir2|D|5318
   /test_dir_0041/nonempty_dir1/d2|D|5312
   /test_dir_0041/nonempty_dir1/f1.txt|F|5309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5316
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5327
   /test_dir_0041/nonempty_dir2/f1.txt|F|5321|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5324|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5330
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
RV_none

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonexist_1/
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5416
   /test_dir_0042/empty_dir1|D|5422
   /test_dir_0042/empty_dir2|D|5428
   /test_dir_0042/nonempty_dir1|D|5433
   /test_dir_0042/nonempty_dir2|D|5445
   /test_dir_0042/nonempty_dir1/d2|D|5438
   /test_dir_0042/nonempty_dir1/f1.txt|F|5436|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5442
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5439|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5454
   /test_dir_0042/nonempty_dir2/f1.txt|F|5447|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5449|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5457
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
RV_none

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonexist_2
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5540
   /test_dir_0043/empty_dir1|D|5547
   /test_dir_0043/empty_dir2|D|5552
   /test_dir_0043/nonempty_dir1|D|5555
   /test_dir_0043/nonempty_dir2|D|5569
   /test_dir_0043/nonempty_dir1/d2|D|5562
   /test_dir_0043/nonempty_dir1/f1.txt|F|5559|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5566
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5564|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5579
   /test_dir_0043/nonempty_dir2/f1.txt|F|5572|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5575|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5581
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
RV_none

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonexist_2/
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5654
   /test_dir_0044/empty_dir1|D|5659
   /test_dir_0044/empty_dir2|D|5663
   /test_dir_0044/nonempty_dir1|D|5666
   /test_dir_0044/nonempty_dir2|D|5679
   /test_dir_0044/nonempty_dir1/d2|D|5671
   /test_dir_0044/nonempty_dir1/f1.txt|F|5669|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5676
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5673|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5689
   /test_dir_0044/nonempty_dir2/f1.txt|F|5682|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5684|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5693
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
RV_none

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonexist_dir/nonexist_3
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5761
   /test_dir_0045/empty_dir1|D|5766
   /test_dir_0045/empty_dir2|D|5770
   /test_dir_0045/nonempty_dir1|D|5773
   /test_dir_0045/nonempty_dir2|D|5785
   /test_dir_0045/nonempty_dir1/d2|D|5777
   /test_dir_0045/nonempty_dir1/f1.txt|F|5775|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5783
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5779|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5795
   /test_dir_0045/nonempty_dir2/f1.txt|F|5788|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5791|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5798
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
RV_none

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

unlink nonexist_dir/nonexist_3/
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5838
   /test_dir_0046/empty_dir1|D|5841
   /test_dir_0046/empty_dir2|D|5843
   /test_dir_0046/nonempty_dir1|D|5845
   /test_dir_0046/nonempty_dir2|D|5857
   /test_dir_0046/nonempty_dir1/d2|D|5849
   /test_dir_0046/nonempty_dir1/f1.txt|F|5847|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5854
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5851|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5867
   /test_dir_0046/nonempty_dir2/f1.txt|F|5860|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5863|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5870
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


