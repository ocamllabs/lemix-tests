#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
RV_none

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir1 0
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|877
   /test_dir_0001/empty_dir1|D|881
   /test_dir_0001/empty_dir2|D|884
   /test_dir_0001/nonempty_dir1|D|885
   /test_dir_0001/nonempty_dir2|D|892
   /test_dir_0001/nonempty_dir1/d2|D|887
   /test_dir_0001/nonempty_dir1/f1.txt|F|886|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|890
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|888|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|906
   /test_dir_0001/nonempty_dir2/f1.txt|F|895|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|898|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|912
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
RV_none

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir1/ 0
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|965
   /test_dir_0002/empty_dir1|D|967
   /test_dir_0002/empty_dir2|D|969
   /test_dir_0002/nonempty_dir1|D|970
   /test_dir_0002/nonempty_dir2|D|993
   /test_dir_0002/nonempty_dir1/d2|D|977
   /test_dir_0002/nonempty_dir1/f1.txt|F|973|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|990
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|980|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|1006
   /test_dir_0002/nonempty_dir2/f1.txt|F|996|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|998|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|1008
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
RV_none

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir2 0
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|1041
   /test_dir_0003/empty_dir1|D|1045
   /test_dir_0003/empty_dir2|D|1049
   /test_dir_0003/nonempty_dir1|D|1052
   /test_dir_0003/nonempty_dir2|D|1062
   /test_dir_0003/nonempty_dir1/d2|D|1055
   /test_dir_0003/nonempty_dir1/f1.txt|F|1053|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|1058
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|1056|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|1075
   /test_dir_0003/nonempty_dir2/f1.txt|F|1065|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|1068|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|1080
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
RV_none

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir2/ 0
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|1136
   /test_dir_0004/empty_dir1|D|1140
   /test_dir_0004/empty_dir2|D|1143
   /test_dir_0004/nonempty_dir1|D|1146
   /test_dir_0004/nonempty_dir2|D|1162
   /test_dir_0004/nonempty_dir1/d2|D|1152
   /test_dir_0004/nonempty_dir1/f1.txt|F|1150|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|1159
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|1154|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|1174
   /test_dir_0004/nonempty_dir2/f1.txt|F|1165|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|1168|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|1179
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
RV_none

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1 0
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|1216
   /test_dir_0005/empty_dir1|D|1223
   /test_dir_0005/empty_dir2|D|1225
   /test_dir_0005/nonempty_dir1|D|1229
   /test_dir_0005/nonempty_dir2|D|1248
   /test_dir_0005/nonempty_dir1/d2|D|1235
   /test_dir_0005/nonempty_dir1/f1.txt|F|1232|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|1243
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|1238|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|1267
   /test_dir_0005/nonempty_dir2/f1.txt|F|1253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|1258|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|1271
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
RV_none

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/ 0
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|1292
   /test_dir_0006/empty_dir1|D|1297
   /test_dir_0006/empty_dir2|D|1301
   /test_dir_0006/nonempty_dir1|D|1306
   /test_dir_0006/nonempty_dir2|D|1327
   /test_dir_0006/nonempty_dir1/d2|D|1315
   /test_dir_0006/nonempty_dir1/f1.txt|F|1310|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|1324
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|1319|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|1338
   /test_dir_0006/nonempty_dir2/f1.txt|F|1330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|1332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|1339
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
RV_none

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2 0
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1374
   /test_dir_0007/empty_dir1|D|1379
   /test_dir_0007/empty_dir2|D|1382
   /test_dir_0007/nonempty_dir1|D|1387
   /test_dir_0007/nonempty_dir2|D|1407
   /test_dir_0007/nonempty_dir1/d2|D|1394
   /test_dir_0007/nonempty_dir1/f1.txt|F|1391|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1404
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1397|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1419
   /test_dir_0007/nonempty_dir2/f1.txt|F|1411|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1413|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1422
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
RV_none

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/ 0
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1452
   /test_dir_0008/empty_dir1|D|1455
   /test_dir_0008/empty_dir2|D|1458
   /test_dir_0008/nonempty_dir1|D|1461
   /test_dir_0008/nonempty_dir2|D|1488
   /test_dir_0008/nonempty_dir1/d2|D|1470
   /test_dir_0008/nonempty_dir1/f1.txt|F|1466|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1484
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1502
   /test_dir_0008/nonempty_dir2/f1.txt|F|1492|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1495|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1505
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
RV_none

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/broken_sl/nonexist_6 0
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1530
   /test_dir_0009/empty_dir1|D|1534
   /test_dir_0009/empty_dir2|D|1536
   /test_dir_0009/nonempty_dir1|D|1540
   /test_dir_0009/nonempty_dir2|D|1559
   /test_dir_0009/nonempty_dir1/d2|D|1546
   /test_dir_0009/nonempty_dir1/f1.txt|F|1542|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1554
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1549|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1571
   /test_dir_0009/nonempty_dir2/f1.txt|F|1563|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1566|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1573
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
RV_none

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 0
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1600
   /test_dir_0010/empty_dir1|D|1604
   /test_dir_0010/empty_dir2|D|1606
   /test_dir_0010/nonempty_dir1|D|1609
   /test_dir_0010/nonempty_dir2|D|1629
   /test_dir_0010/nonempty_dir1/d2|D|1615
   /test_dir_0010/nonempty_dir1/f1.txt|F|1611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1624
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1618|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1646
   /test_dir_0010/nonempty_dir2/f1.txt|F|1634|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1638|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1650
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
RV_none

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/d3 0
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1702
   /test_dir_0011/empty_dir1|D|1705
   /test_dir_0011/empty_dir2|D|1708
   /test_dir_0011/nonempty_dir1|D|1711
   /test_dir_0011/nonempty_dir2|D|1740
   /test_dir_0011/nonempty_dir1/d2|D|1723
   /test_dir_0011/nonempty_dir1/f1.txt|F|1718|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1735
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1727|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1752
   /test_dir_0011/nonempty_dir2/f1.txt|F|1744|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1747|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1760
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
RV_none

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/d3/ 0
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1808
   /test_dir_0012/empty_dir1|D|1813
   /test_dir_0012/empty_dir2|D|1816
   /test_dir_0012/nonempty_dir1|D|1819
   /test_dir_0012/nonempty_dir2|D|1847
   /test_dir_0012/nonempty_dir1/d2|D|1829
   /test_dir_0012/nonempty_dir1/f1.txt|F|1822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1842
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1832|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1863
   /test_dir_0012/nonempty_dir2/f1.txt|F|1852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1856|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1868
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
RV_none

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/f3.txt 0
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1919
   /test_dir_0013/empty_dir1|D|1921
   /test_dir_0013/empty_dir2|D|1923
   /test_dir_0013/nonempty_dir1|D|1927
   /test_dir_0013/nonempty_dir2|D|1964
   /test_dir_0013/nonempty_dir1/d2|D|1940
   /test_dir_0013/nonempty_dir1/f1.txt|F|1935|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1957
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1946|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1981
   /test_dir_0013/nonempty_dir2/f1.txt|F|1969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1973|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1983
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
RV_none

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/f3.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|2047
   /test_dir_0014/empty_dir1|D|2049
   /test_dir_0014/empty_dir2|D|2051
   /test_dir_0014/nonempty_dir1|D|2053
   /test_dir_0014/nonempty_dir2|D|2084
   /test_dir_0014/nonempty_dir1/d2|D|2061
   /test_dir_0014/nonempty_dir1/f1.txt|F|2054|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|2080
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|2067|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|2100
   /test_dir_0014/nonempty_dir2/f1.txt|F|2089|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|2093|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|2106
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
RV_none

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_d2 0
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2168
   /test_dir_0015/empty_dir1|D|2172
   /test_dir_0015/empty_dir2|D|2174
   /test_dir_0015/nonempty_dir1|D|2175
   /test_dir_0015/nonempty_dir2|D|2201
   /test_dir_0015/nonempty_dir1/d2|D|2180
   /test_dir_0015/nonempty_dir1/f1.txt|F|2176|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2195
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2187|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2217
   /test_dir_0015/nonempty_dir2/f1.txt|F|2208|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2223
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
RV_none

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_d2/ 0
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2295
   /test_dir_0016/empty_dir1|D|2299
   /test_dir_0016/empty_dir2|D|2305
   /test_dir_0016/nonempty_dir1|D|2310
   /test_dir_0016/nonempty_dir2|D|2341
   /test_dir_0016/nonempty_dir1/d2|D|2323
   /test_dir_0016/nonempty_dir1/f1.txt|F|2317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2335
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2327|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2357
   /test_dir_0016/nonempty_dir2/f1.txt|F|2345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2351|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2364
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
RV_none

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 0
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2412
   /test_dir_0017/empty_dir1|D|2414
   /test_dir_0017/empty_dir2|D|2419
   /test_dir_0017/nonempty_dir1|D|2425
   /test_dir_0017/nonempty_dir2|D|2453
   /test_dir_0017/nonempty_dir1/d2|D|2435
   /test_dir_0017/nonempty_dir1/f1.txt|F|2428|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2449
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2441|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2472
   /test_dir_0017/nonempty_dir2/f1.txt|F|2457|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2464|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2478
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
RV_none

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 0
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2532
   /test_dir_0018/empty_dir1|D|2535
   /test_dir_0018/empty_dir2|D|2538
   /test_dir_0018/nonempty_dir1|D|2542
   /test_dir_0018/nonempty_dir2|D|2573
   /test_dir_0018/nonempty_dir1/d2|D|2552
   /test_dir_0018/nonempty_dir1/f1.txt|F|2547|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2565
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2559|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2588
   /test_dir_0018/nonempty_dir2/f1.txt|F|2578|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2581|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2594
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
RV_none

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_no_such_target 0
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2650
   /test_dir_0019/empty_dir1|D|2652
   /test_dir_0019/empty_dir2|D|2656
   /test_dir_0019/nonempty_dir1|D|2661
   /test_dir_0019/nonempty_dir2|D|2697
   /test_dir_0019/nonempty_dir1/d2|D|2676
   /test_dir_0019/nonempty_dir1/f1.txt|F|2669|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2691
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2685|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2713
   /test_dir_0019/nonempty_dir2/f1.txt|F|2700|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2705|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2716
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
RV_none

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_no_such_target/ 0
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2765
   /test_dir_0020/empty_dir1|D|2769
   /test_dir_0020/empty_dir2|D|2773
   /test_dir_0020/nonempty_dir1|D|2778
   /test_dir_0020/nonempty_dir2|D|2806
   /test_dir_0020/nonempty_dir1/d2|D|2786
   /test_dir_0020/nonempty_dir1/f1.txt|F|2784|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2801
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2794|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2821
   /test_dir_0020/nonempty_dir2/f1.txt|F|2810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2816|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2828
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
RV_none

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt 0
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2869
   /test_dir_0021/empty_dir1|D|2877
   /test_dir_0021/empty_dir2|D|2882
   /test_dir_0021/nonempty_dir1|D|2888
   /test_dir_0021/nonempty_dir2|D|2921
   /test_dir_0021/nonempty_dir1/d2|D|2903
   /test_dir_0021/nonempty_dir1/f1.txt|F|2892|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2919
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2907|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2937
   /test_dir_0021/nonempty_dir2/f1.txt|F|2924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2930|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2942
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
RV_none

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2979
   /test_dir_0022/empty_dir1|D|2985
   /test_dir_0022/empty_dir2|D|2990
   /test_dir_0022/nonempty_dir1|D|2996
   /test_dir_0022/nonempty_dir2|D|3022
   /test_dir_0022/nonempty_dir1/d2|D|3005
   /test_dir_0022/nonempty_dir1/f1.txt|F|3001|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|3019
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3010|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|3039
   /test_dir_0022/nonempty_dir2/f1.txt|F|3028|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3032|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3046
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
RV_none

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/nonexist_5 0
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3079
   /test_dir_0023/empty_dir1|D|3084
   /test_dir_0023/empty_dir2|D|3090
   /test_dir_0023/nonempty_dir1|D|3097
   /test_dir_0023/nonempty_dir2|D|3124
   /test_dir_0023/nonempty_dir1/d2|D|3106
   /test_dir_0023/nonempty_dir1/f1.txt|F|3102|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3122
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3144
   /test_dir_0023/nonempty_dir2/f1.txt|F|3133|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3136|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3153
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
RV_none

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/nonexist_5/ 0
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3189
   /test_dir_0024/empty_dir1|D|3194
   /test_dir_0024/empty_dir2|D|3200
   /test_dir_0024/nonempty_dir1|D|3208
   /test_dir_0024/nonempty_dir2|D|3245
   /test_dir_0024/nonempty_dir1/d2|D|3223
   /test_dir_0024/nonempty_dir1/f1.txt|F|3216|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3235
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3229|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3269
   /test_dir_0024/nonempty_dir2/f1.txt|F|3251|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3259|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3274
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
RV_none

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/nonexist_4 0
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3318
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3327
   /test_dir_0025/nonempty_dir1|D|3333
   /test_dir_0025/nonempty_dir2|D|3360
   /test_dir_0025/nonempty_dir1/d2|D|3342
   /test_dir_0025/nonempty_dir1/f1.txt|F|3337|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3355
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3347|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3377
   /test_dir_0025/nonempty_dir2/f1.txt|F|3363|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3383
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
RV_none

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/nonexist_4/ 0
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3443
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3457
   /test_dir_0026/nonempty_dir1|D|3463
   /test_dir_0026/nonempty_dir2|D|3487
   /test_dir_0026/nonempty_dir1/d2|D|3472
   /test_dir_0026/nonempty_dir1/f1.txt|F|3467|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3480
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3504
   /test_dir_0026/nonempty_dir2/f1.txt|F|3489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3512
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
RV_none

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/sl_f1.txt 0
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3548
   /test_dir_0027/empty_dir1|D|3556
   /test_dir_0027/empty_dir2|D|3562
   /test_dir_0027/nonempty_dir1|D|3569
   /test_dir_0027/nonempty_dir2|D|3605
   /test_dir_0027/nonempty_dir1/d2|D|3582
   /test_dir_0027/nonempty_dir1/f1.txt|F|3576|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3599
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3589|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3619|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3637
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
RV_none

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/sl_f1.txt/ 0
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3688
   /test_dir_0028/empty_dir1|D|3695
   /test_dir_0028/empty_dir2|D|3702
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3749
   /test_dir_0028/nonempty_dir1/d2|D|3725
   /test_dir_0028/nonempty_dir1/f1.txt|F|3718|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3742
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3731|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3766
   /test_dir_0028/nonempty_dir2/f1.txt|F|3754|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3758|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3771
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
RV_none

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2 0
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3813
   /test_dir_0029/empty_dir1|D|3821
   /test_dir_0029/empty_dir2|D|3824
   /test_dir_0029/nonempty_dir1|D|3831
   /test_dir_0029/nonempty_dir2|D|3865
   /test_dir_0029/nonempty_dir1/d2|D|3843
   /test_dir_0029/nonempty_dir1/f1.txt|F|3837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3860
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3848|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3884
   /test_dir_0029/nonempty_dir2/f1.txt|F|3871|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3877|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3890
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
RV_none

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/ 0
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3914
   /test_dir_0030/empty_dir1|D|3919
   /test_dir_0030/empty_dir2|D|3924
   /test_dir_0030/nonempty_dir1|D|3929
   /test_dir_0030/nonempty_dir2|D|3958
   /test_dir_0030/nonempty_dir1/d2|D|3940
   /test_dir_0030/nonempty_dir1/f1.txt|F|3934|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3954
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3948|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3977
   /test_dir_0030/nonempty_dir2/f1.txt|F|3962|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3968|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3982
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
RV_none

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2 0
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4025
   /test_dir_0031/empty_dir1|D|4032
   /test_dir_0031/empty_dir2|D|4038
   /test_dir_0031/nonempty_dir1|D|4044
   /test_dir_0031/nonempty_dir2|D|4080
   /test_dir_0031/nonempty_dir1/d2|D|4055
   /test_dir_0031/nonempty_dir1/f1.txt|F|4049|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4075
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4064|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4100
   /test_dir_0031/nonempty_dir2/f1.txt|F|4086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4105
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
RV_none

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/ 0
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4139
   /test_dir_0032/empty_dir1|D|4145
   /test_dir_0032/empty_dir2|D|4148
   /test_dir_0032/nonempty_dir1|D|4154
   /test_dir_0032/nonempty_dir2|D|4184
   /test_dir_0032/nonempty_dir1/d2|D|4165
   /test_dir_0032/nonempty_dir1/f1.txt|F|4160|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4179
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4171|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4209
   /test_dir_0032/nonempty_dir2/f1.txt|F|4190|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4195|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4211
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
RV_none

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/d3 0
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4233
   /test_dir_0033/empty_dir1|D|4234
   /test_dir_0033/empty_dir2|D|4241
   /test_dir_0033/nonempty_dir1|D|4247
   /test_dir_0033/nonempty_dir2|D|4275
   /test_dir_0033/nonempty_dir1/d2|D|4260
   /test_dir_0033/nonempty_dir1/f1.txt|F|4253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4273
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4266|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4294
   /test_dir_0033/nonempty_dir2/f1.txt|F|4281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4286|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4299
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
RV_none

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/d3/ 0
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4347
   /test_dir_0034/empty_dir1|D|4350
   /test_dir_0034/empty_dir2|D|4354
   /test_dir_0034/nonempty_dir1|D|4359
   /test_dir_0034/nonempty_dir2|D|4385
   /test_dir_0034/nonempty_dir1/d2|D|4368
   /test_dir_0034/nonempty_dir1/f1.txt|F|4364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4382
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4373|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4407
   /test_dir_0034/nonempty_dir2/f1.txt|F|4389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4396|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4410
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
RV_none

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/sl_f3.txt 0
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4442
   /test_dir_0035/empty_dir1|D|4444
   /test_dir_0035/empty_dir2|D|4450
   /test_dir_0035/nonempty_dir1|D|4456
   /test_dir_0035/nonempty_dir2|D|4485
   /test_dir_0035/nonempty_dir1/d2|D|4467
   /test_dir_0035/nonempty_dir1/f1.txt|F|4461|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4481
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4473|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4504
   /test_dir_0035/nonempty_dir2/f1.txt|F|4491|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4497|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4509
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
RV_none

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/sl_f3.txt/ 0
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4559
   /test_dir_0036/empty_dir1|D|4561
   /test_dir_0036/empty_dir2|D|4566
   /test_dir_0036/nonempty_dir1|D|4571
   /test_dir_0036/nonempty_dir2|D|4593
   /test_dir_0036/nonempty_dir1/d2|D|4578
   /test_dir_0036/nonempty_dir1/f1.txt|F|4574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4590
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4583|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4610
   /test_dir_0036/nonempty_dir2/f1.txt|F|4598|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4615
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
RV_none

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f1.txt 0
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4672
   /test_dir_0037/empty_dir1|D|4677
   /test_dir_0037/empty_dir2|D|4680
   /test_dir_0037/nonempty_dir1|D|4682
   /test_dir_0037/nonempty_dir2|D|4712
   /test_dir_0037/nonempty_dir1/d2|D|4694
   /test_dir_0037/nonempty_dir1/f1.txt|F|4688|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4708
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4700|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4730
   /test_dir_0037/nonempty_dir2/f1.txt|F|4717|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir2/f2.txt|F|4724|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4738
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
RV_none

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4784
   /test_dir_0038/empty_dir1|D|4788
   /test_dir_0038/empty_dir2|D|4794
   /test_dir_0038/nonempty_dir1|D|4800
   /test_dir_0038/nonempty_dir2|D|4830
   /test_dir_0038/nonempty_dir1/d2|D|4810
   /test_dir_0038/nonempty_dir1/f1.txt|F|4806|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4825
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4815|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4847
   /test_dir_0038/nonempty_dir2/f1.txt|F|4837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4841|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4852
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
RV_none

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f2.txt 0
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4894
   /test_dir_0039/empty_dir1|D|4899
   /test_dir_0039/empty_dir2|D|4905
   /test_dir_0039/nonempty_dir1|D|4910
   /test_dir_0039/nonempty_dir2|D|4940
   /test_dir_0039/nonempty_dir1/d2|D|4923
   /test_dir_0039/nonempty_dir1/f1.txt|F|4916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|4935
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4927|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|4955
   /test_dir_0039/nonempty_dir2/f1.txt|F|4941|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4947|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/d2/d3|D|4957
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
RV_none

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f2.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4992
   /test_dir_0040/empty_dir1|D|4995
   /test_dir_0040/empty_dir2|D|5001
   /test_dir_0040/nonempty_dir1|D|5006
   /test_dir_0040/nonempty_dir2|D|5032
   /test_dir_0040/nonempty_dir1/d2|D|5014
   /test_dir_0040/nonempty_dir1/f1.txt|F|5009|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5026
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5017|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5052
   /test_dir_0040/nonempty_dir2/f1.txt|F|5037|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5042|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5057
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
RV_none

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_1 0
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5085
   /test_dir_0041/empty_dir1|D|5093
   /test_dir_0041/empty_dir2|D|5096
   /test_dir_0041/nonempty_dir1|D|5101
   /test_dir_0041/nonempty_dir2|D|5124
   /test_dir_0041/nonempty_dir1/d2|D|5109
   /test_dir_0041/nonempty_dir1/f1.txt|F|5105|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5120
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5137
   /test_dir_0041/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5131|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5141
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
RV_none

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_1/ 0
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5158
   /test_dir_0042/empty_dir1|D|5163
   /test_dir_0042/empty_dir2|D|5168
   /test_dir_0042/nonempty_dir1|D|5171
   /test_dir_0042/nonempty_dir2|D|5192
   /test_dir_0042/nonempty_dir1/d2|D|5179
   /test_dir_0042/nonempty_dir1/f1.txt|F|5175|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5188
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5182|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5203
   /test_dir_0042/nonempty_dir2/f1.txt|F|5195|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5198|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5205
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
RV_none

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_2 0
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5235
   /test_dir_0043/empty_dir1|D|5238
   /test_dir_0043/empty_dir2|D|5242
   /test_dir_0043/nonempty_dir1|D|5245
   /test_dir_0043/nonempty_dir2|D|5265
   /test_dir_0043/nonempty_dir1/d2|D|5251
   /test_dir_0043/nonempty_dir1/f1.txt|F|5248|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5262
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5255|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5279
   /test_dir_0043/nonempty_dir2/f1.txt|F|5268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5272|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5280
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
RV_none

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_2/ 0
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5304
   /test_dir_0044/empty_dir1|D|5307
   /test_dir_0044/empty_dir2|D|5310
   /test_dir_0044/nonempty_dir1|D|5312
   /test_dir_0044/nonempty_dir2|D|5329
   /test_dir_0044/nonempty_dir1/d2|D|5318
   /test_dir_0044/nonempty_dir1/f1.txt|F|5315|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5326
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5336
   /test_dir_0044/nonempty_dir2/f1.txt|F|5330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5338
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
RV_none

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_dir/nonexist_3 0
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5353
   /test_dir_0045/empty_dir1|D|5355
   /test_dir_0045/empty_dir2|D|5358
   /test_dir_0045/nonempty_dir1|D|5360
   /test_dir_0045/nonempty_dir2|D|5375
   /test_dir_0045/nonempty_dir1/d2|D|5365
   /test_dir_0045/nonempty_dir1/f1.txt|F|5362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5372
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5384
   /test_dir_0045/nonempty_dir2/f1.txt|F|5377|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5380|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5386
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
RV_none

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_dir/nonexist_3/ 0
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5412
   /test_dir_0046/empty_dir1|D|5414
   /test_dir_0046/empty_dir2|D|5417
   /test_dir_0046/nonempty_dir1|D|5419
   /test_dir_0046/nonempty_dir2|D|5433
   /test_dir_0046/nonempty_dir1/d2|D|5423
   /test_dir_0046/nonempty_dir1/f1.txt|F|5420|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5431
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5426|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5443
   /test_dir_0046/nonempty_dir2/f1.txt|F|5435|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5439|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5446
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 10
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|877
   /test_dir_0001/empty_dir1|D|881
   /test_dir_0001/empty_dir2|D|884
   /test_dir_0001/nonempty_dir1|D|885
   /test_dir_0001/nonempty_dir2|D|892
   /test_dir_0001/nonempty_dir1/d2|D|887
   /test_dir_0001/nonempty_dir1/f1.txt|F|886|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|890
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|888|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|906
   /test_dir_0001/nonempty_dir2/f1.txt|F|895|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|898|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|912
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 10
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|965
   /test_dir_0002/empty_dir1|D|967
   /test_dir_0002/empty_dir2|D|969
   /test_dir_0002/nonempty_dir1|D|970
   /test_dir_0002/nonempty_dir2|D|993
   /test_dir_0002/nonempty_dir1/d2|D|977
   /test_dir_0002/nonempty_dir1/f1.txt|F|973|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|990
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|980|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|1006
   /test_dir_0002/nonempty_dir2/f1.txt|F|996|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|998|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|1008
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 10
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|1041
   /test_dir_0003/empty_dir1|D|1045
   /test_dir_0003/empty_dir2|D|1049
   /test_dir_0003/nonempty_dir1|D|1052
   /test_dir_0003/nonempty_dir2|D|1062
   /test_dir_0003/nonempty_dir1/d2|D|1055
   /test_dir_0003/nonempty_dir1/f1.txt|F|1053|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|1058
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|1056|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|1075
   /test_dir_0003/nonempty_dir2/f1.txt|F|1065|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|1068|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|1080
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 10
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|1136
   /test_dir_0004/empty_dir1|D|1140
   /test_dir_0004/empty_dir2|D|1143
   /test_dir_0004/nonempty_dir1|D|1146
   /test_dir_0004/nonempty_dir2|D|1162
   /test_dir_0004/nonempty_dir1/d2|D|1152
   /test_dir_0004/nonempty_dir1/f1.txt|F|1150|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|1159
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|1154|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|1174
   /test_dir_0004/nonempty_dir2/f1.txt|F|1165|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|1168|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|1179
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 10
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|1216
   /test_dir_0005/empty_dir1|D|1223
   /test_dir_0005/empty_dir2|D|1225
   /test_dir_0005/nonempty_dir1|D|1229
   /test_dir_0005/nonempty_dir2|D|1248
   /test_dir_0005/nonempty_dir1/d2|D|1235
   /test_dir_0005/nonempty_dir1/f1.txt|F|1232|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|1243
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|1238|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|1267
   /test_dir_0005/nonempty_dir2/f1.txt|F|1253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|1258|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|1271
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 10
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|1292
   /test_dir_0006/empty_dir1|D|1297
   /test_dir_0006/empty_dir2|D|1301
   /test_dir_0006/nonempty_dir1|D|1306
   /test_dir_0006/nonempty_dir2|D|1327
   /test_dir_0006/nonempty_dir1/d2|D|1315
   /test_dir_0006/nonempty_dir1/f1.txt|F|1310|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|1324
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|1319|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|1338
   /test_dir_0006/nonempty_dir2/f1.txt|F|1330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|1332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|1339
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 10
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1374
   /test_dir_0007/empty_dir1|D|1379
   /test_dir_0007/empty_dir2|D|1382
   /test_dir_0007/nonempty_dir1|D|1387
   /test_dir_0007/nonempty_dir2|D|1407
   /test_dir_0007/nonempty_dir1/d2|D|1394
   /test_dir_0007/nonempty_dir1/f1.txt|F|1391|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1404
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1397|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1419
   /test_dir_0007/nonempty_dir2/f1.txt|F|1411|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1413|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1422
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 10
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1452
   /test_dir_0008/empty_dir1|D|1455
   /test_dir_0008/empty_dir2|D|1458
   /test_dir_0008/nonempty_dir1|D|1461
   /test_dir_0008/nonempty_dir2|D|1488
   /test_dir_0008/nonempty_dir1/d2|D|1470
   /test_dir_0008/nonempty_dir1/f1.txt|F|1466|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1484
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1502
   /test_dir_0008/nonempty_dir2/f1.txt|F|1492|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1495|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1505
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 10
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1530
   /test_dir_0009/empty_dir1|D|1534
   /test_dir_0009/empty_dir2|D|1536
   /test_dir_0009/nonempty_dir1|D|1540
   /test_dir_0009/nonempty_dir2|D|1559
   /test_dir_0009/nonempty_dir1/d2|D|1546
   /test_dir_0009/nonempty_dir1/f1.txt|F|1542|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1554
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1549|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1571
   /test_dir_0009/nonempty_dir2/f1.txt|F|1563|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1566|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1573
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 10
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1600
   /test_dir_0010/empty_dir1|D|1604
   /test_dir_0010/empty_dir2|D|1606
   /test_dir_0010/nonempty_dir1|D|1609
   /test_dir_0010/nonempty_dir2|D|1629
   /test_dir_0010/nonempty_dir1/d2|D|1615
   /test_dir_0010/nonempty_dir1/f1.txt|F|1611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1624
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1618|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1646
   /test_dir_0010/nonempty_dir2/f1.txt|F|1634|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1638|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1650
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 10
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1702
   /test_dir_0011/empty_dir1|D|1705
   /test_dir_0011/empty_dir2|D|1708
   /test_dir_0011/nonempty_dir1|D|1711
   /test_dir_0011/nonempty_dir2|D|1740
   /test_dir_0011/nonempty_dir1/d2|D|1723
   /test_dir_0011/nonempty_dir1/f1.txt|F|1718|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1735
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1727|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1752
   /test_dir_0011/nonempty_dir2/f1.txt|F|1744|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1747|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1760
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 10
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1808
   /test_dir_0012/empty_dir1|D|1813
   /test_dir_0012/empty_dir2|D|1816
   /test_dir_0012/nonempty_dir1|D|1819
   /test_dir_0012/nonempty_dir2|D|1847
   /test_dir_0012/nonempty_dir1/d2|D|1829
   /test_dir_0012/nonempty_dir1/f1.txt|F|1822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1842
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1832|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1863
   /test_dir_0012/nonempty_dir2/f1.txt|F|1852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1856|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1868
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 10
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1919
   /test_dir_0013/empty_dir1|D|1921
   /test_dir_0013/empty_dir2|D|1923
   /test_dir_0013/nonempty_dir1|D|1927
   /test_dir_0013/nonempty_dir2|D|1964
   /test_dir_0013/nonempty_dir1/d2|D|1940
   /test_dir_0013/nonempty_dir1/f1.txt|F|1935|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1957
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1946|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1981
   /test_dir_0013/nonempty_dir2/f1.txt|F|1969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1973|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1983
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|2047
   /test_dir_0014/empty_dir1|D|2049
   /test_dir_0014/empty_dir2|D|2051
   /test_dir_0014/nonempty_dir1|D|2053
   /test_dir_0014/nonempty_dir2|D|2084
   /test_dir_0014/nonempty_dir1/d2|D|2061
   /test_dir_0014/nonempty_dir1/f1.txt|F|2054|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|2080
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|2067|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|2100
   /test_dir_0014/nonempty_dir2/f1.txt|F|2089|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|2093|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|2106
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 10
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2168
   /test_dir_0015/empty_dir1|D|2172
   /test_dir_0015/empty_dir2|D|2174
   /test_dir_0015/nonempty_dir1|D|2175
   /test_dir_0015/nonempty_dir2|D|2201
   /test_dir_0015/nonempty_dir1/d2|D|2180
   /test_dir_0015/nonempty_dir1/f1.txt|F|2176|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2195
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2187|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2217
   /test_dir_0015/nonempty_dir2/f1.txt|F|2208|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2223
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 10
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2295
   /test_dir_0016/empty_dir1|D|2299
   /test_dir_0016/empty_dir2|D|2305
   /test_dir_0016/nonempty_dir1|D|2310
   /test_dir_0016/nonempty_dir2|D|2341
   /test_dir_0016/nonempty_dir1/d2|D|2323
   /test_dir_0016/nonempty_dir1/f1.txt|F|2317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2335
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2327|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2357
   /test_dir_0016/nonempty_dir2/f1.txt|F|2345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2351|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2364
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 10
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2412
   /test_dir_0017/empty_dir1|D|2414
   /test_dir_0017/empty_dir2|D|2419
   /test_dir_0017/nonempty_dir1|D|2425
   /test_dir_0017/nonempty_dir2|D|2453
   /test_dir_0017/nonempty_dir1/d2|D|2435
   /test_dir_0017/nonempty_dir1/f1.txt|F|2428|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2449
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2441|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2472
   /test_dir_0017/nonempty_dir2/f1.txt|F|2457|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2464|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2478
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 10
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2532
   /test_dir_0018/empty_dir1|D|2535
   /test_dir_0018/empty_dir2|D|2538
   /test_dir_0018/nonempty_dir1|D|2542
   /test_dir_0018/nonempty_dir2|D|2573
   /test_dir_0018/nonempty_dir1/d2|D|2552
   /test_dir_0018/nonempty_dir1/f1.txt|F|2547|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2565
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2559|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2588
   /test_dir_0018/nonempty_dir2/f1.txt|F|2578|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2581|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2594
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 10
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2650
   /test_dir_0019/empty_dir1|D|2652
   /test_dir_0019/empty_dir2|D|2656
   /test_dir_0019/nonempty_dir1|D|2661
   /test_dir_0019/nonempty_dir2|D|2697
   /test_dir_0019/nonempty_dir1/d2|D|2676
   /test_dir_0019/nonempty_dir1/f1.txt|F|2669|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2691
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2685|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2713
   /test_dir_0019/nonempty_dir2/f1.txt|F|2700|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2705|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2716
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 10
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2765
   /test_dir_0020/empty_dir1|D|2769
   /test_dir_0020/empty_dir2|D|2773
   /test_dir_0020/nonempty_dir1|D|2778
   /test_dir_0020/nonempty_dir2|D|2806
   /test_dir_0020/nonempty_dir1/d2|D|2786
   /test_dir_0020/nonempty_dir1/f1.txt|F|2784|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2801
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2794|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2821
   /test_dir_0020/nonempty_dir2/f1.txt|F|2810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2816|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2828
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 10
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2869
   /test_dir_0021/empty_dir1|D|2877
   /test_dir_0021/empty_dir2|D|2882
   /test_dir_0021/nonempty_dir1|D|2888
   /test_dir_0021/nonempty_dir2|D|2921
   /test_dir_0021/nonempty_dir1/d2|D|2903
   /test_dir_0021/nonempty_dir1/f1.txt|F|2892|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2919
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2907|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2937
   /test_dir_0021/nonempty_dir2/f1.txt|F|2924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2930|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2942
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2979
   /test_dir_0022/empty_dir1|D|2985
   /test_dir_0022/empty_dir2|D|2990
   /test_dir_0022/nonempty_dir1|D|2996
   /test_dir_0022/nonempty_dir2|D|3022
   /test_dir_0022/nonempty_dir1/d2|D|3005
   /test_dir_0022/nonempty_dir1/f1.txt|F|3001|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|3019
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3010|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|3039
   /test_dir_0022/nonempty_dir2/f1.txt|F|3028|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3032|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3046
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 10
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3079
   /test_dir_0023/empty_dir1|D|3084
   /test_dir_0023/empty_dir2|D|3090
   /test_dir_0023/nonempty_dir1|D|3097
   /test_dir_0023/nonempty_dir2|D|3124
   /test_dir_0023/nonempty_dir1/d2|D|3106
   /test_dir_0023/nonempty_dir1/f1.txt|F|3102|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3122
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3144
   /test_dir_0023/nonempty_dir2/f1.txt|F|3133|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3136|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3153
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 10
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3189
   /test_dir_0024/empty_dir1|D|3194
   /test_dir_0024/empty_dir2|D|3200
   /test_dir_0024/nonempty_dir1|D|3208
   /test_dir_0024/nonempty_dir2|D|3245
   /test_dir_0024/nonempty_dir1/d2|D|3223
   /test_dir_0024/nonempty_dir1/f1.txt|F|3216|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3235
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3229|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3269
   /test_dir_0024/nonempty_dir2/f1.txt|F|3251|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3259|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3274
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 10
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3318
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3327
   /test_dir_0025/nonempty_dir1|D|3333
   /test_dir_0025/nonempty_dir2|D|3360
   /test_dir_0025/nonempty_dir1/d2|D|3342
   /test_dir_0025/nonempty_dir1/f1.txt|F|3337|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3355
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3347|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3377
   /test_dir_0025/nonempty_dir2/f1.txt|F|3363|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3383
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 10
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3443
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3457
   /test_dir_0026/nonempty_dir1|D|3463
   /test_dir_0026/nonempty_dir2|D|3487
   /test_dir_0026/nonempty_dir1/d2|D|3472
   /test_dir_0026/nonempty_dir1/f1.txt|F|3467|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3480
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3504
   /test_dir_0026/nonempty_dir2/f1.txt|F|3489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3512
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 10
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3548
   /test_dir_0027/empty_dir1|D|3556
   /test_dir_0027/empty_dir2|D|3562
   /test_dir_0027/nonempty_dir1|D|3569
   /test_dir_0027/nonempty_dir2|D|3605
   /test_dir_0027/nonempty_dir1/d2|D|3582
   /test_dir_0027/nonempty_dir1/f1.txt|F|3576|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3599
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3589|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3619|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3637
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 10
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3688
   /test_dir_0028/empty_dir1|D|3695
   /test_dir_0028/empty_dir2|D|3702
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3749
   /test_dir_0028/nonempty_dir1/d2|D|3725
   /test_dir_0028/nonempty_dir1/f1.txt|F|3718|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3742
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3731|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3766
   /test_dir_0028/nonempty_dir2/f1.txt|F|3754|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3758|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3771
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 10
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3813
   /test_dir_0029/empty_dir1|D|3821
   /test_dir_0029/empty_dir2|D|3824
   /test_dir_0029/nonempty_dir1|D|3831
   /test_dir_0029/nonempty_dir2|D|3865
   /test_dir_0029/nonempty_dir1/d2|D|3843
   /test_dir_0029/nonempty_dir1/f1.txt|F|3837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3860
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3848|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3884
   /test_dir_0029/nonempty_dir2/f1.txt|F|3871|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3877|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3890
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 10
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3914
   /test_dir_0030/empty_dir1|D|3919
   /test_dir_0030/empty_dir2|D|3924
   /test_dir_0030/nonempty_dir1|D|3929
   /test_dir_0030/nonempty_dir2|D|3958
   /test_dir_0030/nonempty_dir1/d2|D|3940
   /test_dir_0030/nonempty_dir1/f1.txt|F|3934|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3954
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3948|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3977
   /test_dir_0030/nonempty_dir2/f1.txt|F|3962|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3968|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3982
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 10
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4025
   /test_dir_0031/empty_dir1|D|4032
   /test_dir_0031/empty_dir2|D|4038
   /test_dir_0031/nonempty_dir1|D|4044
   /test_dir_0031/nonempty_dir2|D|4080
   /test_dir_0031/nonempty_dir1/d2|D|4055
   /test_dir_0031/nonempty_dir1/f1.txt|F|4049|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4075
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4064|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4100
   /test_dir_0031/nonempty_dir2/f1.txt|F|4086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4105
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 10
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4139
   /test_dir_0032/empty_dir1|D|4145
   /test_dir_0032/empty_dir2|D|4148
   /test_dir_0032/nonempty_dir1|D|4154
   /test_dir_0032/nonempty_dir2|D|4184
   /test_dir_0032/nonempty_dir1/d2|D|4165
   /test_dir_0032/nonempty_dir1/f1.txt|F|4160|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4179
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4171|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4209
   /test_dir_0032/nonempty_dir2/f1.txt|F|4190|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4195|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4211
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 10
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4233
   /test_dir_0033/empty_dir1|D|4234
   /test_dir_0033/empty_dir2|D|4241
   /test_dir_0033/nonempty_dir1|D|4247
   /test_dir_0033/nonempty_dir2|D|4275
   /test_dir_0033/nonempty_dir1/d2|D|4260
   /test_dir_0033/nonempty_dir1/f1.txt|F|4253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4273
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4266|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4294
   /test_dir_0033/nonempty_dir2/f1.txt|F|4281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4286|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4299
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 10
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4347
   /test_dir_0034/empty_dir1|D|4350
   /test_dir_0034/empty_dir2|D|4354
   /test_dir_0034/nonempty_dir1|D|4359
   /test_dir_0034/nonempty_dir2|D|4385
   /test_dir_0034/nonempty_dir1/d2|D|4368
   /test_dir_0034/nonempty_dir1/f1.txt|F|4364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4382
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4373|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4407
   /test_dir_0034/nonempty_dir2/f1.txt|F|4389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4396|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4410
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 10
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4442
   /test_dir_0035/empty_dir1|D|4444
   /test_dir_0035/empty_dir2|D|4450
   /test_dir_0035/nonempty_dir1|D|4456
   /test_dir_0035/nonempty_dir2|D|4485
   /test_dir_0035/nonempty_dir1/d2|D|4467
   /test_dir_0035/nonempty_dir1/f1.txt|F|4461|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4481
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4473|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4504
   /test_dir_0035/nonempty_dir2/f1.txt|F|4491|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4497|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4509
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 10
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4559
   /test_dir_0036/empty_dir1|D|4561
   /test_dir_0036/empty_dir2|D|4566
   /test_dir_0036/nonempty_dir1|D|4571
   /test_dir_0036/nonempty_dir2|D|4593
   /test_dir_0036/nonempty_dir1/d2|D|4578
   /test_dir_0036/nonempty_dir1/f1.txt|F|4574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4590
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4583|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4610
   /test_dir_0036/nonempty_dir2/f1.txt|F|4598|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4615
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 10
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4672
   /test_dir_0037/empty_dir1|D|4677
   /test_dir_0037/empty_dir2|D|4680
   /test_dir_0037/nonempty_dir1|D|4682
   /test_dir_0037/nonempty_dir2|D|4712
   /test_dir_0037/nonempty_dir1/d2|D|4694
   /test_dir_0037/nonempty_dir1/f1.txt|F|4688|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4708
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4700|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4730
   /test_dir_0037/nonempty_dir2/f1.txt|F|4717|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0037/nonempty_dir2/f2.txt|F|4724|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4738
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4784
   /test_dir_0038/empty_dir1|D|4788
   /test_dir_0038/empty_dir2|D|4794
   /test_dir_0038/nonempty_dir1|D|4800
   /test_dir_0038/nonempty_dir2|D|4830
   /test_dir_0038/nonempty_dir1/d2|D|4810
   /test_dir_0038/nonempty_dir1/f1.txt|F|4806|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4825
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4815|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4847
   /test_dir_0038/nonempty_dir2/f1.txt|F|4837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4841|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4852
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 10
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4894
   /test_dir_0039/empty_dir1|D|4899
   /test_dir_0039/empty_dir2|D|4905
   /test_dir_0039/nonempty_dir1|D|4910
   /test_dir_0039/nonempty_dir2|D|4940
   /test_dir_0039/nonempty_dir1/d2|D|4923
   /test_dir_0039/nonempty_dir1/f1.txt|F|4916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|4935
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4927|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|4955
   /test_dir_0039/nonempty_dir2/f1.txt|F|4941|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4947|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0039/nonempty_dir2/d2/d3|D|4957
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4992
   /test_dir_0040/empty_dir1|D|4995
   /test_dir_0040/empty_dir2|D|5001
   /test_dir_0040/nonempty_dir1|D|5006
   /test_dir_0040/nonempty_dir2|D|5032
   /test_dir_0040/nonempty_dir1/d2|D|5014
   /test_dir_0040/nonempty_dir1/f1.txt|F|5009|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5026
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5017|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5052
   /test_dir_0040/nonempty_dir2/f1.txt|F|5037|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5042|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5057
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 10
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5085
   /test_dir_0041/empty_dir1|D|5093
   /test_dir_0041/empty_dir2|D|5096
   /test_dir_0041/nonempty_dir1|D|5101
   /test_dir_0041/nonempty_dir2|D|5124
   /test_dir_0041/nonempty_dir1/d2|D|5109
   /test_dir_0041/nonempty_dir1/f1.txt|F|5105|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5120
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5137
   /test_dir_0041/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5131|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5141
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 10
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5158
   /test_dir_0042/empty_dir1|D|5163
   /test_dir_0042/empty_dir2|D|5168
   /test_dir_0042/nonempty_dir1|D|5171
   /test_dir_0042/nonempty_dir2|D|5192
   /test_dir_0042/nonempty_dir1/d2|D|5179
   /test_dir_0042/nonempty_dir1/f1.txt|F|5175|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5188
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5182|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5203
   /test_dir_0042/nonempty_dir2/f1.txt|F|5195|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5198|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5205
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 10
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5235
   /test_dir_0043/empty_dir1|D|5238
   /test_dir_0043/empty_dir2|D|5242
   /test_dir_0043/nonempty_dir1|D|5245
   /test_dir_0043/nonempty_dir2|D|5265
   /test_dir_0043/nonempty_dir1/d2|D|5251
   /test_dir_0043/nonempty_dir1/f1.txt|F|5248|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5262
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5255|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5279
   /test_dir_0043/nonempty_dir2/f1.txt|F|5268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5272|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5280
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 10
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5304
   /test_dir_0044/empty_dir1|D|5307
   /test_dir_0044/empty_dir2|D|5310
   /test_dir_0044/nonempty_dir1|D|5312
   /test_dir_0044/nonempty_dir2|D|5329
   /test_dir_0044/nonempty_dir1/d2|D|5318
   /test_dir_0044/nonempty_dir1/f1.txt|F|5315|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5326
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5336
   /test_dir_0044/nonempty_dir2/f1.txt|F|5330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5338
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 10
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5353
   /test_dir_0045/empty_dir1|D|5355
   /test_dir_0045/empty_dir2|D|5358
   /test_dir_0045/nonempty_dir1|D|5360
   /test_dir_0045/nonempty_dir2|D|5375
   /test_dir_0045/nonempty_dir1/d2|D|5365
   /test_dir_0045/nonempty_dir1/f1.txt|F|5362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5372
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5384
   /test_dir_0045/nonempty_dir2/f1.txt|F|5377|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5380|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5386
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 10
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5412
   /test_dir_0046/empty_dir1|D|5414
   /test_dir_0046/empty_dir2|D|5417
   /test_dir_0046/nonempty_dir1|D|5419
   /test_dir_0046/nonempty_dir2|D|5433
   /test_dir_0046/nonempty_dir1/d2|D|5423
   /test_dir_0046/nonempty_dir1/f1.txt|F|5420|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5431
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5426|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5443
   /test_dir_0046/nonempty_dir2/f1.txt|F|5435|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5439|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5446
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 100
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|877
   /test_dir_0001/empty_dir1|D|881
   /test_dir_0001/empty_dir2|D|884
   /test_dir_0001/nonempty_dir1|D|885
   /test_dir_0001/nonempty_dir2|D|892
   /test_dir_0001/nonempty_dir1/d2|D|887
   /test_dir_0001/nonempty_dir1/f1.txt|F|886|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|890
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|888|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|906
   /test_dir_0001/nonempty_dir2/f1.txt|F|895|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|898|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|912
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 100
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|965
   /test_dir_0002/empty_dir1|D|967
   /test_dir_0002/empty_dir2|D|969
   /test_dir_0002/nonempty_dir1|D|970
   /test_dir_0002/nonempty_dir2|D|993
   /test_dir_0002/nonempty_dir1/d2|D|977
   /test_dir_0002/nonempty_dir1/f1.txt|F|973|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|990
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|980|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|1006
   /test_dir_0002/nonempty_dir2/f1.txt|F|996|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|998|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|1008
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 100
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|1041
   /test_dir_0003/empty_dir1|D|1045
   /test_dir_0003/empty_dir2|D|1049
   /test_dir_0003/nonempty_dir1|D|1052
   /test_dir_0003/nonempty_dir2|D|1062
   /test_dir_0003/nonempty_dir1/d2|D|1055
   /test_dir_0003/nonempty_dir1/f1.txt|F|1053|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|1058
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|1056|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|1075
   /test_dir_0003/nonempty_dir2/f1.txt|F|1065|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|1068|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|1080
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 100
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|1136
   /test_dir_0004/empty_dir1|D|1140
   /test_dir_0004/empty_dir2|D|1143
   /test_dir_0004/nonempty_dir1|D|1146
   /test_dir_0004/nonempty_dir2|D|1162
   /test_dir_0004/nonempty_dir1/d2|D|1152
   /test_dir_0004/nonempty_dir1/f1.txt|F|1150|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|1159
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|1154|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|1174
   /test_dir_0004/nonempty_dir2/f1.txt|F|1165|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|1168|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|1179
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 100
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|1216
   /test_dir_0005/empty_dir1|D|1223
   /test_dir_0005/empty_dir2|D|1225
   /test_dir_0005/nonempty_dir1|D|1229
   /test_dir_0005/nonempty_dir2|D|1248
   /test_dir_0005/nonempty_dir1/d2|D|1235
   /test_dir_0005/nonempty_dir1/f1.txt|F|1232|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|1243
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|1238|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|1267
   /test_dir_0005/nonempty_dir2/f1.txt|F|1253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|1258|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|1271
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 100
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|1292
   /test_dir_0006/empty_dir1|D|1297
   /test_dir_0006/empty_dir2|D|1301
   /test_dir_0006/nonempty_dir1|D|1306
   /test_dir_0006/nonempty_dir2|D|1327
   /test_dir_0006/nonempty_dir1/d2|D|1315
   /test_dir_0006/nonempty_dir1/f1.txt|F|1310|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|1324
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|1319|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|1338
   /test_dir_0006/nonempty_dir2/f1.txt|F|1330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|1332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|1339
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 100
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1374
   /test_dir_0007/empty_dir1|D|1379
   /test_dir_0007/empty_dir2|D|1382
   /test_dir_0007/nonempty_dir1|D|1387
   /test_dir_0007/nonempty_dir2|D|1407
   /test_dir_0007/nonempty_dir1/d2|D|1394
   /test_dir_0007/nonempty_dir1/f1.txt|F|1391|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1404
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1397|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1419
   /test_dir_0007/nonempty_dir2/f1.txt|F|1411|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1413|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1422
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 100
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1452
   /test_dir_0008/empty_dir1|D|1455
   /test_dir_0008/empty_dir2|D|1458
   /test_dir_0008/nonempty_dir1|D|1461
   /test_dir_0008/nonempty_dir2|D|1488
   /test_dir_0008/nonempty_dir1/d2|D|1470
   /test_dir_0008/nonempty_dir1/f1.txt|F|1466|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1484
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1502
   /test_dir_0008/nonempty_dir2/f1.txt|F|1492|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1495|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1505
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 100
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1530
   /test_dir_0009/empty_dir1|D|1534
   /test_dir_0009/empty_dir2|D|1536
   /test_dir_0009/nonempty_dir1|D|1540
   /test_dir_0009/nonempty_dir2|D|1559
   /test_dir_0009/nonempty_dir1/d2|D|1546
   /test_dir_0009/nonempty_dir1/f1.txt|F|1542|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1554
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1549|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1571
   /test_dir_0009/nonempty_dir2/f1.txt|F|1563|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1566|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1573
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 100
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1600
   /test_dir_0010/empty_dir1|D|1604
   /test_dir_0010/empty_dir2|D|1606
   /test_dir_0010/nonempty_dir1|D|1609
   /test_dir_0010/nonempty_dir2|D|1629
   /test_dir_0010/nonempty_dir1/d2|D|1615
   /test_dir_0010/nonempty_dir1/f1.txt|F|1611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1624
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1618|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1646
   /test_dir_0010/nonempty_dir2/f1.txt|F|1634|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1638|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1650
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 100
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1702
   /test_dir_0011/empty_dir1|D|1705
   /test_dir_0011/empty_dir2|D|1708
   /test_dir_0011/nonempty_dir1|D|1711
   /test_dir_0011/nonempty_dir2|D|1740
   /test_dir_0011/nonempty_dir1/d2|D|1723
   /test_dir_0011/nonempty_dir1/f1.txt|F|1718|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1735
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1727|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1752
   /test_dir_0011/nonempty_dir2/f1.txt|F|1744|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1747|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1760
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 100
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1808
   /test_dir_0012/empty_dir1|D|1813
   /test_dir_0012/empty_dir2|D|1816
   /test_dir_0012/nonempty_dir1|D|1819
   /test_dir_0012/nonempty_dir2|D|1847
   /test_dir_0012/nonempty_dir1/d2|D|1829
   /test_dir_0012/nonempty_dir1/f1.txt|F|1822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1842
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1832|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1863
   /test_dir_0012/nonempty_dir2/f1.txt|F|1852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1856|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1868
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 100
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1919
   /test_dir_0013/empty_dir1|D|1921
   /test_dir_0013/empty_dir2|D|1923
   /test_dir_0013/nonempty_dir1|D|1927
   /test_dir_0013/nonempty_dir2|D|1964
   /test_dir_0013/nonempty_dir1/d2|D|1940
   /test_dir_0013/nonempty_dir1/f1.txt|F|1935|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1957
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1946|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1981
   /test_dir_0013/nonempty_dir2/f1.txt|F|1969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1973|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1983
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|2047
   /test_dir_0014/empty_dir1|D|2049
   /test_dir_0014/empty_dir2|D|2051
   /test_dir_0014/nonempty_dir1|D|2053
   /test_dir_0014/nonempty_dir2|D|2084
   /test_dir_0014/nonempty_dir1/d2|D|2061
   /test_dir_0014/nonempty_dir1/f1.txt|F|2054|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|2080
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|2067|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|2100
   /test_dir_0014/nonempty_dir2/f1.txt|F|2089|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|2093|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|2106
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 100
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2168
   /test_dir_0015/empty_dir1|D|2172
   /test_dir_0015/empty_dir2|D|2174
   /test_dir_0015/nonempty_dir1|D|2175
   /test_dir_0015/nonempty_dir2|D|2201
   /test_dir_0015/nonempty_dir1/d2|D|2180
   /test_dir_0015/nonempty_dir1/f1.txt|F|2176|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2195
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2187|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2217
   /test_dir_0015/nonempty_dir2/f1.txt|F|2208|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2223
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 100
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2295
   /test_dir_0016/empty_dir1|D|2299
   /test_dir_0016/empty_dir2|D|2305
   /test_dir_0016/nonempty_dir1|D|2310
   /test_dir_0016/nonempty_dir2|D|2341
   /test_dir_0016/nonempty_dir1/d2|D|2323
   /test_dir_0016/nonempty_dir1/f1.txt|F|2317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2335
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2327|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2357
   /test_dir_0016/nonempty_dir2/f1.txt|F|2345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2351|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2364
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 100
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2412
   /test_dir_0017/empty_dir1|D|2414
   /test_dir_0017/empty_dir2|D|2419
   /test_dir_0017/nonempty_dir1|D|2425
   /test_dir_0017/nonempty_dir2|D|2453
   /test_dir_0017/nonempty_dir1/d2|D|2435
   /test_dir_0017/nonempty_dir1/f1.txt|F|2428|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2449
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2441|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2472
   /test_dir_0017/nonempty_dir2/f1.txt|F|2457|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2464|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2478
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 100
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2532
   /test_dir_0018/empty_dir1|D|2535
   /test_dir_0018/empty_dir2|D|2538
   /test_dir_0018/nonempty_dir1|D|2542
   /test_dir_0018/nonempty_dir2|D|2573
   /test_dir_0018/nonempty_dir1/d2|D|2552
   /test_dir_0018/nonempty_dir1/f1.txt|F|2547|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2565
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2559|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2588
   /test_dir_0018/nonempty_dir2/f1.txt|F|2578|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2581|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2594
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 100
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2650
   /test_dir_0019/empty_dir1|D|2652
   /test_dir_0019/empty_dir2|D|2656
   /test_dir_0019/nonempty_dir1|D|2661
   /test_dir_0019/nonempty_dir2|D|2697
   /test_dir_0019/nonempty_dir1/d2|D|2676
   /test_dir_0019/nonempty_dir1/f1.txt|F|2669|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2691
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2685|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2713
   /test_dir_0019/nonempty_dir2/f1.txt|F|2700|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2705|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2716
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 100
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2765
   /test_dir_0020/empty_dir1|D|2769
   /test_dir_0020/empty_dir2|D|2773
   /test_dir_0020/nonempty_dir1|D|2778
   /test_dir_0020/nonempty_dir2|D|2806
   /test_dir_0020/nonempty_dir1/d2|D|2786
   /test_dir_0020/nonempty_dir1/f1.txt|F|2784|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2801
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2794|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2821
   /test_dir_0020/nonempty_dir2/f1.txt|F|2810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2816|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2828
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 100
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2869
   /test_dir_0021/empty_dir1|D|2877
   /test_dir_0021/empty_dir2|D|2882
   /test_dir_0021/nonempty_dir1|D|2888
   /test_dir_0021/nonempty_dir2|D|2921
   /test_dir_0021/nonempty_dir1/d2|D|2903
   /test_dir_0021/nonempty_dir1/f1.txt|F|2892|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2919
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2907|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2937
   /test_dir_0021/nonempty_dir2/f1.txt|F|2924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2930|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2942
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2979
   /test_dir_0022/empty_dir1|D|2985
   /test_dir_0022/empty_dir2|D|2990
   /test_dir_0022/nonempty_dir1|D|2996
   /test_dir_0022/nonempty_dir2|D|3022
   /test_dir_0022/nonempty_dir1/d2|D|3005
   /test_dir_0022/nonempty_dir1/f1.txt|F|3001|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|3019
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3010|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|3039
   /test_dir_0022/nonempty_dir2/f1.txt|F|3028|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3032|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3046
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 100
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3079
   /test_dir_0023/empty_dir1|D|3084
   /test_dir_0023/empty_dir2|D|3090
   /test_dir_0023/nonempty_dir1|D|3097
   /test_dir_0023/nonempty_dir2|D|3124
   /test_dir_0023/nonempty_dir1/d2|D|3106
   /test_dir_0023/nonempty_dir1/f1.txt|F|3102|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3122
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3144
   /test_dir_0023/nonempty_dir2/f1.txt|F|3133|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3136|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3153
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 100
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3189
   /test_dir_0024/empty_dir1|D|3194
   /test_dir_0024/empty_dir2|D|3200
   /test_dir_0024/nonempty_dir1|D|3208
   /test_dir_0024/nonempty_dir2|D|3245
   /test_dir_0024/nonempty_dir1/d2|D|3223
   /test_dir_0024/nonempty_dir1/f1.txt|F|3216|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3235
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3229|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3269
   /test_dir_0024/nonempty_dir2/f1.txt|F|3251|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3259|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3274
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 100
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3318
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3327
   /test_dir_0025/nonempty_dir1|D|3333
   /test_dir_0025/nonempty_dir2|D|3360
   /test_dir_0025/nonempty_dir1/d2|D|3342
   /test_dir_0025/nonempty_dir1/f1.txt|F|3337|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3355
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3347|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3377
   /test_dir_0025/nonempty_dir2/f1.txt|F|3363|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3383
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 100
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3443
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3457
   /test_dir_0026/nonempty_dir1|D|3463
   /test_dir_0026/nonempty_dir2|D|3487
   /test_dir_0026/nonempty_dir1/d2|D|3472
   /test_dir_0026/nonempty_dir1/f1.txt|F|3467|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3480
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3504
   /test_dir_0026/nonempty_dir2/f1.txt|F|3489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3512
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 100
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3548
   /test_dir_0027/empty_dir1|D|3556
   /test_dir_0027/empty_dir2|D|3562
   /test_dir_0027/nonempty_dir1|D|3569
   /test_dir_0027/nonempty_dir2|D|3605
   /test_dir_0027/nonempty_dir1/d2|D|3582
   /test_dir_0027/nonempty_dir1/f1.txt|F|3576|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3599
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3589|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3619|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3637
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 100
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3688
   /test_dir_0028/empty_dir1|D|3695
   /test_dir_0028/empty_dir2|D|3702
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3749
   /test_dir_0028/nonempty_dir1/d2|D|3725
   /test_dir_0028/nonempty_dir1/f1.txt|F|3718|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3742
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3731|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3766
   /test_dir_0028/nonempty_dir2/f1.txt|F|3754|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3758|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3771
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 100
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3813
   /test_dir_0029/empty_dir1|D|3821
   /test_dir_0029/empty_dir2|D|3824
   /test_dir_0029/nonempty_dir1|D|3831
   /test_dir_0029/nonempty_dir2|D|3865
   /test_dir_0029/nonempty_dir1/d2|D|3843
   /test_dir_0029/nonempty_dir1/f1.txt|F|3837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3860
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3848|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3884
   /test_dir_0029/nonempty_dir2/f1.txt|F|3871|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3877|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3890
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 100
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3914
   /test_dir_0030/empty_dir1|D|3919
   /test_dir_0030/empty_dir2|D|3924
   /test_dir_0030/nonempty_dir1|D|3929
   /test_dir_0030/nonempty_dir2|D|3958
   /test_dir_0030/nonempty_dir1/d2|D|3940
   /test_dir_0030/nonempty_dir1/f1.txt|F|3934|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3954
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3948|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3977
   /test_dir_0030/nonempty_dir2/f1.txt|F|3962|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3968|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3982
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 100
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4025
   /test_dir_0031/empty_dir1|D|4032
   /test_dir_0031/empty_dir2|D|4038
   /test_dir_0031/nonempty_dir1|D|4044
   /test_dir_0031/nonempty_dir2|D|4080
   /test_dir_0031/nonempty_dir1/d2|D|4055
   /test_dir_0031/nonempty_dir1/f1.txt|F|4049|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4075
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4064|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4100
   /test_dir_0031/nonempty_dir2/f1.txt|F|4086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4105
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 100
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4139
   /test_dir_0032/empty_dir1|D|4145
   /test_dir_0032/empty_dir2|D|4148
   /test_dir_0032/nonempty_dir1|D|4154
   /test_dir_0032/nonempty_dir2|D|4184
   /test_dir_0032/nonempty_dir1/d2|D|4165
   /test_dir_0032/nonempty_dir1/f1.txt|F|4160|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4179
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4171|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4209
   /test_dir_0032/nonempty_dir2/f1.txt|F|4190|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4195|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4211
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 100
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4233
   /test_dir_0033/empty_dir1|D|4234
   /test_dir_0033/empty_dir2|D|4241
   /test_dir_0033/nonempty_dir1|D|4247
   /test_dir_0033/nonempty_dir2|D|4275
   /test_dir_0033/nonempty_dir1/d2|D|4260
   /test_dir_0033/nonempty_dir1/f1.txt|F|4253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4273
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4266|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4294
   /test_dir_0033/nonempty_dir2/f1.txt|F|4281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4286|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4299
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 100
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4347
   /test_dir_0034/empty_dir1|D|4350
   /test_dir_0034/empty_dir2|D|4354
   /test_dir_0034/nonempty_dir1|D|4359
   /test_dir_0034/nonempty_dir2|D|4385
   /test_dir_0034/nonempty_dir1/d2|D|4368
   /test_dir_0034/nonempty_dir1/f1.txt|F|4364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4382
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4373|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4407
   /test_dir_0034/nonempty_dir2/f1.txt|F|4389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4396|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4410
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 100
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4442
   /test_dir_0035/empty_dir1|D|4444
   /test_dir_0035/empty_dir2|D|4450
   /test_dir_0035/nonempty_dir1|D|4456
   /test_dir_0035/nonempty_dir2|D|4485
   /test_dir_0035/nonempty_dir1/d2|D|4467
   /test_dir_0035/nonempty_dir1/f1.txt|F|4461|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4481
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4473|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4504
   /test_dir_0035/nonempty_dir2/f1.txt|F|4491|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4497|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4509
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 100
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4559
   /test_dir_0036/empty_dir1|D|4561
   /test_dir_0036/empty_dir2|D|4566
   /test_dir_0036/nonempty_dir1|D|4571
   /test_dir_0036/nonempty_dir2|D|4593
   /test_dir_0036/nonempty_dir1/d2|D|4578
   /test_dir_0036/nonempty_dir1/f1.txt|F|4574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4590
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4583|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4610
   /test_dir_0036/nonempty_dir2/f1.txt|F|4598|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4615
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 100
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4672
   /test_dir_0037/empty_dir1|D|4677
   /test_dir_0037/empty_dir2|D|4680
   /test_dir_0037/nonempty_dir1|D|4682
   /test_dir_0037/nonempty_dir2|D|4712
   /test_dir_0037/nonempty_dir1/d2|D|4694
   /test_dir_0037/nonempty_dir1/f1.txt|F|4688|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4708
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4700|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4730
   /test_dir_0037/nonempty_dir2/f1.txt|F|4717|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0037/nonempty_dir2/f2.txt|F|4724|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4738
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4784
   /test_dir_0038/empty_dir1|D|4788
   /test_dir_0038/empty_dir2|D|4794
   /test_dir_0038/nonempty_dir1|D|4800
   /test_dir_0038/nonempty_dir2|D|4830
   /test_dir_0038/nonempty_dir1/d2|D|4810
   /test_dir_0038/nonempty_dir1/f1.txt|F|4806|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4825
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4815|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4847
   /test_dir_0038/nonempty_dir2/f1.txt|F|4837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4841|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4852
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 100
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4894
   /test_dir_0039/empty_dir1|D|4899
   /test_dir_0039/empty_dir2|D|4905
   /test_dir_0039/nonempty_dir1|D|4910
   /test_dir_0039/nonempty_dir2|D|4940
   /test_dir_0039/nonempty_dir1/d2|D|4923
   /test_dir_0039/nonempty_dir1/f1.txt|F|4916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|4935
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4927|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|4955
   /test_dir_0039/nonempty_dir2/f1.txt|F|4941|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4947|100|73e4ea4018155d76ebe7374f30c9d1db00b81a4d
   /test_dir_0039/nonempty_dir2/d2/d3|D|4957
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4992
   /test_dir_0040/empty_dir1|D|4995
   /test_dir_0040/empty_dir2|D|5001
   /test_dir_0040/nonempty_dir1|D|5006
   /test_dir_0040/nonempty_dir2|D|5032
   /test_dir_0040/nonempty_dir1/d2|D|5014
   /test_dir_0040/nonempty_dir1/f1.txt|F|5009|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5026
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5017|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5052
   /test_dir_0040/nonempty_dir2/f1.txt|F|5037|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5042|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5057
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 100
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5085
   /test_dir_0041/empty_dir1|D|5093
   /test_dir_0041/empty_dir2|D|5096
   /test_dir_0041/nonempty_dir1|D|5101
   /test_dir_0041/nonempty_dir2|D|5124
   /test_dir_0041/nonempty_dir1/d2|D|5109
   /test_dir_0041/nonempty_dir1/f1.txt|F|5105|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5120
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5137
   /test_dir_0041/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5131|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5141
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 100
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5158
   /test_dir_0042/empty_dir1|D|5163
   /test_dir_0042/empty_dir2|D|5168
   /test_dir_0042/nonempty_dir1|D|5171
   /test_dir_0042/nonempty_dir2|D|5192
   /test_dir_0042/nonempty_dir1/d2|D|5179
   /test_dir_0042/nonempty_dir1/f1.txt|F|5175|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5188
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5182|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5203
   /test_dir_0042/nonempty_dir2/f1.txt|F|5195|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5198|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5205
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 100
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5235
   /test_dir_0043/empty_dir1|D|5238
   /test_dir_0043/empty_dir2|D|5242
   /test_dir_0043/nonempty_dir1|D|5245
   /test_dir_0043/nonempty_dir2|D|5265
   /test_dir_0043/nonempty_dir1/d2|D|5251
   /test_dir_0043/nonempty_dir1/f1.txt|F|5248|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5262
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5255|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5279
   /test_dir_0043/nonempty_dir2/f1.txt|F|5268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5272|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5280
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 100
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5304
   /test_dir_0044/empty_dir1|D|5307
   /test_dir_0044/empty_dir2|D|5310
   /test_dir_0044/nonempty_dir1|D|5312
   /test_dir_0044/nonempty_dir2|D|5329
   /test_dir_0044/nonempty_dir1/d2|D|5318
   /test_dir_0044/nonempty_dir1/f1.txt|F|5315|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5326
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5336
   /test_dir_0044/nonempty_dir2/f1.txt|F|5330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5338
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 100
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5353
   /test_dir_0045/empty_dir1|D|5355
   /test_dir_0045/empty_dir2|D|5358
   /test_dir_0045/nonempty_dir1|D|5360
   /test_dir_0045/nonempty_dir2|D|5375
   /test_dir_0045/nonempty_dir1/d2|D|5365
   /test_dir_0045/nonempty_dir1/f1.txt|F|5362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5372
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5384
   /test_dir_0045/nonempty_dir2/f1.txt|F|5377|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5380|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5386
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 100
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5412
   /test_dir_0046/empty_dir1|D|5414
   /test_dir_0046/empty_dir2|D|5417
   /test_dir_0046/nonempty_dir1|D|5419
   /test_dir_0046/nonempty_dir2|D|5433
   /test_dir_0046/nonempty_dir1/d2|D|5423
   /test_dir_0046/nonempty_dir1/f1.txt|F|5420|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5431
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5426|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5443
   /test_dir_0046/nonempty_dir2/f1.txt|F|5435|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5439|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5446
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 1000
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|877
   /test_dir_0001/empty_dir1|D|881
   /test_dir_0001/empty_dir2|D|884
   /test_dir_0001/nonempty_dir1|D|885
   /test_dir_0001/nonempty_dir2|D|892
   /test_dir_0001/nonempty_dir1/d2|D|887
   /test_dir_0001/nonempty_dir1/f1.txt|F|886|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|890
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|888|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|906
   /test_dir_0001/nonempty_dir2/f1.txt|F|895|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|898|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|912
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 1000
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|965
   /test_dir_0002/empty_dir1|D|967
   /test_dir_0002/empty_dir2|D|969
   /test_dir_0002/nonempty_dir1|D|970
   /test_dir_0002/nonempty_dir2|D|993
   /test_dir_0002/nonempty_dir1/d2|D|977
   /test_dir_0002/nonempty_dir1/f1.txt|F|973|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|990
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|980|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|1006
   /test_dir_0002/nonempty_dir2/f1.txt|F|996|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|998|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|1008
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 1000
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|1041
   /test_dir_0003/empty_dir1|D|1045
   /test_dir_0003/empty_dir2|D|1049
   /test_dir_0003/nonempty_dir1|D|1052
   /test_dir_0003/nonempty_dir2|D|1062
   /test_dir_0003/nonempty_dir1/d2|D|1055
   /test_dir_0003/nonempty_dir1/f1.txt|F|1053|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|1058
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|1056|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|1075
   /test_dir_0003/nonempty_dir2/f1.txt|F|1065|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|1068|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|1080
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 1000
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|1136
   /test_dir_0004/empty_dir1|D|1140
   /test_dir_0004/empty_dir2|D|1143
   /test_dir_0004/nonempty_dir1|D|1146
   /test_dir_0004/nonempty_dir2|D|1162
   /test_dir_0004/nonempty_dir1/d2|D|1152
   /test_dir_0004/nonempty_dir1/f1.txt|F|1150|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|1159
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|1154|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|1174
   /test_dir_0004/nonempty_dir2/f1.txt|F|1165|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|1168|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|1179
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 1000
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|1216
   /test_dir_0005/empty_dir1|D|1223
   /test_dir_0005/empty_dir2|D|1225
   /test_dir_0005/nonempty_dir1|D|1229
   /test_dir_0005/nonempty_dir2|D|1248
   /test_dir_0005/nonempty_dir1/d2|D|1235
   /test_dir_0005/nonempty_dir1/f1.txt|F|1232|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|1243
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|1238|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|1267
   /test_dir_0005/nonempty_dir2/f1.txt|F|1253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|1258|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|1271
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 1000
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|1292
   /test_dir_0006/empty_dir1|D|1297
   /test_dir_0006/empty_dir2|D|1301
   /test_dir_0006/nonempty_dir1|D|1306
   /test_dir_0006/nonempty_dir2|D|1327
   /test_dir_0006/nonempty_dir1/d2|D|1315
   /test_dir_0006/nonempty_dir1/f1.txt|F|1310|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|1324
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|1319|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|1338
   /test_dir_0006/nonempty_dir2/f1.txt|F|1330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|1332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|1339
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 1000
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|1374
   /test_dir_0007/empty_dir1|D|1379
   /test_dir_0007/empty_dir2|D|1382
   /test_dir_0007/nonempty_dir1|D|1387
   /test_dir_0007/nonempty_dir2|D|1407
   /test_dir_0007/nonempty_dir1/d2|D|1394
   /test_dir_0007/nonempty_dir1/f1.txt|F|1391|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1404
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1397|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1419
   /test_dir_0007/nonempty_dir2/f1.txt|F|1411|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1413|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1422
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 1000
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|1452
   /test_dir_0008/empty_dir1|D|1455
   /test_dir_0008/empty_dir2|D|1458
   /test_dir_0008/nonempty_dir1|D|1461
   /test_dir_0008/nonempty_dir2|D|1488
   /test_dir_0008/nonempty_dir1/d2|D|1470
   /test_dir_0008/nonempty_dir1/f1.txt|F|1466|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1484
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1502
   /test_dir_0008/nonempty_dir2/f1.txt|F|1492|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1495|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1505
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 1000
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|1530
   /test_dir_0009/empty_dir1|D|1534
   /test_dir_0009/empty_dir2|D|1536
   /test_dir_0009/nonempty_dir1|D|1540
   /test_dir_0009/nonempty_dir2|D|1559
   /test_dir_0009/nonempty_dir1/d2|D|1546
   /test_dir_0009/nonempty_dir1/f1.txt|F|1542|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1554
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1549|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1571
   /test_dir_0009/nonempty_dir2/f1.txt|F|1563|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1566|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1573
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 1000
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|1600
   /test_dir_0010/empty_dir1|D|1604
   /test_dir_0010/empty_dir2|D|1606
   /test_dir_0010/nonempty_dir1|D|1609
   /test_dir_0010/nonempty_dir2|D|1629
   /test_dir_0010/nonempty_dir1/d2|D|1615
   /test_dir_0010/nonempty_dir1/f1.txt|F|1611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1624
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1618|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1646
   /test_dir_0010/nonempty_dir2/f1.txt|F|1634|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1638|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1650
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 1000
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|1702
   /test_dir_0011/empty_dir1|D|1705
   /test_dir_0011/empty_dir2|D|1708
   /test_dir_0011/nonempty_dir1|D|1711
   /test_dir_0011/nonempty_dir2|D|1740
   /test_dir_0011/nonempty_dir1/d2|D|1723
   /test_dir_0011/nonempty_dir1/f1.txt|F|1718|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1735
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1727|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1752
   /test_dir_0011/nonempty_dir2/f1.txt|F|1744|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1747|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1760
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 1000
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|1808
   /test_dir_0012/empty_dir1|D|1813
   /test_dir_0012/empty_dir2|D|1816
   /test_dir_0012/nonempty_dir1|D|1819
   /test_dir_0012/nonempty_dir2|D|1847
   /test_dir_0012/nonempty_dir1/d2|D|1829
   /test_dir_0012/nonempty_dir1/f1.txt|F|1822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1842
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1832|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1863
   /test_dir_0012/nonempty_dir2/f1.txt|F|1852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1856|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1868
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 1000
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|1919
   /test_dir_0013/empty_dir1|D|1921
   /test_dir_0013/empty_dir2|D|1923
   /test_dir_0013/nonempty_dir1|D|1927
   /test_dir_0013/nonempty_dir2|D|1964
   /test_dir_0013/nonempty_dir1/d2|D|1940
   /test_dir_0013/nonempty_dir1/f1.txt|F|1935|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1957
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1946|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1981
   /test_dir_0013/nonempty_dir2/f1.txt|F|1969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1973|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1983
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|2047
   /test_dir_0014/empty_dir1|D|2049
   /test_dir_0014/empty_dir2|D|2051
   /test_dir_0014/nonempty_dir1|D|2053
   /test_dir_0014/nonempty_dir2|D|2084
   /test_dir_0014/nonempty_dir1/d2|D|2061
   /test_dir_0014/nonempty_dir1/f1.txt|F|2054|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|2080
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|2067|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|2100
   /test_dir_0014/nonempty_dir2/f1.txt|F|2089|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|2093|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|2106
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 1000
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|2168
   /test_dir_0015/empty_dir1|D|2172
   /test_dir_0015/empty_dir2|D|2174
   /test_dir_0015/nonempty_dir1|D|2175
   /test_dir_0015/nonempty_dir2|D|2201
   /test_dir_0015/nonempty_dir1/d2|D|2180
   /test_dir_0015/nonempty_dir1/f1.txt|F|2176|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2195
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2187|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2217
   /test_dir_0015/nonempty_dir2/f1.txt|F|2208|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2223
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 1000
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|2295
   /test_dir_0016/empty_dir1|D|2299
   /test_dir_0016/empty_dir2|D|2305
   /test_dir_0016/nonempty_dir1|D|2310
   /test_dir_0016/nonempty_dir2|D|2341
   /test_dir_0016/nonempty_dir1/d2|D|2323
   /test_dir_0016/nonempty_dir1/f1.txt|F|2317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2335
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2327|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2357
   /test_dir_0016/nonempty_dir2/f1.txt|F|2345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2351|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2364
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 1000
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|2412
   /test_dir_0017/empty_dir1|D|2414
   /test_dir_0017/empty_dir2|D|2419
   /test_dir_0017/nonempty_dir1|D|2425
   /test_dir_0017/nonempty_dir2|D|2453
   /test_dir_0017/nonempty_dir1/d2|D|2435
   /test_dir_0017/nonempty_dir1/f1.txt|F|2428|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2449
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2441|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2472
   /test_dir_0017/nonempty_dir2/f1.txt|F|2457|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2464|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2478
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 1000
Tau
RV_none

dump-result /test_dir_0018
   /test_dir_0018|D|2532
   /test_dir_0018/empty_dir1|D|2535
   /test_dir_0018/empty_dir2|D|2538
   /test_dir_0018/nonempty_dir1|D|2542
   /test_dir_0018/nonempty_dir2|D|2573
   /test_dir_0018/nonempty_dir1/d2|D|2552
   /test_dir_0018/nonempty_dir1/f1.txt|F|2547|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2565
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2559|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2588
   /test_dir_0018/nonempty_dir2/f1.txt|F|2578|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2581|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2594
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 1000
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|2650
   /test_dir_0019/empty_dir1|D|2652
   /test_dir_0019/empty_dir2|D|2656
   /test_dir_0019/nonempty_dir1|D|2661
   /test_dir_0019/nonempty_dir2|D|2697
   /test_dir_0019/nonempty_dir1/d2|D|2676
   /test_dir_0019/nonempty_dir1/f1.txt|F|2669|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2691
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2685|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2713
   /test_dir_0019/nonempty_dir2/f1.txt|F|2700|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2705|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2716
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 1000
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|2765
   /test_dir_0020/empty_dir1|D|2769
   /test_dir_0020/empty_dir2|D|2773
   /test_dir_0020/nonempty_dir1|D|2778
   /test_dir_0020/nonempty_dir2|D|2806
   /test_dir_0020/nonempty_dir1/d2|D|2786
   /test_dir_0020/nonempty_dir1/f1.txt|F|2784|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2801
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2794|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2821
   /test_dir_0020/nonempty_dir2/f1.txt|F|2810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2816|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2828
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 1000
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|2869
   /test_dir_0021/empty_dir1|D|2877
   /test_dir_0021/empty_dir2|D|2882
   /test_dir_0021/nonempty_dir1|D|2888
   /test_dir_0021/nonempty_dir2|D|2921
   /test_dir_0021/nonempty_dir1/d2|D|2903
   /test_dir_0021/nonempty_dir1/f1.txt|F|2892|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2919
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2907|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2937
   /test_dir_0021/nonempty_dir2/f1.txt|F|2924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2930|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2942
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|2979
   /test_dir_0022/empty_dir1|D|2985
   /test_dir_0022/empty_dir2|D|2990
   /test_dir_0022/nonempty_dir1|D|2996
   /test_dir_0022/nonempty_dir2|D|3022
   /test_dir_0022/nonempty_dir1/d2|D|3005
   /test_dir_0022/nonempty_dir1/f1.txt|F|3001|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|3019
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3010|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|3039
   /test_dir_0022/nonempty_dir2/f1.txt|F|3028|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3032|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3046
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 1000
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3079
   /test_dir_0023/empty_dir1|D|3084
   /test_dir_0023/empty_dir2|D|3090
   /test_dir_0023/nonempty_dir1|D|3097
   /test_dir_0023/nonempty_dir2|D|3124
   /test_dir_0023/nonempty_dir1/d2|D|3106
   /test_dir_0023/nonempty_dir1/f1.txt|F|3102|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3122
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3144
   /test_dir_0023/nonempty_dir2/f1.txt|F|3133|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3136|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3153
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 1000
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3189
   /test_dir_0024/empty_dir1|D|3194
   /test_dir_0024/empty_dir2|D|3200
   /test_dir_0024/nonempty_dir1|D|3208
   /test_dir_0024/nonempty_dir2|D|3245
   /test_dir_0024/nonempty_dir1/d2|D|3223
   /test_dir_0024/nonempty_dir1/f1.txt|F|3216|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3235
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3229|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3269
   /test_dir_0024/nonempty_dir2/f1.txt|F|3251|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3259|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3274
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 1000
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3318
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3327
   /test_dir_0025/nonempty_dir1|D|3333
   /test_dir_0025/nonempty_dir2|D|3360
   /test_dir_0025/nonempty_dir1/d2|D|3342
   /test_dir_0025/nonempty_dir1/f1.txt|F|3337|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3355
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3347|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3377
   /test_dir_0025/nonempty_dir2/f1.txt|F|3363|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3383
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 1000
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3443
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3457
   /test_dir_0026/nonempty_dir1|D|3463
   /test_dir_0026/nonempty_dir2|D|3487
   /test_dir_0026/nonempty_dir1/d2|D|3472
   /test_dir_0026/nonempty_dir1/f1.txt|F|3467|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3480
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3504
   /test_dir_0026/nonempty_dir2/f1.txt|F|3489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3512
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 1000
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3548
   /test_dir_0027/empty_dir1|D|3556
   /test_dir_0027/empty_dir2|D|3562
   /test_dir_0027/nonempty_dir1|D|3569
   /test_dir_0027/nonempty_dir2|D|3605
   /test_dir_0027/nonempty_dir1/d2|D|3582
   /test_dir_0027/nonempty_dir1/f1.txt|F|3576|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3599
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3589|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3619|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3637
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 1000
Tau
RV_none

dump-result /test_dir_0028
   /test_dir_0028|D|3688
   /test_dir_0028/empty_dir1|D|3695
   /test_dir_0028/empty_dir2|D|3702
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3749
   /test_dir_0028/nonempty_dir1/d2|D|3725
   /test_dir_0028/nonempty_dir1/f1.txt|F|3718|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3742
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3731|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3766
   /test_dir_0028/nonempty_dir2/f1.txt|F|3754|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3758|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3771
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 1000
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3813
   /test_dir_0029/empty_dir1|D|3821
   /test_dir_0029/empty_dir2|D|3824
   /test_dir_0029/nonempty_dir1|D|3831
   /test_dir_0029/nonempty_dir2|D|3865
   /test_dir_0029/nonempty_dir1/d2|D|3843
   /test_dir_0029/nonempty_dir1/f1.txt|F|3837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3860
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3848|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3884
   /test_dir_0029/nonempty_dir2/f1.txt|F|3871|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3877|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3890
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 1000
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3914
   /test_dir_0030/empty_dir1|D|3919
   /test_dir_0030/empty_dir2|D|3924
   /test_dir_0030/nonempty_dir1|D|3929
   /test_dir_0030/nonempty_dir2|D|3958
   /test_dir_0030/nonempty_dir1/d2|D|3940
   /test_dir_0030/nonempty_dir1/f1.txt|F|3934|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3954
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3948|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3977
   /test_dir_0030/nonempty_dir2/f1.txt|F|3962|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3968|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3982
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 1000
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|4025
   /test_dir_0031/empty_dir1|D|4032
   /test_dir_0031/empty_dir2|D|4038
   /test_dir_0031/nonempty_dir1|D|4044
   /test_dir_0031/nonempty_dir2|D|4080
   /test_dir_0031/nonempty_dir1/d2|D|4055
   /test_dir_0031/nonempty_dir1/f1.txt|F|4049|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4075
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4064|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4100
   /test_dir_0031/nonempty_dir2/f1.txt|F|4086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4105
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 1000
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|4139
   /test_dir_0032/empty_dir1|D|4145
   /test_dir_0032/empty_dir2|D|4148
   /test_dir_0032/nonempty_dir1|D|4154
   /test_dir_0032/nonempty_dir2|D|4184
   /test_dir_0032/nonempty_dir1/d2|D|4165
   /test_dir_0032/nonempty_dir1/f1.txt|F|4160|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4179
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4171|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4209
   /test_dir_0032/nonempty_dir2/f1.txt|F|4190|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4195|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4211
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 1000
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|4233
   /test_dir_0033/empty_dir1|D|4234
   /test_dir_0033/empty_dir2|D|4241
   /test_dir_0033/nonempty_dir1|D|4247
   /test_dir_0033/nonempty_dir2|D|4275
   /test_dir_0033/nonempty_dir1/d2|D|4260
   /test_dir_0033/nonempty_dir1/f1.txt|F|4253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4273
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4266|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4294
   /test_dir_0033/nonempty_dir2/f1.txt|F|4281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4286|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4299
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 1000
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|4347
   /test_dir_0034/empty_dir1|D|4350
   /test_dir_0034/empty_dir2|D|4354
   /test_dir_0034/nonempty_dir1|D|4359
   /test_dir_0034/nonempty_dir2|D|4385
   /test_dir_0034/nonempty_dir1/d2|D|4368
   /test_dir_0034/nonempty_dir1/f1.txt|F|4364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4382
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4373|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4407
   /test_dir_0034/nonempty_dir2/f1.txt|F|4389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4396|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4410
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 1000
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4442
   /test_dir_0035/empty_dir1|D|4444
   /test_dir_0035/empty_dir2|D|4450
   /test_dir_0035/nonempty_dir1|D|4456
   /test_dir_0035/nonempty_dir2|D|4485
   /test_dir_0035/nonempty_dir1/d2|D|4467
   /test_dir_0035/nonempty_dir1/f1.txt|F|4461|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4481
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4473|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4504
   /test_dir_0035/nonempty_dir2/f1.txt|F|4491|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4497|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4509
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 1000
Tau
RV_none

dump-result /test_dir_0036
   /test_dir_0036|D|4559
   /test_dir_0036/empty_dir1|D|4561
   /test_dir_0036/empty_dir2|D|4566
   /test_dir_0036/nonempty_dir1|D|4571
   /test_dir_0036/nonempty_dir2|D|4593
   /test_dir_0036/nonempty_dir1/d2|D|4578
   /test_dir_0036/nonempty_dir1/f1.txt|F|4574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4590
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4583|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4610
   /test_dir_0036/nonempty_dir2/f1.txt|F|4598|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4615
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 1000
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4672
   /test_dir_0037/empty_dir1|D|4677
   /test_dir_0037/empty_dir2|D|4680
   /test_dir_0037/nonempty_dir1|D|4682
   /test_dir_0037/nonempty_dir2|D|4712
   /test_dir_0037/nonempty_dir1/d2|D|4694
   /test_dir_0037/nonempty_dir1/f1.txt|F|4688|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4708
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4700|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4730
   /test_dir_0037/nonempty_dir2/f1.txt|F|4717|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0037/nonempty_dir2/f2.txt|F|4724|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4738
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4784
   /test_dir_0038/empty_dir1|D|4788
   /test_dir_0038/empty_dir2|D|4794
   /test_dir_0038/nonempty_dir1|D|4800
   /test_dir_0038/nonempty_dir2|D|4830
   /test_dir_0038/nonempty_dir1/d2|D|4810
   /test_dir_0038/nonempty_dir1/f1.txt|F|4806|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4825
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4815|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4847
   /test_dir_0038/nonempty_dir2/f1.txt|F|4837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4841|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4852
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 1000
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4894
   /test_dir_0039/empty_dir1|D|4899
   /test_dir_0039/empty_dir2|D|4905
   /test_dir_0039/nonempty_dir1|D|4910
   /test_dir_0039/nonempty_dir2|D|4940
   /test_dir_0039/nonempty_dir1/d2|D|4923
   /test_dir_0039/nonempty_dir1/f1.txt|F|4916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|4935
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4927|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|4955
   /test_dir_0039/nonempty_dir2/f1.txt|F|4941|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4947|1000|399f5ffef7a3ffbb2de9b4a80f09cb13f6d2a697
   /test_dir_0039/nonempty_dir2/d2/d3|D|4957
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4992
   /test_dir_0040/empty_dir1|D|4995
   /test_dir_0040/empty_dir2|D|5001
   /test_dir_0040/nonempty_dir1|D|5006
   /test_dir_0040/nonempty_dir2|D|5032
   /test_dir_0040/nonempty_dir1/d2|D|5014
   /test_dir_0040/nonempty_dir1/f1.txt|F|5009|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5026
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5017|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5052
   /test_dir_0040/nonempty_dir2/f1.txt|F|5037|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5042|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5057
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 1000
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5085
   /test_dir_0041/empty_dir1|D|5093
   /test_dir_0041/empty_dir2|D|5096
   /test_dir_0041/nonempty_dir1|D|5101
   /test_dir_0041/nonempty_dir2|D|5124
   /test_dir_0041/nonempty_dir1/d2|D|5109
   /test_dir_0041/nonempty_dir1/f1.txt|F|5105|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5120
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5137
   /test_dir_0041/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5131|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5141
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 1000
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5158
   /test_dir_0042/empty_dir1|D|5163
   /test_dir_0042/empty_dir2|D|5168
   /test_dir_0042/nonempty_dir1|D|5171
   /test_dir_0042/nonempty_dir2|D|5192
   /test_dir_0042/nonempty_dir1/d2|D|5179
   /test_dir_0042/nonempty_dir1/f1.txt|F|5175|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5188
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5182|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5203
   /test_dir_0042/nonempty_dir2/f1.txt|F|5195|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5198|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5205
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 1000
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5235
   /test_dir_0043/empty_dir1|D|5238
   /test_dir_0043/empty_dir2|D|5242
   /test_dir_0043/nonempty_dir1|D|5245
   /test_dir_0043/nonempty_dir2|D|5265
   /test_dir_0043/nonempty_dir1/d2|D|5251
   /test_dir_0043/nonempty_dir1/f1.txt|F|5248|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5262
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5255|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5279
   /test_dir_0043/nonempty_dir2/f1.txt|F|5268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5272|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5280
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 1000
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5304
   /test_dir_0044/empty_dir1|D|5307
   /test_dir_0044/empty_dir2|D|5310
   /test_dir_0044/nonempty_dir1|D|5312
   /test_dir_0044/nonempty_dir2|D|5329
   /test_dir_0044/nonempty_dir1/d2|D|5318
   /test_dir_0044/nonempty_dir1/f1.txt|F|5315|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5326
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5336
   /test_dir_0044/nonempty_dir2/f1.txt|F|5330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5338
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 1000
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5353
   /test_dir_0045/empty_dir1|D|5355
   /test_dir_0045/empty_dir2|D|5358
   /test_dir_0045/nonempty_dir1|D|5360
   /test_dir_0045/nonempty_dir2|D|5375
   /test_dir_0045/nonempty_dir1/d2|D|5365
   /test_dir_0045/nonempty_dir1/f1.txt|F|5362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5372
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5384
   /test_dir_0045/nonempty_dir2/f1.txt|F|5377|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5380|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5386
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 1000
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|5412
   /test_dir_0046/empty_dir1|D|5414
   /test_dir_0046/empty_dir2|D|5417
   /test_dir_0046/nonempty_dir1|D|5419
   /test_dir_0046/nonempty_dir2|D|5433
   /test_dir_0046/nonempty_dir1/d2|D|5423
   /test_dir_0046/nonempty_dir1/f1.txt|F|5420|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5431
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5426|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5443
   /test_dir_0046/nonempty_dir2/f1.txt|F|5435|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5439|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5446
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 -100
Tau
EINVAL

dump-result /test_dir_0001
   /test_dir_0001|D|877
   /test_dir_0001/empty_dir1|D|881
   /test_dir_0001/empty_dir2|D|884
   /test_dir_0001/nonempty_dir1|D|885
   /test_dir_0001/nonempty_dir2|D|892
   /test_dir_0001/nonempty_dir1/d2|D|887
   /test_dir_0001/nonempty_dir1/f1.txt|F|886|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2/d3|D|890
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|888|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir2/d2|D|906
   /test_dir_0001/nonempty_dir2/f1.txt|F|895|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|898|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2/d3|D|912
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ -100
Tau
EINVAL

dump-result /test_dir_0002
   /test_dir_0002|D|965
   /test_dir_0002/empty_dir1|D|967
   /test_dir_0002/empty_dir2|D|969
   /test_dir_0002/nonempty_dir1|D|970
   /test_dir_0002/nonempty_dir2|D|993
   /test_dir_0002/nonempty_dir1/d2|D|977
   /test_dir_0002/nonempty_dir1/f1.txt|F|973|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2/d3|D|990
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|980|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir2/d2|D|1006
   /test_dir_0002/nonempty_dir2/f1.txt|F|996|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|998|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2/d3|D|1008
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 -100
Tau
EINVAL

dump-result /test_dir_0003
   /test_dir_0003|D|1041
   /test_dir_0003/empty_dir1|D|1045
   /test_dir_0003/empty_dir2|D|1049
   /test_dir_0003/nonempty_dir1|D|1052
   /test_dir_0003/nonempty_dir2|D|1062
   /test_dir_0003/nonempty_dir1/d2|D|1055
   /test_dir_0003/nonempty_dir1/f1.txt|F|1053|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2/d3|D|1058
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|1056|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir2/d2|D|1075
   /test_dir_0003/nonempty_dir2/f1.txt|F|1065|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|1068|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2/d3|D|1080
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ -100
Tau
EINVAL

dump-result /test_dir_0004
   /test_dir_0004|D|1136
   /test_dir_0004/empty_dir1|D|1140
   /test_dir_0004/empty_dir2|D|1143
   /test_dir_0004/nonempty_dir1|D|1146
   /test_dir_0004/nonempty_dir2|D|1162
   /test_dir_0004/nonempty_dir1/d2|D|1152
   /test_dir_0004/nonempty_dir1/f1.txt|F|1150|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2/d3|D|1159
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|1154|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir2/d2|D|1174
   /test_dir_0004/nonempty_dir2/f1.txt|F|1165|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|1168|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2/d3|D|1179
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 -100
Tau
EINVAL

dump-result /test_dir_0005
   /test_dir_0005|D|1216
   /test_dir_0005/empty_dir1|D|1223
   /test_dir_0005/empty_dir2|D|1225
   /test_dir_0005/nonempty_dir1|D|1229
   /test_dir_0005/nonempty_dir2|D|1248
   /test_dir_0005/nonempty_dir1/d2|D|1235
   /test_dir_0005/nonempty_dir1/f1.txt|F|1232|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2/d3|D|1243
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|1238|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir2/d2|D|1267
   /test_dir_0005/nonempty_dir2/f1.txt|F|1253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|1258|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2/d3|D|1271
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ -100
Tau
EINVAL

dump-result /test_dir_0006
   /test_dir_0006|D|1292
   /test_dir_0006/empty_dir1|D|1297
   /test_dir_0006/empty_dir2|D|1301
   /test_dir_0006/nonempty_dir1|D|1306
   /test_dir_0006/nonempty_dir2|D|1327
   /test_dir_0006/nonempty_dir1/d2|D|1315
   /test_dir_0006/nonempty_dir1/f1.txt|F|1310|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2/d3|D|1324
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|1319|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir2/d2|D|1338
   /test_dir_0006/nonempty_dir2/f1.txt|F|1330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|1332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2/d3|D|1339
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 -100
Tau
EINVAL

dump-result /test_dir_0007
   /test_dir_0007|D|1374
   /test_dir_0007/empty_dir1|D|1379
   /test_dir_0007/empty_dir2|D|1382
   /test_dir_0007/nonempty_dir1|D|1387
   /test_dir_0007/nonempty_dir2|D|1407
   /test_dir_0007/nonempty_dir1/d2|D|1394
   /test_dir_0007/nonempty_dir1/f1.txt|F|1391|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2/d3|D|1404
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|1397|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir2/d2|D|1419
   /test_dir_0007/nonempty_dir2/f1.txt|F|1411|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|1413|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2/d3|D|1422
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ -100
Tau
EINVAL

dump-result /test_dir_0008
   /test_dir_0008|D|1452
   /test_dir_0008/empty_dir1|D|1455
   /test_dir_0008/empty_dir2|D|1458
   /test_dir_0008/nonempty_dir1|D|1461
   /test_dir_0008/nonempty_dir2|D|1488
   /test_dir_0008/nonempty_dir1/d2|D|1470
   /test_dir_0008/nonempty_dir1/f1.txt|F|1466|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2/d3|D|1484
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|1477|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir2/d2|D|1502
   /test_dir_0008/nonempty_dir2/f1.txt|F|1492|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|1495|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2/d3|D|1505
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 -100
Tau
EINVAL

dump-result /test_dir_0009
   /test_dir_0009|D|1530
   /test_dir_0009/empty_dir1|D|1534
   /test_dir_0009/empty_dir2|D|1536
   /test_dir_0009/nonempty_dir1|D|1540
   /test_dir_0009/nonempty_dir2|D|1559
   /test_dir_0009/nonempty_dir1/d2|D|1546
   /test_dir_0009/nonempty_dir1/f1.txt|F|1542|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2/d3|D|1554
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|1549|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir2/d2|D|1571
   /test_dir_0009/nonempty_dir2/f1.txt|F|1563|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|1566|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2/d3|D|1573
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ -100
Tau
EINVAL

dump-result /test_dir_0010
   /test_dir_0010|D|1600
   /test_dir_0010/empty_dir1|D|1604
   /test_dir_0010/empty_dir2|D|1606
   /test_dir_0010/nonempty_dir1|D|1609
   /test_dir_0010/nonempty_dir2|D|1629
   /test_dir_0010/nonempty_dir1/d2|D|1615
   /test_dir_0010/nonempty_dir1/f1.txt|F|1611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2/d3|D|1624
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|1618|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir2/d2|D|1646
   /test_dir_0010/nonempty_dir2/f1.txt|F|1634|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|1638|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2/d3|D|1650
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 -100
Tau
EINVAL

dump-result /test_dir_0011
   /test_dir_0011|D|1702
   /test_dir_0011/empty_dir1|D|1705
   /test_dir_0011/empty_dir2|D|1708
   /test_dir_0011/nonempty_dir1|D|1711
   /test_dir_0011/nonempty_dir2|D|1740
   /test_dir_0011/nonempty_dir1/d2|D|1723
   /test_dir_0011/nonempty_dir1/f1.txt|F|1718|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2/d3|D|1735
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|1727|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir2/d2|D|1752
   /test_dir_0011/nonempty_dir2/f1.txt|F|1744|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|1747|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2/d3|D|1760
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ -100
Tau
EINVAL

dump-result /test_dir_0012
   /test_dir_0012|D|1808
   /test_dir_0012/empty_dir1|D|1813
   /test_dir_0012/empty_dir2|D|1816
   /test_dir_0012/nonempty_dir1|D|1819
   /test_dir_0012/nonempty_dir2|D|1847
   /test_dir_0012/nonempty_dir1/d2|D|1829
   /test_dir_0012/nonempty_dir1/f1.txt|F|1822|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2/d3|D|1842
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|1832|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir2/d2|D|1863
   /test_dir_0012/nonempty_dir2/f1.txt|F|1852|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|1856|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2/d3|D|1868
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt -100
Tau
EINVAL

dump-result /test_dir_0013
   /test_dir_0013|D|1919
   /test_dir_0013/empty_dir1|D|1921
   /test_dir_0013/empty_dir2|D|1923
   /test_dir_0013/nonempty_dir1|D|1927
   /test_dir_0013/nonempty_dir2|D|1964
   /test_dir_0013/nonempty_dir1/d2|D|1940
   /test_dir_0013/nonempty_dir1/f1.txt|F|1935|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2/d3|D|1957
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|1946|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir2/d2|D|1981
   /test_dir_0013/nonempty_dir2/f1.txt|F|1969|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|1973|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2/d3|D|1983
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ -100
Tau
EINVAL

dump-result /test_dir_0014
   /test_dir_0014|D|2047
   /test_dir_0014/empty_dir1|D|2049
   /test_dir_0014/empty_dir2|D|2051
   /test_dir_0014/nonempty_dir1|D|2053
   /test_dir_0014/nonempty_dir2|D|2084
   /test_dir_0014/nonempty_dir1/d2|D|2061
   /test_dir_0014/nonempty_dir1/f1.txt|F|2054|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2/d3|D|2080
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|2067|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir2/d2|D|2100
   /test_dir_0014/nonempty_dir2/f1.txt|F|2089|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|2093|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2/d3|D|2106
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 -100
Tau
EINVAL

dump-result /test_dir_0015
   /test_dir_0015|D|2168
   /test_dir_0015/empty_dir1|D|2172
   /test_dir_0015/empty_dir2|D|2174
   /test_dir_0015/nonempty_dir1|D|2175
   /test_dir_0015/nonempty_dir2|D|2201
   /test_dir_0015/nonempty_dir1/d2|D|2180
   /test_dir_0015/nonempty_dir1/f1.txt|F|2176|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2/d3|D|2195
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|2187|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir2/d2|D|2217
   /test_dir_0015/nonempty_dir2/f1.txt|F|2208|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|2210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2/d3|D|2223
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ -100
Tau
EINVAL

dump-result /test_dir_0016
   /test_dir_0016|D|2295
   /test_dir_0016/empty_dir1|D|2299
   /test_dir_0016/empty_dir2|D|2305
   /test_dir_0016/nonempty_dir1|D|2310
   /test_dir_0016/nonempty_dir2|D|2341
   /test_dir_0016/nonempty_dir1/d2|D|2323
   /test_dir_0016/nonempty_dir1/f1.txt|F|2317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2/d3|D|2335
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|2327|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir2/d2|D|2357
   /test_dir_0016/nonempty_dir2/f1.txt|F|2345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|2351|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2/d3|D|2364
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt -100
Tau
EINVAL

dump-result /test_dir_0017
   /test_dir_0017|D|2412
   /test_dir_0017/empty_dir1|D|2414
   /test_dir_0017/empty_dir2|D|2419
   /test_dir_0017/nonempty_dir1|D|2425
   /test_dir_0017/nonempty_dir2|D|2453
   /test_dir_0017/nonempty_dir1/d2|D|2435
   /test_dir_0017/nonempty_dir1/f1.txt|F|2428|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2/d3|D|2449
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|2441|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir2/d2|D|2472
   /test_dir_0017/nonempty_dir2/f1.txt|F|2457|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|2464|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2/d3|D|2478
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0018
   /test_dir_0018|D|2532
   /test_dir_0018/empty_dir1|D|2535
   /test_dir_0018/empty_dir2|D|2538
   /test_dir_0018/nonempty_dir1|D|2542
   /test_dir_0018/nonempty_dir2|D|2573
   /test_dir_0018/nonempty_dir1/d2|D|2552
   /test_dir_0018/nonempty_dir1/f1.txt|F|2547|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2/d3|D|2565
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|2559|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir2/d2|D|2588
   /test_dir_0018/nonempty_dir2/f1.txt|F|2578|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|2581|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2/d3|D|2594
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target -100
Tau
EINVAL

dump-result /test_dir_0019
   /test_dir_0019|D|2650
   /test_dir_0019/empty_dir1|D|2652
   /test_dir_0019/empty_dir2|D|2656
   /test_dir_0019/nonempty_dir1|D|2661
   /test_dir_0019/nonempty_dir2|D|2697
   /test_dir_0019/nonempty_dir1/d2|D|2676
   /test_dir_0019/nonempty_dir1/f1.txt|F|2669|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2/d3|D|2691
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|2685|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir2/d2|D|2713
   /test_dir_0019/nonempty_dir2/f1.txt|F|2700|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|2705|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2/d3|D|2716
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ -100
Tau
EINVAL

dump-result /test_dir_0020
   /test_dir_0020|D|2765
   /test_dir_0020/empty_dir1|D|2769
   /test_dir_0020/empty_dir2|D|2773
   /test_dir_0020/nonempty_dir1|D|2778
   /test_dir_0020/nonempty_dir2|D|2806
   /test_dir_0020/nonempty_dir1/d2|D|2786
   /test_dir_0020/nonempty_dir1/f1.txt|F|2784|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2/d3|D|2801
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|2794|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir2/d2|D|2821
   /test_dir_0020/nonempty_dir2/f1.txt|F|2810|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|2816|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2/d3|D|2828
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt -100
Tau
EINVAL

dump-result /test_dir_0021
   /test_dir_0021|D|2869
   /test_dir_0021/empty_dir1|D|2877
   /test_dir_0021/empty_dir2|D|2882
   /test_dir_0021/nonempty_dir1|D|2888
   /test_dir_0021/nonempty_dir2|D|2921
   /test_dir_0021/nonempty_dir1/d2|D|2903
   /test_dir_0021/nonempty_dir1/f1.txt|F|2892|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2/d3|D|2919
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|2907|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir2/d2|D|2937
   /test_dir_0021/nonempty_dir2/f1.txt|F|2924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|2930|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2/d3|D|2942
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0022
   /test_dir_0022|D|2979
   /test_dir_0022/empty_dir1|D|2985
   /test_dir_0022/empty_dir2|D|2990
   /test_dir_0022/nonempty_dir1|D|2996
   /test_dir_0022/nonempty_dir2|D|3022
   /test_dir_0022/nonempty_dir1/d2|D|3005
   /test_dir_0022/nonempty_dir1/f1.txt|F|3001|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2/d3|D|3019
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3010|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir2/d2|D|3039
   /test_dir_0022/nonempty_dir2/f1.txt|F|3028|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3032|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2/d3|D|3046
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 -100
Tau
EINVAL

dump-result /test_dir_0023
   /test_dir_0023|D|3079
   /test_dir_0023/empty_dir1|D|3084
   /test_dir_0023/empty_dir2|D|3090
   /test_dir_0023/nonempty_dir1|D|3097
   /test_dir_0023/nonempty_dir2|D|3124
   /test_dir_0023/nonempty_dir1/d2|D|3106
   /test_dir_0023/nonempty_dir1/f1.txt|F|3102|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2/d3|D|3122
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir2/d2|D|3144
   /test_dir_0023/nonempty_dir2/f1.txt|F|3133|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3136|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2/d3|D|3153
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ -100
Tau
EINVAL

dump-result /test_dir_0024
   /test_dir_0024|D|3189
   /test_dir_0024/empty_dir1|D|3194
   /test_dir_0024/empty_dir2|D|3200
   /test_dir_0024/nonempty_dir1|D|3208
   /test_dir_0024/nonempty_dir2|D|3245
   /test_dir_0024/nonempty_dir1/d2|D|3223
   /test_dir_0024/nonempty_dir1/f1.txt|F|3216|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2/d3|D|3235
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3229|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir2/d2|D|3269
   /test_dir_0024/nonempty_dir2/f1.txt|F|3251|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3259|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2/d3|D|3274
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 -100
Tau
EINVAL

dump-result /test_dir_0025
   /test_dir_0025|D|3318
   /test_dir_0025/empty_dir1|D|3325
   /test_dir_0025/empty_dir2|D|3327
   /test_dir_0025/nonempty_dir1|D|3333
   /test_dir_0025/nonempty_dir2|D|3360
   /test_dir_0025/nonempty_dir1/d2|D|3342
   /test_dir_0025/nonempty_dir1/f1.txt|F|3337|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2/d3|D|3355
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3347|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir2/d2|D|3377
   /test_dir_0025/nonempty_dir2/f1.txt|F|3363|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2/d3|D|3383
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ -100
Tau
EINVAL

dump-result /test_dir_0026
   /test_dir_0026|D|3443
   /test_dir_0026/empty_dir1|D|3450
   /test_dir_0026/empty_dir2|D|3457
   /test_dir_0026/nonempty_dir1|D|3463
   /test_dir_0026/nonempty_dir2|D|3487
   /test_dir_0026/nonempty_dir1/d2|D|3472
   /test_dir_0026/nonempty_dir1/f1.txt|F|3467|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2/d3|D|3480
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir2/d2|D|3504
   /test_dir_0026/nonempty_dir2/f1.txt|F|3489|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3493|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2/d3|D|3512
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt -100
Tau
EINVAL

dump-result /test_dir_0027
   /test_dir_0027|D|3548
   /test_dir_0027/empty_dir1|D|3556
   /test_dir_0027/empty_dir2|D|3562
   /test_dir_0027/nonempty_dir1|D|3569
   /test_dir_0027/nonempty_dir2|D|3605
   /test_dir_0027/nonempty_dir1/d2|D|3582
   /test_dir_0027/nonempty_dir1/f1.txt|F|3576|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2/d3|D|3599
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3589|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir2/d2|D|3626
   /test_dir_0027/nonempty_dir2/f1.txt|F|3611|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3619|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2/d3|D|3637
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0028
   /test_dir_0028|D|3688
   /test_dir_0028/empty_dir1|D|3695
   /test_dir_0028/empty_dir2|D|3702
   /test_dir_0028/nonempty_dir1|D|3709
   /test_dir_0028/nonempty_dir2|D|3749
   /test_dir_0028/nonempty_dir1/d2|D|3725
   /test_dir_0028/nonempty_dir1/f1.txt|F|3718|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2/d3|D|3742
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3731|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir2/d2|D|3766
   /test_dir_0028/nonempty_dir2/f1.txt|F|3754|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3758|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2/d3|D|3771
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 -100
Tau
EINVAL

dump-result /test_dir_0029
   /test_dir_0029|D|3813
   /test_dir_0029/empty_dir1|D|3821
   /test_dir_0029/empty_dir2|D|3824
   /test_dir_0029/nonempty_dir1|D|3831
   /test_dir_0029/nonempty_dir2|D|3865
   /test_dir_0029/nonempty_dir1/d2|D|3843
   /test_dir_0029/nonempty_dir1/f1.txt|F|3837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2/d3|D|3860
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3848|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir2/d2|D|3884
   /test_dir_0029/nonempty_dir2/f1.txt|F|3871|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3877|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2/d3|D|3890
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ -100
Tau
EINVAL

dump-result /test_dir_0030
   /test_dir_0030|D|3914
   /test_dir_0030/empty_dir1|D|3919
   /test_dir_0030/empty_dir2|D|3924
   /test_dir_0030/nonempty_dir1|D|3929
   /test_dir_0030/nonempty_dir2|D|3958
   /test_dir_0030/nonempty_dir1/d2|D|3940
   /test_dir_0030/nonempty_dir1/f1.txt|F|3934|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2/d3|D|3954
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3948|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir2/d2|D|3977
   /test_dir_0030/nonempty_dir2/f1.txt|F|3962|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3968|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2/d3|D|3982
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 -100
Tau
EINVAL

dump-result /test_dir_0031
   /test_dir_0031|D|4025
   /test_dir_0031/empty_dir1|D|4032
   /test_dir_0031/empty_dir2|D|4038
   /test_dir_0031/nonempty_dir1|D|4044
   /test_dir_0031/nonempty_dir2|D|4080
   /test_dir_0031/nonempty_dir1/d2|D|4055
   /test_dir_0031/nonempty_dir1/f1.txt|F|4049|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2/d3|D|4075
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|4064|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir2/d2|D|4100
   /test_dir_0031/nonempty_dir2/f1.txt|F|4086|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|4091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2/d3|D|4105
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ -100
Tau
EINVAL

dump-result /test_dir_0032
   /test_dir_0032|D|4139
   /test_dir_0032/empty_dir1|D|4145
   /test_dir_0032/empty_dir2|D|4148
   /test_dir_0032/nonempty_dir1|D|4154
   /test_dir_0032/nonempty_dir2|D|4184
   /test_dir_0032/nonempty_dir1/d2|D|4165
   /test_dir_0032/nonempty_dir1/f1.txt|F|4160|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2/d3|D|4179
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|4171|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir2/d2|D|4209
   /test_dir_0032/nonempty_dir2/f1.txt|F|4190|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|4195|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2/d3|D|4211
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 -100
Tau
EINVAL

dump-result /test_dir_0033
   /test_dir_0033|D|4233
   /test_dir_0033/empty_dir1|D|4234
   /test_dir_0033/empty_dir2|D|4241
   /test_dir_0033/nonempty_dir1|D|4247
   /test_dir_0033/nonempty_dir2|D|4275
   /test_dir_0033/nonempty_dir1/d2|D|4260
   /test_dir_0033/nonempty_dir1/f1.txt|F|4253|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2/d3|D|4273
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|4266|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir2/d2|D|4294
   /test_dir_0033/nonempty_dir2/f1.txt|F|4281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|4286|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2/d3|D|4299
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ -100
Tau
EINVAL

dump-result /test_dir_0034
   /test_dir_0034|D|4347
   /test_dir_0034/empty_dir1|D|4350
   /test_dir_0034/empty_dir2|D|4354
   /test_dir_0034/nonempty_dir1|D|4359
   /test_dir_0034/nonempty_dir2|D|4385
   /test_dir_0034/nonempty_dir1/d2|D|4368
   /test_dir_0034/nonempty_dir1/f1.txt|F|4364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2/d3|D|4382
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|4373|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir2/d2|D|4407
   /test_dir_0034/nonempty_dir2/f1.txt|F|4389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|4396|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2/d3|D|4410
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt -100
Tau
EINVAL

dump-result /test_dir_0035
   /test_dir_0035|D|4442
   /test_dir_0035/empty_dir1|D|4444
   /test_dir_0035/empty_dir2|D|4450
   /test_dir_0035/nonempty_dir1|D|4456
   /test_dir_0035/nonempty_dir2|D|4485
   /test_dir_0035/nonempty_dir1/d2|D|4467
   /test_dir_0035/nonempty_dir1/f1.txt|F|4461|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2/d3|D|4481
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4473|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir2/d2|D|4504
   /test_dir_0035/nonempty_dir2/f1.txt|F|4491|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4497|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2/d3|D|4509
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ -100
Tau
EINVAL

dump-result /test_dir_0036
   /test_dir_0036|D|4559
   /test_dir_0036/empty_dir1|D|4561
   /test_dir_0036/empty_dir2|D|4566
   /test_dir_0036/nonempty_dir1|D|4571
   /test_dir_0036/nonempty_dir2|D|4593
   /test_dir_0036/nonempty_dir1/d2|D|4578
   /test_dir_0036/nonempty_dir1/f1.txt|F|4574|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2/d3|D|4590
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4583|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir2/d2|D|4610
   /test_dir_0036/nonempty_dir2/f1.txt|F|4598|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4602|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2/d3|D|4615
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt -100
Tau
EINVAL

dump-result /test_dir_0037
   /test_dir_0037|D|4672
   /test_dir_0037/empty_dir1|D|4677
   /test_dir_0037/empty_dir2|D|4680
   /test_dir_0037/nonempty_dir1|D|4682
   /test_dir_0037/nonempty_dir2|D|4712
   /test_dir_0037/nonempty_dir1/d2|D|4694
   /test_dir_0037/nonempty_dir1/f1.txt|F|4688|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2/d3|D|4708
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4700|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir2/d2|D|4730
   /test_dir_0037/nonempty_dir2/f1.txt|F|4717|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0037/nonempty_dir2/f2.txt|F|4724|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2/d3|D|4738
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0038
   /test_dir_0038|D|4784
   /test_dir_0038/empty_dir1|D|4788
   /test_dir_0038/empty_dir2|D|4794
   /test_dir_0038/nonempty_dir1|D|4800
   /test_dir_0038/nonempty_dir2|D|4830
   /test_dir_0038/nonempty_dir1/d2|D|4810
   /test_dir_0038/nonempty_dir1/f1.txt|F|4806|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2/d3|D|4825
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4815|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir2/d2|D|4847
   /test_dir_0038/nonempty_dir2/f1.txt|F|4837|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4841|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2/d3|D|4852
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt -100
Tau
EINVAL

dump-result /test_dir_0039
   /test_dir_0039|D|4894
   /test_dir_0039/empty_dir1|D|4899
   /test_dir_0039/empty_dir2|D|4905
   /test_dir_0039/nonempty_dir1|D|4910
   /test_dir_0039/nonempty_dir2|D|4940
   /test_dir_0039/nonempty_dir1/d2|D|4923
   /test_dir_0039/nonempty_dir1/f1.txt|F|4916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2/d3|D|4935
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4927|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir2/d2|D|4955
   /test_dir_0039/nonempty_dir2/f1.txt|F|4941|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4947|1000|399f5ffef7a3ffbb2de9b4a80f09cb13f6d2a697
   /test_dir_0039/nonempty_dir2/d2/d3|D|4957
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ -100
Tau
EINVAL

dump-result /test_dir_0040
   /test_dir_0040|D|4992
   /test_dir_0040/empty_dir1|D|4995
   /test_dir_0040/empty_dir2|D|5001
   /test_dir_0040/nonempty_dir1|D|5006
   /test_dir_0040/nonempty_dir2|D|5032
   /test_dir_0040/nonempty_dir1/d2|D|5014
   /test_dir_0040/nonempty_dir1/f1.txt|F|5009|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2/d3|D|5026
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|5017|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir2/d2|D|5052
   /test_dir_0040/nonempty_dir2/f1.txt|F|5037|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5042|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2/d3|D|5057
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 -100
Tau
EINVAL

dump-result /test_dir_0041
   /test_dir_0041|D|5085
   /test_dir_0041/empty_dir1|D|5093
   /test_dir_0041/empty_dir2|D|5096
   /test_dir_0041/nonempty_dir1|D|5101
   /test_dir_0041/nonempty_dir2|D|5124
   /test_dir_0041/nonempty_dir1/d2|D|5109
   /test_dir_0041/nonempty_dir1/f1.txt|F|5105|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2/d3|D|5120
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5113|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir2/d2|D|5137
   /test_dir_0041/nonempty_dir2/f1.txt|F|5128|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5131|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2/d3|D|5141
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ -100
Tau
EINVAL

dump-result /test_dir_0042
   /test_dir_0042|D|5158
   /test_dir_0042/empty_dir1|D|5163
   /test_dir_0042/empty_dir2|D|5168
   /test_dir_0042/nonempty_dir1|D|5171
   /test_dir_0042/nonempty_dir2|D|5192
   /test_dir_0042/nonempty_dir1/d2|D|5179
   /test_dir_0042/nonempty_dir1/f1.txt|F|5175|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2/d3|D|5188
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5182|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir2/d2|D|5203
   /test_dir_0042/nonempty_dir2/f1.txt|F|5195|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5198|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2/d3|D|5205
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 -100
Tau
EINVAL

dump-result /test_dir_0043
   /test_dir_0043|D|5235
   /test_dir_0043/empty_dir1|D|5238
   /test_dir_0043/empty_dir2|D|5242
   /test_dir_0043/nonempty_dir1|D|5245
   /test_dir_0043/nonempty_dir2|D|5265
   /test_dir_0043/nonempty_dir1/d2|D|5251
   /test_dir_0043/nonempty_dir1/f1.txt|F|5248|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2/d3|D|5262
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5255|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir2/d2|D|5279
   /test_dir_0043/nonempty_dir2/f1.txt|F|5268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5272|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2/d3|D|5280
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ -100
Tau
EINVAL

dump-result /test_dir_0044
   /test_dir_0044|D|5304
   /test_dir_0044/empty_dir1|D|5307
   /test_dir_0044/empty_dir2|D|5310
   /test_dir_0044/nonempty_dir1|D|5312
   /test_dir_0044/nonempty_dir2|D|5329
   /test_dir_0044/nonempty_dir1/d2|D|5318
   /test_dir_0044/nonempty_dir1/f1.txt|F|5315|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2/d3|D|5326
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir2/d2|D|5336
   /test_dir_0044/nonempty_dir2/f1.txt|F|5330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2/d3|D|5338
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 -100
Tau
EINVAL

dump-result /test_dir_0045
   /test_dir_0045|D|5353
   /test_dir_0045/empty_dir1|D|5355
   /test_dir_0045/empty_dir2|D|5358
   /test_dir_0045/nonempty_dir1|D|5360
   /test_dir_0045/nonempty_dir2|D|5375
   /test_dir_0045/nonempty_dir1/d2|D|5365
   /test_dir_0045/nonempty_dir1/f1.txt|F|5362|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2/d3|D|5372
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir2/d2|D|5384
   /test_dir_0045/nonempty_dir2/f1.txt|F|5377|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5380|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2/d3|D|5386
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_WRONLY;O_CREAT] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ -100
Tau
EINVAL

dump-result /test_dir_0046
   /test_dir_0046|D|5412
   /test_dir_0046/empty_dir1|D|5414
   /test_dir_0046/empty_dir2|D|5417
   /test_dir_0046/nonempty_dir1|D|5419
   /test_dir_0046/nonempty_dir2|D|5433
   /test_dir_0046/nonempty_dir1/d2|D|5423
   /test_dir_0046/nonempty_dir1/f1.txt|F|5420|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2/d3|D|5431
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|5426|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir2/d2|D|5443
   /test_dir_0046/nonempty_dir2/f1.txt|F|5435|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|5439|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2/d3|D|5446
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
end dump-result


