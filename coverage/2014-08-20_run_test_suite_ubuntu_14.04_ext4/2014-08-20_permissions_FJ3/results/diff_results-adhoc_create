        ###########################################
        # Testing mkdir and creating files
        ###########################################

        # these tests create parent-directories with various permissions and
        # then try to create files and directories inside these parent
        # directories.  This should only work, if one has search and 
        # write permission to the parent dir. However, the search permission
        # is also needed needed for path resolution. The tests therefore also
        # try to create the files in the current working directory. 
        # before removing x permission.


        # rwx
    15: mkdir /tmp_dir_rwx/ 0o777
        Tau
        RV_none

    16: chdir /tmp_dir_rwx
        Tau
        RV_none

    17: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    18: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    19: mkdir d2 0o777
        Tau
        RV_none

    20: mkdir d4 0o777
        Tau
        RV_none

    21: chmod /tmp_dir_rwx/ 0o700
        Tau
        RV_none


    23: mkdir d1 0o777
        Tau
        RV_none

    24: mkdir d2 0o777
        Tau
        EEXIST

    25: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    26: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST

    27: mkdir /tmp_dir_rwx/d3 0o777
        Tau
        RV_none

    28: mkdir /tmp_dir_rwx/d4 0o777
        Tau
        EEXIST

    29: open_close /tmp_dir_rwx/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    30: open_close /tmp_dir_rwx/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST



        # rw_
    34: mkdir /tmp_dir_rw_/ 0o777
        Tau
        RV_none

    35: chdir /tmp_dir_rw_
        Tau
        RV_none

    36: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    37: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    38: mkdir d2 0o777
        Tau
        RV_none

    39: mkdir d4 0o777
        Tau
        RV_none

    40: chmod /tmp_dir_rw_/ 0o600
        Tau
        RV_none


    42: mkdir d1 0o777
        Tau
        EACCES

    43: mkdir d2 0o777
        Tau
        EACCES

    44: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    45: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    46: mkdir /tmp_dir_rw_/d3 0o777
        Tau
        EACCES

    47: mkdir /tmp_dir_rw_/d4 0o777
        Tau
        EACCES

    48: open_close /tmp_dir_rw_/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    49: open_close /tmp_dir_rw_/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES



        # r_x
    53: mkdir /tmp_dir_r_x/ 0o777
        Tau
        RV_none

    54: chdir /tmp_dir_r_x
        Tau
        RV_none

    55: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    56: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    57: mkdir d2 0o777
        Tau
        RV_none

    58: mkdir d4 0o777
        Tau
        RV_none

    59: chmod /tmp_dir_r_x/ 0o500
        Tau
        RV_none


    61: mkdir d1 0o777
        Tau
        EACCES

    62: mkdir d2 0o777
        Tau
        EEXIST

    63: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    64: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST

    65: mkdir /tmp_dir_r_x/d3 0o777
        Tau
        EACCES

    66: mkdir /tmp_dir_r_x/d4 0o777
        Tau
        EEXIST

    67: open_close /tmp_dir_r_x/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    68: open_close /tmp_dir_r_x/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST



        # r__
    72: mkdir /tmp_dir_r__/ 0o777
        Tau
        RV_none

    73: chdir /tmp_dir_r__
        Tau
        RV_none

    74: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    75: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    76: mkdir d2 0o777
        Tau
        RV_none

    77: mkdir d4 0o777
        Tau
        RV_none

    78: chmod /tmp_dir_r__/ 0o400
        Tau
        RV_none


    80: mkdir d1 0o777
        Tau
        EACCES

    81: mkdir d2 0o777
        Tau
        EACCES

    82: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    83: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    84: mkdir /tmp_dir_r__/d3 0o777
        Tau
        EACCES

    85: mkdir /tmp_dir_r__/d4 0o777
        Tau
        EACCES

    86: open_close /tmp_dir_r__/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

    87: open_close /tmp_dir_r__/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES




        # _wx
    92: mkdir /tmp_dir__wx/ 0o777
        Tau
        RV_none

    93: chdir /tmp_dir__wx
        Tau
        RV_none

    94: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    95: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

    96: mkdir d2 0o777
        Tau
        RV_none

    97: mkdir d4 0o777
        Tau
        RV_none

    98: chmod /tmp_dir__wx/ 0o300
        Tau
        RV_none


   100: mkdir d1 0o777
        Tau
        RV_none

   101: mkdir d2 0o777
        Tau
        EEXIST

   102: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   103: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST

   104: mkdir /tmp_dir__wx/d3 0o777
        Tau
        RV_none

   105: mkdir /tmp_dir__wx/d4 0o777
        Tau
        EEXIST

   106: open_close /tmp_dir__wx/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   107: open_close /tmp_dir__wx/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST




        # _w_
   112: mkdir /tmp_dir__w_/ 0o777
        Tau
        RV_none

   113: chdir /tmp_dir__w_
        Tau
        RV_none

   114: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   115: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   116: mkdir d2 0o777
        Tau
        RV_none

   117: mkdir d4 0o777
        Tau
        RV_none

   118: chmod /tmp_dir__w_/ 0o200
        Tau
        RV_none


   120: mkdir d1 0o777
        Tau
        EACCES

   121: mkdir d2 0o777
        Tau
        EACCES

   122: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   123: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   124: mkdir /tmp_dir__w_/d3 0o777
        Tau
        EACCES

   125: mkdir /tmp_dir__w_/d4 0o777
        Tau
        EACCES

   126: open_close /tmp_dir__w_/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   127: open_close /tmp_dir__w_/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES



        # __x
   131: mkdir /tmp_dir___x/ 0o777
        Tau
        RV_none

   132: chdir /tmp_dir___x
        Tau
        RV_none

   133: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   134: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   135: mkdir d2 0o777
        Tau
        RV_none

   136: mkdir d4 0o777
        Tau
        RV_none

   137: chmod /tmp_dir___x/ 0o100
        Tau
        RV_none


   139: mkdir d1 0o777
        Tau
        EACCES

   140: mkdir d2 0o777
        Tau
        EEXIST

   141: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   142: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST

   143: mkdir /tmp_dir___x/d3 0o777
        Tau
        EACCES

   144: mkdir /tmp_dir___x/d4 0o777
        Tau
        EEXIST

   145: open_close /tmp_dir___x/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   146: open_close /tmp_dir___x/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EEXIST



        # ___
   150: mkdir /tmp_dir____/ 0o777
        Tau
        RV_none

   151: chdir /tmp_dir____
        Tau
        RV_none

   152: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   153: open_close f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        RV_none

   154: mkdir d2 0o777
        Tau
        RV_none

   155: mkdir d4 0o777
        Tau
        RV_none

   156: chmod /tmp_dir____/ 0o000
        Tau
        RV_none


   158: mkdir d1 0o777
        Tau
        EACCES

   159: mkdir d2 0o777
        Tau
        EACCES

   160: open_close f1 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   161: open_close f2 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   162: mkdir /tmp_dir____/d3 0o777
        Tau
        EACCES

   163: mkdir /tmp_dir____/d4 0o777
        Tau
        EACCES

   164: open_close /tmp_dir____/f3 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES

   165: open_close /tmp_dir____/f4 [O_EXCL;O_CREAT;O_RDWR] 0o666
        Tau
        EACCES


trace accepted
