#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
RV_none

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir1 0
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|3944383
   /test_dir_0001/empty_dir1|D|4067084
   /test_dir_0001/empty_dir2|D|4067085
   /test_dir_0001/nonempty_dir1|D|4196363
   /test_dir_0001/nonempty_dir1/f1.txt|F|4196364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2|D|4213340
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|4213343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir1/d2/d3|D|4328736
   /test_dir_0001/nonempty_dir2|D|4329729
   /test_dir_0001/nonempty_dir2/f1.txt|F|4330057|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|4343269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2|D|4346258
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0001/nonempty_dir2/d2/d3|D|4465061
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
RV_none

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir1/ 0
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|4465062
   /test_dir_0002/empty_dir1|D|4465063
   /test_dir_0002/empty_dir2|D|4465064
   /test_dir_0002/nonempty_dir1|D|4596325
   /test_dir_0002/nonempty_dir1/f1.txt|F|4596326|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2|D|4596327
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|4596328|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir1/d2/d3|D|4596329
   /test_dir_0002/nonempty_dir2|D|4596330
   /test_dir_0002/nonempty_dir2/f1.txt|F|4596331|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|4596332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2|D|4721938
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0002/nonempty_dir2/d2/d3|D|4721939
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
RV_none

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir2 0
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|4722460
   /test_dir_0003/empty_dir1|D|4722461
   /test_dir_0003/empty_dir2|D|4857135
   /test_dir_0003/nonempty_dir1|D|4857136
   /test_dir_0003/nonempty_dir1/f1.txt|F|4857138|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2|D|4857139
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|4866614|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir1/d2/d3|D|4866615
   /test_dir_0003/nonempty_dir2|D|4982147
   /test_dir_0003/nonempty_dir2/f1.txt|F|4982173|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|4982201|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2|D|4982210
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0003/nonempty_dir2/d2/d3|D|4982213
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
RV_none

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate empty_dir2/ 0
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|4982220
   /test_dir_0004/empty_dir1|D|5125879
   /test_dir_0004/empty_dir2|D|5125881
   /test_dir_0004/nonempty_dir1|D|5125883
   /test_dir_0004/nonempty_dir1/f1.txt|F|5125885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2|D|5125887
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|5125889|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir1/d2/d3|D|5251088
   /test_dir_0004/nonempty_dir2|D|5251089
   /test_dir_0004/nonempty_dir2/f1.txt|F|5251090|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|5251091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2|D|5251092
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0004/nonempty_dir2/d2/d3|D|5251093
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
RV_none

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1 0
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|5382309
   /test_dir_0005/empty_dir1|D|5382311
   /test_dir_0005/empty_dir2|D|5382313
   /test_dir_0005/nonempty_dir1|D|5382315
   /test_dir_0005/nonempty_dir1/f1.txt|F|5382317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2|D|5382319
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|5382321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir1/d2/d3|D|5512043
   /test_dir_0005/nonempty_dir2|D|5512044
   /test_dir_0005/nonempty_dir2/f1.txt|F|5512045|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|5512046|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2|D|5512047
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0005/nonempty_dir2/d2/d3|D|5512048
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
RV_none

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/ 0
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|5512050
   /test_dir_0006/empty_dir1|D|5643026
   /test_dir_0006/empty_dir2|D|5643027
   /test_dir_0006/nonempty_dir1|D|5643028
   /test_dir_0006/nonempty_dir1/f1.txt|F|5643029|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2|D|5643030
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|5643031|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir1/d2/d3|D|5643032
   /test_dir_0006/nonempty_dir2|D|5776786
   /test_dir_0006/nonempty_dir2/f1.txt|F|5776787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|5776788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2|D|5776789
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0006/nonempty_dir2/d2/d3|D|5776790
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
RV_none

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2 0
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|5776792
   /test_dir_0007/empty_dir1|D|5776793
   /test_dir_0007/empty_dir2|D|5908809
   /test_dir_0007/nonempty_dir1|D|5908810
   /test_dir_0007/nonempty_dir1/f1.txt|F|5908811|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2|D|5908812
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|5908813|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir1/d2/d3|D|5908814
   /test_dir_0007/nonempty_dir2|D|5908815
   /test_dir_0007/nonempty_dir2/f1.txt|F|5908816|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|5908817|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2|D|137629
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0007/nonempty_dir2/d2/d3|D|137630
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
RV_none

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/ 0
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|137632
   /test_dir_0008/empty_dir1|D|137633
   /test_dir_0008/empty_dir2|D|137634
   /test_dir_0008/nonempty_dir1|D|2233915
   /test_dir_0008/nonempty_dir1/f1.txt|F|2233916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2|D|2233917
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|2233918|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir1/d2/d3|D|2366432
   /test_dir_0008/nonempty_dir2|D|2366433
   /test_dir_0008/nonempty_dir2/f1.txt|F|2366434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|2366435|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2|D|2499292
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0008/nonempty_dir2/d2/d3|D|2499293
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
RV_none

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/broken_sl/nonexist_6 0
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|2752587
   /test_dir_0009/empty_dir1|D|2754474
   /test_dir_0009/empty_dir2|D|3022371
   /test_dir_0009/nonempty_dir1|D|3151795
   /test_dir_0009/nonempty_dir1/f1.txt|F|3155510|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2|D|3156093
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|3156094|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir1/d2/d3|D|3156095
   /test_dir_0009/nonempty_dir2|D|3156096
   /test_dir_0009/nonempty_dir2/f1.txt|F|3156097|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|3156098|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2|D|3156099
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0009/nonempty_dir2/d2/d3|D|3156100
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
RV_none

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 0
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|3156106
   /test_dir_0010/empty_dir1|D|3277233
   /test_dir_0010/empty_dir2|D|3277234
   /test_dir_0010/nonempty_dir1|D|3277278
   /test_dir_0010/nonempty_dir1/f1.txt|F|3277279|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2|D|3284594
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|3284596|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir1/d2/d3|D|3284597
   /test_dir_0010/nonempty_dir2|D|3284598
   /test_dir_0010/nonempty_dir2/f1.txt|F|3284599|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|3284600|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2|D|3284601
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0010/nonempty_dir2/d2/d3|D|3284602
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
RV_none

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/d3 0
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|3284608
   /test_dir_0011/empty_dir1|D|3284609
   /test_dir_0011/empty_dir2|D|3284610
   /test_dir_0011/nonempty_dir1|D|3284611
   /test_dir_0011/nonempty_dir1/f1.txt|F|3284614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2|D|3284615
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|3284616|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir1/d2/d3|D|3284617
   /test_dir_0011/nonempty_dir2|D|3284618
   /test_dir_0011/nonempty_dir2/f1.txt|F|3284623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|3284627|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2|D|3284628
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0011/nonempty_dir2/d2/d3|D|3284629
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
RV_none

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/d3/ 0
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|3286112
   /test_dir_0012/empty_dir1|D|3286113
   /test_dir_0012/empty_dir2|D|3286114
   /test_dir_0012/nonempty_dir1|D|3286115
   /test_dir_0012/nonempty_dir1/f1.txt|F|3286116|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2|D|3286117
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|3286118|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir1/d2/d3|D|3286119
   /test_dir_0012/nonempty_dir2|D|3286120
   /test_dir_0012/nonempty_dir2/f1.txt|F|3286121|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|3286122|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2|D|3286123
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0012/nonempty_dir2/d2/d3|D|3286124
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
RV_none

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/f3.txt 0
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|3416157
   /test_dir_0013/empty_dir1|D|3416158
   /test_dir_0013/empty_dir2|D|3416159
   /test_dir_0013/nonempty_dir1|D|3416185
   /test_dir_0013/nonempty_dir1/f1.txt|F|3416186|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2|D|3416187
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|3416188|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir1/d2/d3|D|3416189
   /test_dir_0013/nonempty_dir2|D|3416190
   /test_dir_0013/nonempty_dir2/f1.txt|F|3416191|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|3416192|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2|D|3416193
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0013/nonempty_dir2/d2/d3|D|3416194
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
RV_none

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/f3.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|3416200
   /test_dir_0014/empty_dir1|D|3416201
   /test_dir_0014/empty_dir2|D|3416202
   /test_dir_0014/nonempty_dir1|D|3416203
   /test_dir_0014/nonempty_dir1/f1.txt|F|3416204|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2|D|3416205
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|3416206|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir1/d2/d3|D|3416207
   /test_dir_0014/nonempty_dir2|D|3416208
   /test_dir_0014/nonempty_dir2/f1.txt|F|3416209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|3416210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2|D|3416211
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0014/nonempty_dir2/d2/d3|D|3416212
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
RV_none

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_d2 0
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|3416218
   /test_dir_0015/empty_dir1|D|3416219
   /test_dir_0015/empty_dir2|D|3416220
   /test_dir_0015/nonempty_dir1|D|3416221
   /test_dir_0015/nonempty_dir1/f1.txt|F|3416222|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2|D|3416223
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|3416224|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir1/d2/d3|D|3416225
   /test_dir_0015/nonempty_dir2|D|3416226
   /test_dir_0015/nonempty_dir2/f1.txt|F|3416227|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|3416228|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2|D|3416229
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0015/nonempty_dir2/d2/d3|D|3416230
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
RV_none

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_d2/ 0
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|3416236
   /test_dir_0016/empty_dir1|D|3416237
   /test_dir_0016/empty_dir2|D|3416238
   /test_dir_0016/nonempty_dir1|D|3416239
   /test_dir_0016/nonempty_dir1/f1.txt|F|3416240|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2|D|3416241
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|3416242|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir1/d2/d3|D|3416243
   /test_dir_0016/nonempty_dir2|D|3416244
   /test_dir_0016/nonempty_dir2/f1.txt|F|3416245|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|3416246|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2|D|3416247
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0016/nonempty_dir2/d2/d3|D|3416248
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
RV_none

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 0
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|3416254
   /test_dir_0017/empty_dir1|D|3416255
   /test_dir_0017/empty_dir2|D|3416256
   /test_dir_0017/nonempty_dir1|D|3416257
   /test_dir_0017/nonempty_dir1/f1.txt|F|3416258|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2|D|3416259
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|3416260|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir1/d2/d3|D|3416261
   /test_dir_0017/nonempty_dir2|D|3416262
   /test_dir_0017/nonempty_dir2/f1.txt|F|3416263|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|3416264|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2|D|3416265
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0017/nonempty_dir2/d2/d3|D|3416266
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
RV_none

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0018
   /test_dir_0018|D|3416272
   /test_dir_0018/empty_dir1|D|3416273
   /test_dir_0018/empty_dir2|D|3416274
   /test_dir_0018/nonempty_dir1|D|3416275
   /test_dir_0018/nonempty_dir1/f1.txt|F|3416276|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2|D|3416277
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|3416278|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir1/d2/d3|D|3416279
   /test_dir_0018/nonempty_dir2|D|3416280
   /test_dir_0018/nonempty_dir2/f1.txt|F|3416281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|3416282|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2|D|3416283
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0018/nonempty_dir2/d2/d3|D|3416284
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
RV_none

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_no_such_target 0
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|3416290
   /test_dir_0019/empty_dir1|D|3416291
   /test_dir_0019/empty_dir2|D|3416292
   /test_dir_0019/nonempty_dir1|D|3416293
   /test_dir_0019/nonempty_dir1/f1.txt|F|3416294|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2|D|3416295
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|3416296|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir1/d2/d3|D|3416297
   /test_dir_0019/nonempty_dir2|D|3416298
   /test_dir_0019/nonempty_dir2/f1.txt|F|3416299|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|3416300|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2|D|3416301
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0019/nonempty_dir2/d2/d3|D|3416302
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
RV_none

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/d2/sl_no_such_target/ 0
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|3416308
   /test_dir_0020/empty_dir1|D|3416309
   /test_dir_0020/empty_dir2|D|3416310
   /test_dir_0020/nonempty_dir1|D|3416311
   /test_dir_0020/nonempty_dir1/f1.txt|F|3416312|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2|D|3416313
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|3416314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir1/d2/d3|D|3416315
   /test_dir_0020/nonempty_dir2|D|3416316
   /test_dir_0020/nonempty_dir2/f1.txt|F|3416317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|3416318|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2|D|3416319
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0020/nonempty_dir2/d2/d3|D|3416320
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
RV_none

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt 0
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|3416326
   /test_dir_0021/empty_dir1|D|3416327
   /test_dir_0021/empty_dir2|D|3416328
   /test_dir_0021/nonempty_dir1|D|3416329
   /test_dir_0021/nonempty_dir1/f1.txt|F|3416330|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2|D|3416331
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|3416332|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir1/d2/d3|D|3416333
   /test_dir_0021/nonempty_dir2|D|3416334
   /test_dir_0021/nonempty_dir2/f1.txt|F|3416335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|3416336|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2|D|3416337
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0021/nonempty_dir2/d2/d3|D|3416338
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
RV_none

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|3416344
   /test_dir_0022/empty_dir1|D|3416345
   /test_dir_0022/empty_dir2|D|3416346
   /test_dir_0022/nonempty_dir1|D|3416347
   /test_dir_0022/nonempty_dir1/f1.txt|F|3416348|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2|D|3416349
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3416350|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir1/d2/d3|D|3416351
   /test_dir_0022/nonempty_dir2|D|3416352
   /test_dir_0022/nonempty_dir2/f1.txt|F|3416353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3416354|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2|D|3416355
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0022/nonempty_dir2/d2/d3|D|3416356
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
RV_none

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/nonexist_5 0
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3416362
   /test_dir_0023/empty_dir1|D|3416363
   /test_dir_0023/empty_dir2|D|3416364
   /test_dir_0023/nonempty_dir1|D|3416365
   /test_dir_0023/nonempty_dir1/f1.txt|F|3416366|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2|D|3416367
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3416368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir1/d2/d3|D|3416369
   /test_dir_0023/nonempty_dir2|D|3416370
   /test_dir_0023/nonempty_dir2/f1.txt|F|3416371|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3416372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2|D|3416373
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0023/nonempty_dir2/d2/d3|D|3416374
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
RV_none

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/f1.txt/nonexist_5/ 0
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3416380
   /test_dir_0024/empty_dir1|D|3416381
   /test_dir_0024/empty_dir2|D|3416382
   /test_dir_0024/nonempty_dir1|D|3416383
   /test_dir_0024/nonempty_dir1/f1.txt|F|3416384|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2|D|3416385
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3416386|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir1/d2/d3|D|3416387
   /test_dir_0024/nonempty_dir2|D|3416388
   /test_dir_0024/nonempty_dir2/f1.txt|F|3416389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3416390|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2|D|3416391
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0024/nonempty_dir2/d2/d3|D|3416392
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
RV_none

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/nonexist_4 0
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3416398
   /test_dir_0025/empty_dir1|D|3416399
   /test_dir_0025/empty_dir2|D|3416400
   /test_dir_0025/nonempty_dir1|D|3416401
   /test_dir_0025/nonempty_dir1/f1.txt|F|3416402|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2|D|3416403
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3416404|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir1/d2/d3|D|3416405
   /test_dir_0025/nonempty_dir2|D|3416406
   /test_dir_0025/nonempty_dir2/f1.txt|F|3416407|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3416408|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2|D|3416409
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0025/nonempty_dir2/d2/d3|D|3416410
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
RV_none

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/nonexist_4/ 0
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3541257
   /test_dir_0026/empty_dir1|D|3541258
   /test_dir_0026/empty_dir2|D|3541259
   /test_dir_0026/nonempty_dir1|D|3541260
   /test_dir_0026/nonempty_dir1/f1.txt|F|3541261|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2|D|3541262
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3541263|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir1/d2/d3|D|3541264
   /test_dir_0026/nonempty_dir2|D|3541265
   /test_dir_0026/nonempty_dir2/f1.txt|F|3541268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3541269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2|D|3541270
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0026/nonempty_dir2/d2/d3|D|3541271
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
RV_none

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/sl_f1.txt 0
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3541277
   /test_dir_0027/empty_dir1|D|3541279
   /test_dir_0027/empty_dir2|D|3541280
   /test_dir_0027/nonempty_dir1|D|3541281
   /test_dir_0027/nonempty_dir1/f1.txt|F|3541282|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2|D|3541283
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3541284|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir1/d2/d3|D|3541285
   /test_dir_0027/nonempty_dir2|D|3541286
   /test_dir_0027/nonempty_dir2/f1.txt|F|3541287|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3541288|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2|D|3541290
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0027/nonempty_dir2/d2/d3|D|3541291
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
RV_none

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir1/sl_f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0028
   /test_dir_0028|D|3541298
   /test_dir_0028/empty_dir1|D|3541299
   /test_dir_0028/empty_dir2|D|3541300
   /test_dir_0028/nonempty_dir1|D|3541301
   /test_dir_0028/nonempty_dir1/f1.txt|F|3541302|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2|D|3541305
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3541306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir1/d2/d3|D|3541307
   /test_dir_0028/nonempty_dir2|D|3541308
   /test_dir_0028/nonempty_dir2/f1.txt|F|3541309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3541310|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2|D|3541311
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0028/nonempty_dir2/d2/d3|D|3541312
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
RV_none

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2 0
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3541319
   /test_dir_0029/empty_dir1|D|3541361
   /test_dir_0029/empty_dir2|D|3541362
   /test_dir_0029/nonempty_dir1|D|3541364
   /test_dir_0029/nonempty_dir1/f1.txt|F|3541365|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2|D|3541366
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3541425|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir1/d2/d3|D|3541427
   /test_dir_0029/nonempty_dir2|D|3541430
   /test_dir_0029/nonempty_dir2/f1.txt|F|3541432|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3541434|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2|D|3541435
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0029/nonempty_dir2/d2/d3|D|3541436
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
RV_none

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/ 0
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3541442
   /test_dir_0030/empty_dir1|D|3541443
   /test_dir_0030/empty_dir2|D|3541444
   /test_dir_0030/nonempty_dir1|D|3541445
   /test_dir_0030/nonempty_dir1/f1.txt|F|3541446|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2|D|3541447
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3541455|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir1/d2/d3|D|3541457
   /test_dir_0030/nonempty_dir2|D|3541458
   /test_dir_0030/nonempty_dir2/f1.txt|F|3541459|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3541460|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2|D|3541461
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0030/nonempty_dir2/d2/d3|D|3541462
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
RV_none

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2 0
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|3541469
   /test_dir_0031/empty_dir1|D|3541470
   /test_dir_0031/empty_dir2|D|3541471
   /test_dir_0031/nonempty_dir1|D|3541472
   /test_dir_0031/nonempty_dir1/f1.txt|F|3541473|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2|D|3541474
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|3541475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir1/d2/d3|D|3541476
   /test_dir_0031/nonempty_dir2|D|3541477
   /test_dir_0031/nonempty_dir2/f1.txt|F|3541479|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|3541483|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2|D|3541484
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0031/nonempty_dir2/d2/d3|D|3541485
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
RV_none

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/ 0
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|3689399
   /test_dir_0032/empty_dir1|D|3689400
   /test_dir_0032/empty_dir2|D|3689401
   /test_dir_0032/nonempty_dir1|D|3689402
   /test_dir_0032/nonempty_dir1/f1.txt|F|3689403|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2|D|3689404
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|3689405|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir1/d2/d3|D|3689406
   /test_dir_0032/nonempty_dir2|D|3689407
   /test_dir_0032/nonempty_dir2/f1.txt|F|3689408|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|3689409|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2|D|3689410
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0032/nonempty_dir2/d2/d3|D|3689411
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
RV_none

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/d3 0
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|3803141
   /test_dir_0033/empty_dir1|D|3822036
   /test_dir_0033/empty_dir2|D|3822037
   /test_dir_0033/nonempty_dir1|D|3822038
   /test_dir_0033/nonempty_dir1/f1.txt|F|3822039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2|D|3822040
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|3822041|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir1/d2/d3|D|3822042
   /test_dir_0033/nonempty_dir2|D|3822043
   /test_dir_0033/nonempty_dir2/f1.txt|F|3822044|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|3822045|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2|D|3822046
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0033/nonempty_dir2/d2/d3|D|3822047
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
RV_none

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/d3/ 0
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|3822053
   /test_dir_0034/empty_dir1|D|3944384
   /test_dir_0034/empty_dir2|D|3944385
   /test_dir_0034/nonempty_dir1|D|3944386
   /test_dir_0034/nonempty_dir1/f1.txt|F|3944387|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2|D|3944388
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|3944389|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir1/d2/d3|D|3948785
   /test_dir_0034/nonempty_dir2|D|3948786
   /test_dir_0034/nonempty_dir2/f1.txt|F|3948787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|3948788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2|D|4072535
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0034/nonempty_dir2/d2/d3|D|4081510
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
RV_none

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/sl_f3.txt 0
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4081512
   /test_dir_0035/empty_dir1|D|4081513
   /test_dir_0035/empty_dir2|D|4081514
   /test_dir_0035/nonempty_dir1|D|4081515
   /test_dir_0035/nonempty_dir1/f1.txt|F|4081516|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2|D|4213348
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4213349|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir1/d2/d3|D|4213350
   /test_dir_0035/nonempty_dir2|D|4213351
   /test_dir_0035/nonempty_dir2/f1.txt|F|4213352|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4213353|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2|D|4213354
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0035/nonempty_dir2/d2/d3|D|4213355
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
RV_none

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/d2/sl_f3.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0036
   /test_dir_0036|D|4213360
   /test_dir_0036/empty_dir1|D|4346260
   /test_dir_0036/empty_dir2|D|4346261
   /test_dir_0036/nonempty_dir1|D|4346264
   /test_dir_0036/nonempty_dir1/f1.txt|F|4346265|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2|D|4346266
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4346267|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir1/d2/d3|D|4346268
   /test_dir_0036/nonempty_dir2|D|4346269
   /test_dir_0036/nonempty_dir2/f1.txt|F|4346270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4346271|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2|D|4465065
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0036/nonempty_dir2/d2/d3|D|4465066
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
RV_none

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f1.txt 0
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4465068
   /test_dir_0037/empty_dir1|D|4465069
   /test_dir_0037/empty_dir2|D|4465070
   /test_dir_0037/nonempty_dir1|D|4465071
   /test_dir_0037/nonempty_dir1/f1.txt|F|4465072|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2|D|4465073
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4465074|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir1/d2/d3|D|4596337
   /test_dir_0037/nonempty_dir2|D|4596338
   /test_dir_0037/nonempty_dir2/f1.txt|F|4596339|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir2/f2.txt|F|4596340|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2|D|4596341
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0037/nonempty_dir2/d2/d3|D|4596342
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
RV_none

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f1.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4596344
   /test_dir_0038/empty_dir1|D|4596345
   /test_dir_0038/empty_dir2|D|4596346
   /test_dir_0038/nonempty_dir1|D|4722462
   /test_dir_0038/nonempty_dir1/f1.txt|F|4722463|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2|D|4722464
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4722465|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir1/d2/d3|D|4722466
   /test_dir_0038/nonempty_dir2|D|4722467
   /test_dir_0038/nonempty_dir2/f1.txt|F|4722468|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4722469|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2|D|4722470
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0038/nonempty_dir2/d2/d3|D|4722471
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
RV_none

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f2.txt 0
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4722477
   /test_dir_0039/empty_dir1|D|4866620
   /test_dir_0039/empty_dir2|D|4866621
   /test_dir_0039/nonempty_dir1|D|4866622
   /test_dir_0039/nonempty_dir1/f1.txt|F|4866623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2|D|4866624
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4866625|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir1/d2/d3|D|4866626
   /test_dir_0039/nonempty_dir2|D|4866627
   /test_dir_0039/nonempty_dir2/f1.txt|F|4866628|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4866629|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/d2|D|4866630
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0039/nonempty_dir2/d2/d3|D|4982223
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
RV_none

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonempty_dir2/f2.txt/ 0
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4982396
   /test_dir_0040/empty_dir1|D|4982423
   /test_dir_0040/empty_dir2|D|4982449
   /test_dir_0040/nonempty_dir1|D|4982457
   /test_dir_0040/nonempty_dir1/f1.txt|F|4982460|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2|D|4982465
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|4982467|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir1/d2/d3|D|4982471
   /test_dir_0040/nonempty_dir2|D|5125899
   /test_dir_0040/nonempty_dir2/f1.txt|F|5125901|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5125903|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2|D|5125905
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0040/nonempty_dir2/d2/d3|D|5125907
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
RV_none

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_1 0
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5125911
   /test_dir_0041/empty_dir1|D|5125913
   /test_dir_0041/empty_dir2|D|5125915
   /test_dir_0041/nonempty_dir1|D|5125917
   /test_dir_0041/nonempty_dir1/f1.txt|F|5125919|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2|D|5251095
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5251096|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir1/d2/d3|D|5251097
   /test_dir_0041/nonempty_dir2|D|5251098
   /test_dir_0041/nonempty_dir2/f1.txt|F|5251099|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5251100|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2|D|5251101
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0041/nonempty_dir2/d2/d3|D|5251102
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
RV_none

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_1/ 0
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5251107
   /test_dir_0042/empty_dir1|D|5251108
   /test_dir_0042/empty_dir2|D|5382331
   /test_dir_0042/nonempty_dir1|D|5382333
   /test_dir_0042/nonempty_dir1/f1.txt|F|5382335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2|D|5382337
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5382339|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir1/d2/d3|D|5382341
   /test_dir_0042/nonempty_dir2|D|5382343
   /test_dir_0042/nonempty_dir2/f1.txt|F|5382345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5382347|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2|D|5382349
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0042/nonempty_dir2/d2/d3|D|5512051
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
RV_none

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_2 0
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5512052
   /test_dir_0043/empty_dir1|D|5512053
   /test_dir_0043/empty_dir2|D|5512054
   /test_dir_0043/nonempty_dir1|D|5512055
   /test_dir_0043/nonempty_dir1/f1.txt|F|5512056|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2|D|5512057
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5512058|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir1/d2/d3|D|5643037
   /test_dir_0043/nonempty_dir2|D|5643038
   /test_dir_0043/nonempty_dir2/f1.txt|F|5643039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5643040|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2|D|5643041
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0043/nonempty_dir2/d2/d3|D|5643042
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
RV_none

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_2/ 0
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5643044
   /test_dir_0044/empty_dir1|D|5643045
   /test_dir_0044/empty_dir2|D|5643046
   /test_dir_0044/nonempty_dir1|D|5776794
   /test_dir_0044/nonempty_dir1/f1.txt|F|5776795|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2|D|5776796
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5776797|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir1/d2/d3|D|5776798
   /test_dir_0044/nonempty_dir2|D|5776799
   /test_dir_0044/nonempty_dir2/f1.txt|F|5776800|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5776801|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2|D|5776802
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0044/nonempty_dir2/d2/d3|D|5776803
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
RV_none

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_dir/nonexist_3 0
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5776809
   /test_dir_0045/empty_dir1|D|5908822
   /test_dir_0045/empty_dir2|D|5908823
   /test_dir_0045/nonempty_dir1|D|5908824
   /test_dir_0045/nonempty_dir1/f1.txt|F|5908825|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2|D|5908826
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5908827|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir1/d2/d3|D|5908828
   /test_dir_0045/nonempty_dir2|D|5908829
   /test_dir_0045/nonempty_dir2/f1.txt|F|5908830|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5908831|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2|D|5908832
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0045/nonempty_dir2/d2/d3|D|137635
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
RV_none

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
RV_none

mkdir empty_dir2 0o777
Tau
RV_none

mkdir nonempty_dir1 0o777
Tau
RV_none

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
RV_none

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
RV_none

mkdir nonempty_dir2 0o777
Tau
RV_none

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
RV_none

mkdir nonempty_dir2/d2/d3 0o777
Tau
RV_none

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
RV_none

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
RV_none

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
RV_none

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
RV_none

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
RV_none

truncate nonexist_dir/nonexist_3/ 0
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|137636
   /test_dir_0046/empty_dir1|D|137637
   /test_dir_0046/empty_dir2|D|137638
   /test_dir_0046/nonempty_dir1|D|137639
   /test_dir_0046/nonempty_dir1/f1.txt|F|137640|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2|D|137641
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|137642|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir1/d2/d3|D|137643
   /test_dir_0046/nonempty_dir2|D|2233923
   /test_dir_0046/nonempty_dir2/f1.txt|F|2233924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|2233925|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2|D|2233926
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0046/nonempty_dir2/d2/d3|D|2233927
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 10
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|3944383
   /test_dir_0001/empty_dir1|D|4067084
   /test_dir_0001/empty_dir2|D|4067085
   /test_dir_0001/nonempty_dir1|D|4196363
   /test_dir_0001/nonempty_dir1/f1.txt|F|4196364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2|D|4213340
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|4213343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir1/d2/d3|D|4328736
   /test_dir_0001/nonempty_dir2|D|4329729
   /test_dir_0001/nonempty_dir2/f1.txt|F|4330057|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|4343269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2|D|4346258
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0001/nonempty_dir2/d2/d3|D|4465061
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 10
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|4465062
   /test_dir_0002/empty_dir1|D|4465063
   /test_dir_0002/empty_dir2|D|4465064
   /test_dir_0002/nonempty_dir1|D|4596325
   /test_dir_0002/nonempty_dir1/f1.txt|F|4596326|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2|D|4596327
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|4596328|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir1/d2/d3|D|4596329
   /test_dir_0002/nonempty_dir2|D|4596330
   /test_dir_0002/nonempty_dir2/f1.txt|F|4596331|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|4596332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2|D|4721938
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0002/nonempty_dir2/d2/d3|D|4721939
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 10
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|4722460
   /test_dir_0003/empty_dir1|D|4722461
   /test_dir_0003/empty_dir2|D|4857135
   /test_dir_0003/nonempty_dir1|D|4857136
   /test_dir_0003/nonempty_dir1/f1.txt|F|4857138|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2|D|4857139
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|4866614|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir1/d2/d3|D|4866615
   /test_dir_0003/nonempty_dir2|D|4982147
   /test_dir_0003/nonempty_dir2/f1.txt|F|4982173|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|4982201|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2|D|4982210
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0003/nonempty_dir2/d2/d3|D|4982213
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 10
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|4982220
   /test_dir_0004/empty_dir1|D|5125879
   /test_dir_0004/empty_dir2|D|5125881
   /test_dir_0004/nonempty_dir1|D|5125883
   /test_dir_0004/nonempty_dir1/f1.txt|F|5125885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2|D|5125887
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|5125889|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir1/d2/d3|D|5251088
   /test_dir_0004/nonempty_dir2|D|5251089
   /test_dir_0004/nonempty_dir2/f1.txt|F|5251090|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|5251091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2|D|5251092
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0004/nonempty_dir2/d2/d3|D|5251093
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 10
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|5382309
   /test_dir_0005/empty_dir1|D|5382311
   /test_dir_0005/empty_dir2|D|5382313
   /test_dir_0005/nonempty_dir1|D|5382315
   /test_dir_0005/nonempty_dir1/f1.txt|F|5382317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2|D|5382319
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|5382321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir1/d2/d3|D|5512043
   /test_dir_0005/nonempty_dir2|D|5512044
   /test_dir_0005/nonempty_dir2/f1.txt|F|5512045|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|5512046|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2|D|5512047
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0005/nonempty_dir2/d2/d3|D|5512048
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 10
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|5512050
   /test_dir_0006/empty_dir1|D|5643026
   /test_dir_0006/empty_dir2|D|5643027
   /test_dir_0006/nonempty_dir1|D|5643028
   /test_dir_0006/nonempty_dir1/f1.txt|F|5643029|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2|D|5643030
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|5643031|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir1/d2/d3|D|5643032
   /test_dir_0006/nonempty_dir2|D|5776786
   /test_dir_0006/nonempty_dir2/f1.txt|F|5776787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|5776788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2|D|5776789
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0006/nonempty_dir2/d2/d3|D|5776790
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 10
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|5776792
   /test_dir_0007/empty_dir1|D|5776793
   /test_dir_0007/empty_dir2|D|5908809
   /test_dir_0007/nonempty_dir1|D|5908810
   /test_dir_0007/nonempty_dir1/f1.txt|F|5908811|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2|D|5908812
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|5908813|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir1/d2/d3|D|5908814
   /test_dir_0007/nonempty_dir2|D|5908815
   /test_dir_0007/nonempty_dir2/f1.txt|F|5908816|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|5908817|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2|D|137629
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0007/nonempty_dir2/d2/d3|D|137630
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 10
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|137632
   /test_dir_0008/empty_dir1|D|137633
   /test_dir_0008/empty_dir2|D|137634
   /test_dir_0008/nonempty_dir1|D|2233915
   /test_dir_0008/nonempty_dir1/f1.txt|F|2233916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2|D|2233917
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|2233918|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir1/d2/d3|D|2366432
   /test_dir_0008/nonempty_dir2|D|2366433
   /test_dir_0008/nonempty_dir2/f1.txt|F|2366434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|2366435|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2|D|2499292
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0008/nonempty_dir2/d2/d3|D|2499293
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 10
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|2752587
   /test_dir_0009/empty_dir1|D|2754474
   /test_dir_0009/empty_dir2|D|3022371
   /test_dir_0009/nonempty_dir1|D|3151795
   /test_dir_0009/nonempty_dir1/f1.txt|F|3155510|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2|D|3156093
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|3156094|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir1/d2/d3|D|3156095
   /test_dir_0009/nonempty_dir2|D|3156096
   /test_dir_0009/nonempty_dir2/f1.txt|F|3156097|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|3156098|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2|D|3156099
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0009/nonempty_dir2/d2/d3|D|3156100
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 10
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|3156106
   /test_dir_0010/empty_dir1|D|3277233
   /test_dir_0010/empty_dir2|D|3277234
   /test_dir_0010/nonempty_dir1|D|3277278
   /test_dir_0010/nonempty_dir1/f1.txt|F|3277279|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2|D|3284594
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|3284596|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir1/d2/d3|D|3284597
   /test_dir_0010/nonempty_dir2|D|3284598
   /test_dir_0010/nonempty_dir2/f1.txt|F|3284599|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|3284600|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2|D|3284601
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0010/nonempty_dir2/d2/d3|D|3284602
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 10
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|3284608
   /test_dir_0011/empty_dir1|D|3284609
   /test_dir_0011/empty_dir2|D|3284610
   /test_dir_0011/nonempty_dir1|D|3284611
   /test_dir_0011/nonempty_dir1/f1.txt|F|3284614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2|D|3284615
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|3284616|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir1/d2/d3|D|3284617
   /test_dir_0011/nonempty_dir2|D|3284618
   /test_dir_0011/nonempty_dir2/f1.txt|F|3284623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|3284627|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2|D|3284628
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0011/nonempty_dir2/d2/d3|D|3284629
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 10
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|3286112
   /test_dir_0012/empty_dir1|D|3286113
   /test_dir_0012/empty_dir2|D|3286114
   /test_dir_0012/nonempty_dir1|D|3286115
   /test_dir_0012/nonempty_dir1/f1.txt|F|3286116|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2|D|3286117
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|3286118|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir1/d2/d3|D|3286119
   /test_dir_0012/nonempty_dir2|D|3286120
   /test_dir_0012/nonempty_dir2/f1.txt|F|3286121|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|3286122|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2|D|3286123
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0012/nonempty_dir2/d2/d3|D|3286124
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 10
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|3416157
   /test_dir_0013/empty_dir1|D|3416158
   /test_dir_0013/empty_dir2|D|3416159
   /test_dir_0013/nonempty_dir1|D|3416185
   /test_dir_0013/nonempty_dir1/f1.txt|F|3416186|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2|D|3416187
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|3416188|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir1/d2/d3|D|3416189
   /test_dir_0013/nonempty_dir2|D|3416190
   /test_dir_0013/nonempty_dir2/f1.txt|F|3416191|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|3416192|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2|D|3416193
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0013/nonempty_dir2/d2/d3|D|3416194
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|3416200
   /test_dir_0014/empty_dir1|D|3416201
   /test_dir_0014/empty_dir2|D|3416202
   /test_dir_0014/nonempty_dir1|D|3416203
   /test_dir_0014/nonempty_dir1/f1.txt|F|3416204|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2|D|3416205
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|3416206|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir1/d2/d3|D|3416207
   /test_dir_0014/nonempty_dir2|D|3416208
   /test_dir_0014/nonempty_dir2/f1.txt|F|3416209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|3416210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2|D|3416211
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0014/nonempty_dir2/d2/d3|D|3416212
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 10
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|3416218
   /test_dir_0015/empty_dir1|D|3416219
   /test_dir_0015/empty_dir2|D|3416220
   /test_dir_0015/nonempty_dir1|D|3416221
   /test_dir_0015/nonempty_dir1/f1.txt|F|3416222|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2|D|3416223
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|3416224|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir1/d2/d3|D|3416225
   /test_dir_0015/nonempty_dir2|D|3416226
   /test_dir_0015/nonempty_dir2/f1.txt|F|3416227|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|3416228|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2|D|3416229
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0015/nonempty_dir2/d2/d3|D|3416230
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 10
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|3416236
   /test_dir_0016/empty_dir1|D|3416237
   /test_dir_0016/empty_dir2|D|3416238
   /test_dir_0016/nonempty_dir1|D|3416239
   /test_dir_0016/nonempty_dir1/f1.txt|F|3416240|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2|D|3416241
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|3416242|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir1/d2/d3|D|3416243
   /test_dir_0016/nonempty_dir2|D|3416244
   /test_dir_0016/nonempty_dir2/f1.txt|F|3416245|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|3416246|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2|D|3416247
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0016/nonempty_dir2/d2/d3|D|3416248
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 10
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|3416254
   /test_dir_0017/empty_dir1|D|3416255
   /test_dir_0017/empty_dir2|D|3416256
   /test_dir_0017/nonempty_dir1|D|3416257
   /test_dir_0017/nonempty_dir1/f1.txt|F|3416258|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2|D|3416259
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|3416260|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir1/d2/d3|D|3416261
   /test_dir_0017/nonempty_dir2|D|3416262
   /test_dir_0017/nonempty_dir2/f1.txt|F|3416263|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|3416264|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2|D|3416265
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0017/nonempty_dir2/d2/d3|D|3416266
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0018
   /test_dir_0018|D|3416272
   /test_dir_0018/empty_dir1|D|3416273
   /test_dir_0018/empty_dir2|D|3416274
   /test_dir_0018/nonempty_dir1|D|3416275
   /test_dir_0018/nonempty_dir1/f1.txt|F|3416276|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2|D|3416277
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|3416278|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir1/d2/d3|D|3416279
   /test_dir_0018/nonempty_dir2|D|3416280
   /test_dir_0018/nonempty_dir2/f1.txt|F|3416281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|3416282|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2|D|3416283
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0018/nonempty_dir2/d2/d3|D|3416284
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 10
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|3416290
   /test_dir_0019/empty_dir1|D|3416291
   /test_dir_0019/empty_dir2|D|3416292
   /test_dir_0019/nonempty_dir1|D|3416293
   /test_dir_0019/nonempty_dir1/f1.txt|F|3416294|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2|D|3416295
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|3416296|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir1/d2/d3|D|3416297
   /test_dir_0019/nonempty_dir2|D|3416298
   /test_dir_0019/nonempty_dir2/f1.txt|F|3416299|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|3416300|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2|D|3416301
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0019/nonempty_dir2/d2/d3|D|3416302
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 10
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|3416308
   /test_dir_0020/empty_dir1|D|3416309
   /test_dir_0020/empty_dir2|D|3416310
   /test_dir_0020/nonempty_dir1|D|3416311
   /test_dir_0020/nonempty_dir1/f1.txt|F|3416312|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2|D|3416313
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|3416314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir1/d2/d3|D|3416315
   /test_dir_0020/nonempty_dir2|D|3416316
   /test_dir_0020/nonempty_dir2/f1.txt|F|3416317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|3416318|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2|D|3416319
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0020/nonempty_dir2/d2/d3|D|3416320
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 10
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|3416326
   /test_dir_0021/empty_dir1|D|3416327
   /test_dir_0021/empty_dir2|D|3416328
   /test_dir_0021/nonempty_dir1|D|3416329
   /test_dir_0021/nonempty_dir1/f1.txt|F|3416330|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2|D|3416331
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|3416332|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir1/d2/d3|D|3416333
   /test_dir_0021/nonempty_dir2|D|3416334
   /test_dir_0021/nonempty_dir2/f1.txt|F|3416335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|3416336|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2|D|3416337
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0021/nonempty_dir2/d2/d3|D|3416338
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|3416344
   /test_dir_0022/empty_dir1|D|3416345
   /test_dir_0022/empty_dir2|D|3416346
   /test_dir_0022/nonempty_dir1|D|3416347
   /test_dir_0022/nonempty_dir1/f1.txt|F|3416348|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2|D|3416349
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3416350|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir1/d2/d3|D|3416351
   /test_dir_0022/nonempty_dir2|D|3416352
   /test_dir_0022/nonempty_dir2/f1.txt|F|3416353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3416354|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2|D|3416355
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0022/nonempty_dir2/d2/d3|D|3416356
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 10
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3416362
   /test_dir_0023/empty_dir1|D|3416363
   /test_dir_0023/empty_dir2|D|3416364
   /test_dir_0023/nonempty_dir1|D|3416365
   /test_dir_0023/nonempty_dir1/f1.txt|F|3416366|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2|D|3416367
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3416368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir1/d2/d3|D|3416369
   /test_dir_0023/nonempty_dir2|D|3416370
   /test_dir_0023/nonempty_dir2/f1.txt|F|3416371|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3416372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2|D|3416373
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0023/nonempty_dir2/d2/d3|D|3416374
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 10
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3416380
   /test_dir_0024/empty_dir1|D|3416381
   /test_dir_0024/empty_dir2|D|3416382
   /test_dir_0024/nonempty_dir1|D|3416383
   /test_dir_0024/nonempty_dir1/f1.txt|F|3416384|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2|D|3416385
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3416386|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir1/d2/d3|D|3416387
   /test_dir_0024/nonempty_dir2|D|3416388
   /test_dir_0024/nonempty_dir2/f1.txt|F|3416389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3416390|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2|D|3416391
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0024/nonempty_dir2/d2/d3|D|3416392
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 10
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3416398
   /test_dir_0025/empty_dir1|D|3416399
   /test_dir_0025/empty_dir2|D|3416400
   /test_dir_0025/nonempty_dir1|D|3416401
   /test_dir_0025/nonempty_dir1/f1.txt|F|3416402|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2|D|3416403
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3416404|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir1/d2/d3|D|3416405
   /test_dir_0025/nonempty_dir2|D|3416406
   /test_dir_0025/nonempty_dir2/f1.txt|F|3416407|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3416408|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2|D|3416409
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0025/nonempty_dir2/d2/d3|D|3416410
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 10
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3541257
   /test_dir_0026/empty_dir1|D|3541258
   /test_dir_0026/empty_dir2|D|3541259
   /test_dir_0026/nonempty_dir1|D|3541260
   /test_dir_0026/nonempty_dir1/f1.txt|F|3541261|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2|D|3541262
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3541263|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir1/d2/d3|D|3541264
   /test_dir_0026/nonempty_dir2|D|3541265
   /test_dir_0026/nonempty_dir2/f1.txt|F|3541268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3541269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2|D|3541270
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0026/nonempty_dir2/d2/d3|D|3541271
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 10
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3541277
   /test_dir_0027/empty_dir1|D|3541279
   /test_dir_0027/empty_dir2|D|3541280
   /test_dir_0027/nonempty_dir1|D|3541281
   /test_dir_0027/nonempty_dir1/f1.txt|F|3541282|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2|D|3541283
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3541284|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir1/d2/d3|D|3541285
   /test_dir_0027/nonempty_dir2|D|3541286
   /test_dir_0027/nonempty_dir2/f1.txt|F|3541287|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3541288|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2|D|3541290
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0027/nonempty_dir2/d2/d3|D|3541291
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0028
   /test_dir_0028|D|3541298
   /test_dir_0028/empty_dir1|D|3541299
   /test_dir_0028/empty_dir2|D|3541300
   /test_dir_0028/nonempty_dir1|D|3541301
   /test_dir_0028/nonempty_dir1/f1.txt|F|3541302|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2|D|3541305
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3541306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir1/d2/d3|D|3541307
   /test_dir_0028/nonempty_dir2|D|3541308
   /test_dir_0028/nonempty_dir2/f1.txt|F|3541309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3541310|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2|D|3541311
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0028/nonempty_dir2/d2/d3|D|3541312
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 10
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3541319
   /test_dir_0029/empty_dir1|D|3541361
   /test_dir_0029/empty_dir2|D|3541362
   /test_dir_0029/nonempty_dir1|D|3541364
   /test_dir_0029/nonempty_dir1/f1.txt|F|3541365|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2|D|3541366
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3541425|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir1/d2/d3|D|3541427
   /test_dir_0029/nonempty_dir2|D|3541430
   /test_dir_0029/nonempty_dir2/f1.txt|F|3541432|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3541434|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2|D|3541435
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0029/nonempty_dir2/d2/d3|D|3541436
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 10
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3541442
   /test_dir_0030/empty_dir1|D|3541443
   /test_dir_0030/empty_dir2|D|3541444
   /test_dir_0030/nonempty_dir1|D|3541445
   /test_dir_0030/nonempty_dir1/f1.txt|F|3541446|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2|D|3541447
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3541455|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir1/d2/d3|D|3541457
   /test_dir_0030/nonempty_dir2|D|3541458
   /test_dir_0030/nonempty_dir2/f1.txt|F|3541459|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3541460|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2|D|3541461
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0030/nonempty_dir2/d2/d3|D|3541462
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 10
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|3541469
   /test_dir_0031/empty_dir1|D|3541470
   /test_dir_0031/empty_dir2|D|3541471
   /test_dir_0031/nonempty_dir1|D|3541472
   /test_dir_0031/nonempty_dir1/f1.txt|F|3541473|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2|D|3541474
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|3541475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir1/d2/d3|D|3541476
   /test_dir_0031/nonempty_dir2|D|3541477
   /test_dir_0031/nonempty_dir2/f1.txt|F|3541479|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|3541483|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2|D|3541484
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0031/nonempty_dir2/d2/d3|D|3541485
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 10
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|3689399
   /test_dir_0032/empty_dir1|D|3689400
   /test_dir_0032/empty_dir2|D|3689401
   /test_dir_0032/nonempty_dir1|D|3689402
   /test_dir_0032/nonempty_dir1/f1.txt|F|3689403|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2|D|3689404
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|3689405|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir1/d2/d3|D|3689406
   /test_dir_0032/nonempty_dir2|D|3689407
   /test_dir_0032/nonempty_dir2/f1.txt|F|3689408|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|3689409|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2|D|3689410
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0032/nonempty_dir2/d2/d3|D|3689411
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 10
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|3803141
   /test_dir_0033/empty_dir1|D|3822036
   /test_dir_0033/empty_dir2|D|3822037
   /test_dir_0033/nonempty_dir1|D|3822038
   /test_dir_0033/nonempty_dir1/f1.txt|F|3822039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2|D|3822040
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|3822041|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir1/d2/d3|D|3822042
   /test_dir_0033/nonempty_dir2|D|3822043
   /test_dir_0033/nonempty_dir2/f1.txt|F|3822044|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|3822045|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2|D|3822046
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0033/nonempty_dir2/d2/d3|D|3822047
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 10
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|3822053
   /test_dir_0034/empty_dir1|D|3944384
   /test_dir_0034/empty_dir2|D|3944385
   /test_dir_0034/nonempty_dir1|D|3944386
   /test_dir_0034/nonempty_dir1/f1.txt|F|3944387|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2|D|3944388
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|3944389|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir1/d2/d3|D|3948785
   /test_dir_0034/nonempty_dir2|D|3948786
   /test_dir_0034/nonempty_dir2/f1.txt|F|3948787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|3948788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2|D|4072535
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0034/nonempty_dir2/d2/d3|D|4081510
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 10
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4081512
   /test_dir_0035/empty_dir1|D|4081513
   /test_dir_0035/empty_dir2|D|4081514
   /test_dir_0035/nonempty_dir1|D|4081515
   /test_dir_0035/nonempty_dir1/f1.txt|F|4081516|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2|D|4213348
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4213349|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir1/d2/d3|D|4213350
   /test_dir_0035/nonempty_dir2|D|4213351
   /test_dir_0035/nonempty_dir2/f1.txt|F|4213352|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4213353|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2|D|4213354
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0035/nonempty_dir2/d2/d3|D|4213355
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0036
   /test_dir_0036|D|4213360
   /test_dir_0036/empty_dir1|D|4346260
   /test_dir_0036/empty_dir2|D|4346261
   /test_dir_0036/nonempty_dir1|D|4346264
   /test_dir_0036/nonempty_dir1/f1.txt|F|4346265|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2|D|4346266
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4346267|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir1/d2/d3|D|4346268
   /test_dir_0036/nonempty_dir2|D|4346269
   /test_dir_0036/nonempty_dir2/f1.txt|F|4346270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4346271|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2|D|4465065
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0036/nonempty_dir2/d2/d3|D|4465066
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 10
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4465068
   /test_dir_0037/empty_dir1|D|4465069
   /test_dir_0037/empty_dir2|D|4465070
   /test_dir_0037/nonempty_dir1|D|4465071
   /test_dir_0037/nonempty_dir1/f1.txt|F|4465072|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2|D|4465073
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4465074|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir1/d2/d3|D|4596337
   /test_dir_0037/nonempty_dir2|D|4596338
   /test_dir_0037/nonempty_dir2/f1.txt|F|4596339|10|9694c4ebd673a5e2fd26e4b2e64f92e914ebd95f
   /test_dir_0037/nonempty_dir2/f2.txt|F|4596340|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2|D|4596341
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0037/nonempty_dir2/d2/d3|D|4596342
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4596344
   /test_dir_0038/empty_dir1|D|4596345
   /test_dir_0038/empty_dir2|D|4596346
   /test_dir_0038/nonempty_dir1|D|4722462
   /test_dir_0038/nonempty_dir1/f1.txt|F|4722463|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2|D|4722464
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4722465|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir1/d2/d3|D|4722466
   /test_dir_0038/nonempty_dir2|D|4722467
   /test_dir_0038/nonempty_dir2/f1.txt|F|4722468|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4722469|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2|D|4722470
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0038/nonempty_dir2/d2/d3|D|4722471
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 10
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4722477
   /test_dir_0039/empty_dir1|D|4866620
   /test_dir_0039/empty_dir2|D|4866621
   /test_dir_0039/nonempty_dir1|D|4866622
   /test_dir_0039/nonempty_dir1/f1.txt|F|4866623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2|D|4866624
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4866625|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir1/d2/d3|D|4866626
   /test_dir_0039/nonempty_dir2|D|4866627
   /test_dir_0039/nonempty_dir2/f1.txt|F|4866628|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4866629|10|cb091ce81530253707a6fa79e266f6285cf8c79b
   /test_dir_0039/nonempty_dir2/d2|D|4866630
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0039/nonempty_dir2/d2/d3|D|4982223
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 10
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4982396
   /test_dir_0040/empty_dir1|D|4982423
   /test_dir_0040/empty_dir2|D|4982449
   /test_dir_0040/nonempty_dir1|D|4982457
   /test_dir_0040/nonempty_dir1/f1.txt|F|4982460|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2|D|4982465
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|4982467|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir1/d2/d3|D|4982471
   /test_dir_0040/nonempty_dir2|D|5125899
   /test_dir_0040/nonempty_dir2/f1.txt|F|5125901|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5125903|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2|D|5125905
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0040/nonempty_dir2/d2/d3|D|5125907
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 10
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5125911
   /test_dir_0041/empty_dir1|D|5125913
   /test_dir_0041/empty_dir2|D|5125915
   /test_dir_0041/nonempty_dir1|D|5125917
   /test_dir_0041/nonempty_dir1/f1.txt|F|5125919|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2|D|5251095
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5251096|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir1/d2/d3|D|5251097
   /test_dir_0041/nonempty_dir2|D|5251098
   /test_dir_0041/nonempty_dir2/f1.txt|F|5251099|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5251100|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2|D|5251101
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0041/nonempty_dir2/d2/d3|D|5251102
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 10
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5251107
   /test_dir_0042/empty_dir1|D|5251108
   /test_dir_0042/empty_dir2|D|5382331
   /test_dir_0042/nonempty_dir1|D|5382333
   /test_dir_0042/nonempty_dir1/f1.txt|F|5382335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2|D|5382337
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5382339|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir1/d2/d3|D|5382341
   /test_dir_0042/nonempty_dir2|D|5382343
   /test_dir_0042/nonempty_dir2/f1.txt|F|5382345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5382347|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2|D|5382349
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0042/nonempty_dir2/d2/d3|D|5512051
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 10
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5512052
   /test_dir_0043/empty_dir1|D|5512053
   /test_dir_0043/empty_dir2|D|5512054
   /test_dir_0043/nonempty_dir1|D|5512055
   /test_dir_0043/nonempty_dir1/f1.txt|F|5512056|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2|D|5512057
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5512058|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir1/d2/d3|D|5643037
   /test_dir_0043/nonempty_dir2|D|5643038
   /test_dir_0043/nonempty_dir2/f1.txt|F|5643039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5643040|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2|D|5643041
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0043/nonempty_dir2/d2/d3|D|5643042
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 10
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5643044
   /test_dir_0044/empty_dir1|D|5643045
   /test_dir_0044/empty_dir2|D|5643046
   /test_dir_0044/nonempty_dir1|D|5776794
   /test_dir_0044/nonempty_dir1/f1.txt|F|5776795|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2|D|5776796
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5776797|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir1/d2/d3|D|5776798
   /test_dir_0044/nonempty_dir2|D|5776799
   /test_dir_0044/nonempty_dir2/f1.txt|F|5776800|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5776801|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2|D|5776802
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0044/nonempty_dir2/d2/d3|D|5776803
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 10
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5776809
   /test_dir_0045/empty_dir1|D|5908822
   /test_dir_0045/empty_dir2|D|5908823
   /test_dir_0045/nonempty_dir1|D|5908824
   /test_dir_0045/nonempty_dir1/f1.txt|F|5908825|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2|D|5908826
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5908827|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir1/d2/d3|D|5908828
   /test_dir_0045/nonempty_dir2|D|5908829
   /test_dir_0045/nonempty_dir2/f1.txt|F|5908830|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5908831|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2|D|5908832
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0045/nonempty_dir2/d2/d3|D|137635
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 10
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|137636
   /test_dir_0046/empty_dir1|D|137637
   /test_dir_0046/empty_dir2|D|137638
   /test_dir_0046/nonempty_dir1|D|137639
   /test_dir_0046/nonempty_dir1/f1.txt|F|137640|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2|D|137641
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|137642|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir1/d2/d3|D|137643
   /test_dir_0046/nonempty_dir2|D|2233923
   /test_dir_0046/nonempty_dir2/f1.txt|F|2233924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|2233925|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2|D|2233926
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0046/nonempty_dir2/d2/d3|D|2233927
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 100
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|3944383
   /test_dir_0001/empty_dir1|D|4067084
   /test_dir_0001/empty_dir2|D|4067085
   /test_dir_0001/nonempty_dir1|D|4196363
   /test_dir_0001/nonempty_dir1/f1.txt|F|4196364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2|D|4213340
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|4213343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir1/d2/d3|D|4328736
   /test_dir_0001/nonempty_dir2|D|4329729
   /test_dir_0001/nonempty_dir2/f1.txt|F|4330057|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|4343269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2|D|4346258
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0001/nonempty_dir2/d2/d3|D|4465061
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 100
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|4465062
   /test_dir_0002/empty_dir1|D|4465063
   /test_dir_0002/empty_dir2|D|4465064
   /test_dir_0002/nonempty_dir1|D|4596325
   /test_dir_0002/nonempty_dir1/f1.txt|F|4596326|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2|D|4596327
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|4596328|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir1/d2/d3|D|4596329
   /test_dir_0002/nonempty_dir2|D|4596330
   /test_dir_0002/nonempty_dir2/f1.txt|F|4596331|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|4596332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2|D|4721938
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0002/nonempty_dir2/d2/d3|D|4721939
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 100
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|4722460
   /test_dir_0003/empty_dir1|D|4722461
   /test_dir_0003/empty_dir2|D|4857135
   /test_dir_0003/nonempty_dir1|D|4857136
   /test_dir_0003/nonempty_dir1/f1.txt|F|4857138|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2|D|4857139
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|4866614|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir1/d2/d3|D|4866615
   /test_dir_0003/nonempty_dir2|D|4982147
   /test_dir_0003/nonempty_dir2/f1.txt|F|4982173|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|4982201|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2|D|4982210
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0003/nonempty_dir2/d2/d3|D|4982213
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 100
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|4982220
   /test_dir_0004/empty_dir1|D|5125879
   /test_dir_0004/empty_dir2|D|5125881
   /test_dir_0004/nonempty_dir1|D|5125883
   /test_dir_0004/nonempty_dir1/f1.txt|F|5125885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2|D|5125887
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|5125889|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir1/d2/d3|D|5251088
   /test_dir_0004/nonempty_dir2|D|5251089
   /test_dir_0004/nonempty_dir2/f1.txt|F|5251090|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|5251091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2|D|5251092
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0004/nonempty_dir2/d2/d3|D|5251093
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 100
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|5382309
   /test_dir_0005/empty_dir1|D|5382311
   /test_dir_0005/empty_dir2|D|5382313
   /test_dir_0005/nonempty_dir1|D|5382315
   /test_dir_0005/nonempty_dir1/f1.txt|F|5382317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2|D|5382319
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|5382321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir1/d2/d3|D|5512043
   /test_dir_0005/nonempty_dir2|D|5512044
   /test_dir_0005/nonempty_dir2/f1.txt|F|5512045|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|5512046|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2|D|5512047
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0005/nonempty_dir2/d2/d3|D|5512048
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 100
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|5512050
   /test_dir_0006/empty_dir1|D|5643026
   /test_dir_0006/empty_dir2|D|5643027
   /test_dir_0006/nonempty_dir1|D|5643028
   /test_dir_0006/nonempty_dir1/f1.txt|F|5643029|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2|D|5643030
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|5643031|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir1/d2/d3|D|5643032
   /test_dir_0006/nonempty_dir2|D|5776786
   /test_dir_0006/nonempty_dir2/f1.txt|F|5776787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|5776788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2|D|5776789
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0006/nonempty_dir2/d2/d3|D|5776790
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 100
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|5776792
   /test_dir_0007/empty_dir1|D|5776793
   /test_dir_0007/empty_dir2|D|5908809
   /test_dir_0007/nonempty_dir1|D|5908810
   /test_dir_0007/nonempty_dir1/f1.txt|F|5908811|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2|D|5908812
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|5908813|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir1/d2/d3|D|5908814
   /test_dir_0007/nonempty_dir2|D|5908815
   /test_dir_0007/nonempty_dir2/f1.txt|F|5908816|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|5908817|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2|D|137629
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0007/nonempty_dir2/d2/d3|D|137630
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 100
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|137632
   /test_dir_0008/empty_dir1|D|137633
   /test_dir_0008/empty_dir2|D|137634
   /test_dir_0008/nonempty_dir1|D|2233915
   /test_dir_0008/nonempty_dir1/f1.txt|F|2233916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2|D|2233917
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|2233918|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir1/d2/d3|D|2366432
   /test_dir_0008/nonempty_dir2|D|2366433
   /test_dir_0008/nonempty_dir2/f1.txt|F|2366434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|2366435|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2|D|2499292
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0008/nonempty_dir2/d2/d3|D|2499293
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 100
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|2752587
   /test_dir_0009/empty_dir1|D|2754474
   /test_dir_0009/empty_dir2|D|3022371
   /test_dir_0009/nonempty_dir1|D|3151795
   /test_dir_0009/nonempty_dir1/f1.txt|F|3155510|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2|D|3156093
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|3156094|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir1/d2/d3|D|3156095
   /test_dir_0009/nonempty_dir2|D|3156096
   /test_dir_0009/nonempty_dir2/f1.txt|F|3156097|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|3156098|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2|D|3156099
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0009/nonempty_dir2/d2/d3|D|3156100
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 100
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|3156106
   /test_dir_0010/empty_dir1|D|3277233
   /test_dir_0010/empty_dir2|D|3277234
   /test_dir_0010/nonempty_dir1|D|3277278
   /test_dir_0010/nonempty_dir1/f1.txt|F|3277279|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2|D|3284594
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|3284596|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir1/d2/d3|D|3284597
   /test_dir_0010/nonempty_dir2|D|3284598
   /test_dir_0010/nonempty_dir2/f1.txt|F|3284599|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|3284600|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2|D|3284601
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0010/nonempty_dir2/d2/d3|D|3284602
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 100
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|3284608
   /test_dir_0011/empty_dir1|D|3284609
   /test_dir_0011/empty_dir2|D|3284610
   /test_dir_0011/nonempty_dir1|D|3284611
   /test_dir_0011/nonempty_dir1/f1.txt|F|3284614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2|D|3284615
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|3284616|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir1/d2/d3|D|3284617
   /test_dir_0011/nonempty_dir2|D|3284618
   /test_dir_0011/nonempty_dir2/f1.txt|F|3284623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|3284627|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2|D|3284628
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0011/nonempty_dir2/d2/d3|D|3284629
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 100
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|3286112
   /test_dir_0012/empty_dir1|D|3286113
   /test_dir_0012/empty_dir2|D|3286114
   /test_dir_0012/nonempty_dir1|D|3286115
   /test_dir_0012/nonempty_dir1/f1.txt|F|3286116|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2|D|3286117
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|3286118|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir1/d2/d3|D|3286119
   /test_dir_0012/nonempty_dir2|D|3286120
   /test_dir_0012/nonempty_dir2/f1.txt|F|3286121|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|3286122|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2|D|3286123
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0012/nonempty_dir2/d2/d3|D|3286124
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 100
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|3416157
   /test_dir_0013/empty_dir1|D|3416158
   /test_dir_0013/empty_dir2|D|3416159
   /test_dir_0013/nonempty_dir1|D|3416185
   /test_dir_0013/nonempty_dir1/f1.txt|F|3416186|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2|D|3416187
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|3416188|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir1/d2/d3|D|3416189
   /test_dir_0013/nonempty_dir2|D|3416190
   /test_dir_0013/nonempty_dir2/f1.txt|F|3416191|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|3416192|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2|D|3416193
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0013/nonempty_dir2/d2/d3|D|3416194
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|3416200
   /test_dir_0014/empty_dir1|D|3416201
   /test_dir_0014/empty_dir2|D|3416202
   /test_dir_0014/nonempty_dir1|D|3416203
   /test_dir_0014/nonempty_dir1/f1.txt|F|3416204|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2|D|3416205
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|3416206|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir1/d2/d3|D|3416207
   /test_dir_0014/nonempty_dir2|D|3416208
   /test_dir_0014/nonempty_dir2/f1.txt|F|3416209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|3416210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2|D|3416211
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0014/nonempty_dir2/d2/d3|D|3416212
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 100
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|3416218
   /test_dir_0015/empty_dir1|D|3416219
   /test_dir_0015/empty_dir2|D|3416220
   /test_dir_0015/nonempty_dir1|D|3416221
   /test_dir_0015/nonempty_dir1/f1.txt|F|3416222|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2|D|3416223
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|3416224|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir1/d2/d3|D|3416225
   /test_dir_0015/nonempty_dir2|D|3416226
   /test_dir_0015/nonempty_dir2/f1.txt|F|3416227|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|3416228|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2|D|3416229
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0015/nonempty_dir2/d2/d3|D|3416230
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 100
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|3416236
   /test_dir_0016/empty_dir1|D|3416237
   /test_dir_0016/empty_dir2|D|3416238
   /test_dir_0016/nonempty_dir1|D|3416239
   /test_dir_0016/nonempty_dir1/f1.txt|F|3416240|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2|D|3416241
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|3416242|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir1/d2/d3|D|3416243
   /test_dir_0016/nonempty_dir2|D|3416244
   /test_dir_0016/nonempty_dir2/f1.txt|F|3416245|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|3416246|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2|D|3416247
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0016/nonempty_dir2/d2/d3|D|3416248
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 100
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|3416254
   /test_dir_0017/empty_dir1|D|3416255
   /test_dir_0017/empty_dir2|D|3416256
   /test_dir_0017/nonempty_dir1|D|3416257
   /test_dir_0017/nonempty_dir1/f1.txt|F|3416258|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2|D|3416259
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|3416260|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir1/d2/d3|D|3416261
   /test_dir_0017/nonempty_dir2|D|3416262
   /test_dir_0017/nonempty_dir2/f1.txt|F|3416263|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|3416264|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2|D|3416265
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0017/nonempty_dir2/d2/d3|D|3416266
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0018
   /test_dir_0018|D|3416272
   /test_dir_0018/empty_dir1|D|3416273
   /test_dir_0018/empty_dir2|D|3416274
   /test_dir_0018/nonempty_dir1|D|3416275
   /test_dir_0018/nonempty_dir1/f1.txt|F|3416276|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2|D|3416277
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|3416278|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir1/d2/d3|D|3416279
   /test_dir_0018/nonempty_dir2|D|3416280
   /test_dir_0018/nonempty_dir2/f1.txt|F|3416281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|3416282|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2|D|3416283
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0018/nonempty_dir2/d2/d3|D|3416284
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 100
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|3416290
   /test_dir_0019/empty_dir1|D|3416291
   /test_dir_0019/empty_dir2|D|3416292
   /test_dir_0019/nonempty_dir1|D|3416293
   /test_dir_0019/nonempty_dir1/f1.txt|F|3416294|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2|D|3416295
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|3416296|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir1/d2/d3|D|3416297
   /test_dir_0019/nonempty_dir2|D|3416298
   /test_dir_0019/nonempty_dir2/f1.txt|F|3416299|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|3416300|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2|D|3416301
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0019/nonempty_dir2/d2/d3|D|3416302
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 100
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|3416308
   /test_dir_0020/empty_dir1|D|3416309
   /test_dir_0020/empty_dir2|D|3416310
   /test_dir_0020/nonempty_dir1|D|3416311
   /test_dir_0020/nonempty_dir1/f1.txt|F|3416312|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2|D|3416313
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|3416314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir1/d2/d3|D|3416315
   /test_dir_0020/nonempty_dir2|D|3416316
   /test_dir_0020/nonempty_dir2/f1.txt|F|3416317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|3416318|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2|D|3416319
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0020/nonempty_dir2/d2/d3|D|3416320
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 100
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|3416326
   /test_dir_0021/empty_dir1|D|3416327
   /test_dir_0021/empty_dir2|D|3416328
   /test_dir_0021/nonempty_dir1|D|3416329
   /test_dir_0021/nonempty_dir1/f1.txt|F|3416330|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2|D|3416331
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|3416332|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir1/d2/d3|D|3416333
   /test_dir_0021/nonempty_dir2|D|3416334
   /test_dir_0021/nonempty_dir2/f1.txt|F|3416335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|3416336|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2|D|3416337
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0021/nonempty_dir2/d2/d3|D|3416338
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|3416344
   /test_dir_0022/empty_dir1|D|3416345
   /test_dir_0022/empty_dir2|D|3416346
   /test_dir_0022/nonempty_dir1|D|3416347
   /test_dir_0022/nonempty_dir1/f1.txt|F|3416348|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2|D|3416349
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3416350|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir1/d2/d3|D|3416351
   /test_dir_0022/nonempty_dir2|D|3416352
   /test_dir_0022/nonempty_dir2/f1.txt|F|3416353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3416354|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2|D|3416355
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0022/nonempty_dir2/d2/d3|D|3416356
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 100
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3416362
   /test_dir_0023/empty_dir1|D|3416363
   /test_dir_0023/empty_dir2|D|3416364
   /test_dir_0023/nonempty_dir1|D|3416365
   /test_dir_0023/nonempty_dir1/f1.txt|F|3416366|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2|D|3416367
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3416368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir1/d2/d3|D|3416369
   /test_dir_0023/nonempty_dir2|D|3416370
   /test_dir_0023/nonempty_dir2/f1.txt|F|3416371|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3416372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2|D|3416373
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0023/nonempty_dir2/d2/d3|D|3416374
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 100
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3416380
   /test_dir_0024/empty_dir1|D|3416381
   /test_dir_0024/empty_dir2|D|3416382
   /test_dir_0024/nonempty_dir1|D|3416383
   /test_dir_0024/nonempty_dir1/f1.txt|F|3416384|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2|D|3416385
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3416386|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir1/d2/d3|D|3416387
   /test_dir_0024/nonempty_dir2|D|3416388
   /test_dir_0024/nonempty_dir2/f1.txt|F|3416389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3416390|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2|D|3416391
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0024/nonempty_dir2/d2/d3|D|3416392
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 100
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3416398
   /test_dir_0025/empty_dir1|D|3416399
   /test_dir_0025/empty_dir2|D|3416400
   /test_dir_0025/nonempty_dir1|D|3416401
   /test_dir_0025/nonempty_dir1/f1.txt|F|3416402|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2|D|3416403
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3416404|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir1/d2/d3|D|3416405
   /test_dir_0025/nonempty_dir2|D|3416406
   /test_dir_0025/nonempty_dir2/f1.txt|F|3416407|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3416408|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2|D|3416409
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0025/nonempty_dir2/d2/d3|D|3416410
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 100
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3541257
   /test_dir_0026/empty_dir1|D|3541258
   /test_dir_0026/empty_dir2|D|3541259
   /test_dir_0026/nonempty_dir1|D|3541260
   /test_dir_0026/nonempty_dir1/f1.txt|F|3541261|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2|D|3541262
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3541263|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir1/d2/d3|D|3541264
   /test_dir_0026/nonempty_dir2|D|3541265
   /test_dir_0026/nonempty_dir2/f1.txt|F|3541268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3541269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2|D|3541270
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0026/nonempty_dir2/d2/d3|D|3541271
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 100
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3541277
   /test_dir_0027/empty_dir1|D|3541279
   /test_dir_0027/empty_dir2|D|3541280
   /test_dir_0027/nonempty_dir1|D|3541281
   /test_dir_0027/nonempty_dir1/f1.txt|F|3541282|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2|D|3541283
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3541284|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir1/d2/d3|D|3541285
   /test_dir_0027/nonempty_dir2|D|3541286
   /test_dir_0027/nonempty_dir2/f1.txt|F|3541287|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3541288|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2|D|3541290
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0027/nonempty_dir2/d2/d3|D|3541291
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0028
   /test_dir_0028|D|3541298
   /test_dir_0028/empty_dir1|D|3541299
   /test_dir_0028/empty_dir2|D|3541300
   /test_dir_0028/nonempty_dir1|D|3541301
   /test_dir_0028/nonempty_dir1/f1.txt|F|3541302|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2|D|3541305
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3541306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir1/d2/d3|D|3541307
   /test_dir_0028/nonempty_dir2|D|3541308
   /test_dir_0028/nonempty_dir2/f1.txt|F|3541309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3541310|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2|D|3541311
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0028/nonempty_dir2/d2/d3|D|3541312
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 100
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3541319
   /test_dir_0029/empty_dir1|D|3541361
   /test_dir_0029/empty_dir2|D|3541362
   /test_dir_0029/nonempty_dir1|D|3541364
   /test_dir_0029/nonempty_dir1/f1.txt|F|3541365|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2|D|3541366
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3541425|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir1/d2/d3|D|3541427
   /test_dir_0029/nonempty_dir2|D|3541430
   /test_dir_0029/nonempty_dir2/f1.txt|F|3541432|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3541434|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2|D|3541435
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0029/nonempty_dir2/d2/d3|D|3541436
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 100
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3541442
   /test_dir_0030/empty_dir1|D|3541443
   /test_dir_0030/empty_dir2|D|3541444
   /test_dir_0030/nonempty_dir1|D|3541445
   /test_dir_0030/nonempty_dir1/f1.txt|F|3541446|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2|D|3541447
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3541455|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir1/d2/d3|D|3541457
   /test_dir_0030/nonempty_dir2|D|3541458
   /test_dir_0030/nonempty_dir2/f1.txt|F|3541459|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3541460|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2|D|3541461
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0030/nonempty_dir2/d2/d3|D|3541462
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 100
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|3541469
   /test_dir_0031/empty_dir1|D|3541470
   /test_dir_0031/empty_dir2|D|3541471
   /test_dir_0031/nonempty_dir1|D|3541472
   /test_dir_0031/nonempty_dir1/f1.txt|F|3541473|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2|D|3541474
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|3541475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir1/d2/d3|D|3541476
   /test_dir_0031/nonempty_dir2|D|3541477
   /test_dir_0031/nonempty_dir2/f1.txt|F|3541479|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|3541483|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2|D|3541484
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0031/nonempty_dir2/d2/d3|D|3541485
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 100
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|3689399
   /test_dir_0032/empty_dir1|D|3689400
   /test_dir_0032/empty_dir2|D|3689401
   /test_dir_0032/nonempty_dir1|D|3689402
   /test_dir_0032/nonempty_dir1/f1.txt|F|3689403|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2|D|3689404
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|3689405|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir1/d2/d3|D|3689406
   /test_dir_0032/nonempty_dir2|D|3689407
   /test_dir_0032/nonempty_dir2/f1.txt|F|3689408|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|3689409|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2|D|3689410
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0032/nonempty_dir2/d2/d3|D|3689411
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 100
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|3803141
   /test_dir_0033/empty_dir1|D|3822036
   /test_dir_0033/empty_dir2|D|3822037
   /test_dir_0033/nonempty_dir1|D|3822038
   /test_dir_0033/nonempty_dir1/f1.txt|F|3822039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2|D|3822040
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|3822041|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir1/d2/d3|D|3822042
   /test_dir_0033/nonempty_dir2|D|3822043
   /test_dir_0033/nonempty_dir2/f1.txt|F|3822044|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|3822045|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2|D|3822046
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0033/nonempty_dir2/d2/d3|D|3822047
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 100
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|3822053
   /test_dir_0034/empty_dir1|D|3944384
   /test_dir_0034/empty_dir2|D|3944385
   /test_dir_0034/nonempty_dir1|D|3944386
   /test_dir_0034/nonempty_dir1/f1.txt|F|3944387|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2|D|3944388
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|3944389|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir1/d2/d3|D|3948785
   /test_dir_0034/nonempty_dir2|D|3948786
   /test_dir_0034/nonempty_dir2/f1.txt|F|3948787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|3948788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2|D|4072535
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0034/nonempty_dir2/d2/d3|D|4081510
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 100
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4081512
   /test_dir_0035/empty_dir1|D|4081513
   /test_dir_0035/empty_dir2|D|4081514
   /test_dir_0035/nonempty_dir1|D|4081515
   /test_dir_0035/nonempty_dir1/f1.txt|F|4081516|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2|D|4213348
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4213349|100|75e892f461f9d4c8e96d6963996b0b6b87a75782
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir1/d2/d3|D|4213350
   /test_dir_0035/nonempty_dir2|D|4213351
   /test_dir_0035/nonempty_dir2/f1.txt|F|4213352|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4213353|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2|D|4213354
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0035/nonempty_dir2/d2/d3|D|4213355
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0036
   /test_dir_0036|D|4213360
   /test_dir_0036/empty_dir1|D|4346260
   /test_dir_0036/empty_dir2|D|4346261
   /test_dir_0036/nonempty_dir1|D|4346264
   /test_dir_0036/nonempty_dir1/f1.txt|F|4346265|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2|D|4346266
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4346267|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir1/d2/d3|D|4346268
   /test_dir_0036/nonempty_dir2|D|4346269
   /test_dir_0036/nonempty_dir2/f1.txt|F|4346270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4346271|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2|D|4465065
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0036/nonempty_dir2/d2/d3|D|4465066
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 100
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4465068
   /test_dir_0037/empty_dir1|D|4465069
   /test_dir_0037/empty_dir2|D|4465070
   /test_dir_0037/nonempty_dir1|D|4465071
   /test_dir_0037/nonempty_dir1/f1.txt|F|4465072|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2|D|4465073
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4465074|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir1/d2/d3|D|4596337
   /test_dir_0037/nonempty_dir2|D|4596338
   /test_dir_0037/nonempty_dir2/f1.txt|F|4596339|100|ed4a77d1b56a118938788fc53037759b6c501e3d
   /test_dir_0037/nonempty_dir2/f2.txt|F|4596340|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2|D|4596341
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0037/nonempty_dir2/d2/d3|D|4596342
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4596344
   /test_dir_0038/empty_dir1|D|4596345
   /test_dir_0038/empty_dir2|D|4596346
   /test_dir_0038/nonempty_dir1|D|4722462
   /test_dir_0038/nonempty_dir1/f1.txt|F|4722463|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2|D|4722464
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4722465|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir1/d2/d3|D|4722466
   /test_dir_0038/nonempty_dir2|D|4722467
   /test_dir_0038/nonempty_dir2/f1.txt|F|4722468|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4722469|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2|D|4722470
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0038/nonempty_dir2/d2/d3|D|4722471
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 100
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4722477
   /test_dir_0039/empty_dir1|D|4866620
   /test_dir_0039/empty_dir2|D|4866621
   /test_dir_0039/nonempty_dir1|D|4866622
   /test_dir_0039/nonempty_dir1/f1.txt|F|4866623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2|D|4866624
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4866625|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir1/d2/d3|D|4866626
   /test_dir_0039/nonempty_dir2|D|4866627
   /test_dir_0039/nonempty_dir2/f1.txt|F|4866628|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4866629|100|73e4ea4018155d76ebe7374f30c9d1db00b81a4d
   /test_dir_0039/nonempty_dir2/d2|D|4866630
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0039/nonempty_dir2/d2/d3|D|4982223
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 100
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4982396
   /test_dir_0040/empty_dir1|D|4982423
   /test_dir_0040/empty_dir2|D|4982449
   /test_dir_0040/nonempty_dir1|D|4982457
   /test_dir_0040/nonempty_dir1/f1.txt|F|4982460|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2|D|4982465
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|4982467|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir1/d2/d3|D|4982471
   /test_dir_0040/nonempty_dir2|D|5125899
   /test_dir_0040/nonempty_dir2/f1.txt|F|5125901|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5125903|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2|D|5125905
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0040/nonempty_dir2/d2/d3|D|5125907
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 100
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5125911
   /test_dir_0041/empty_dir1|D|5125913
   /test_dir_0041/empty_dir2|D|5125915
   /test_dir_0041/nonempty_dir1|D|5125917
   /test_dir_0041/nonempty_dir1/f1.txt|F|5125919|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2|D|5251095
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5251096|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir1/d2/d3|D|5251097
   /test_dir_0041/nonempty_dir2|D|5251098
   /test_dir_0041/nonempty_dir2/f1.txt|F|5251099|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5251100|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2|D|5251101
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0041/nonempty_dir2/d2/d3|D|5251102
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 100
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5251107
   /test_dir_0042/empty_dir1|D|5251108
   /test_dir_0042/empty_dir2|D|5382331
   /test_dir_0042/nonempty_dir1|D|5382333
   /test_dir_0042/nonempty_dir1/f1.txt|F|5382335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2|D|5382337
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5382339|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir1/d2/d3|D|5382341
   /test_dir_0042/nonempty_dir2|D|5382343
   /test_dir_0042/nonempty_dir2/f1.txt|F|5382345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5382347|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2|D|5382349
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0042/nonempty_dir2/d2/d3|D|5512051
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 100
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5512052
   /test_dir_0043/empty_dir1|D|5512053
   /test_dir_0043/empty_dir2|D|5512054
   /test_dir_0043/nonempty_dir1|D|5512055
   /test_dir_0043/nonempty_dir1/f1.txt|F|5512056|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2|D|5512057
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5512058|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir1/d2/d3|D|5643037
   /test_dir_0043/nonempty_dir2|D|5643038
   /test_dir_0043/nonempty_dir2/f1.txt|F|5643039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5643040|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2|D|5643041
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0043/nonempty_dir2/d2/d3|D|5643042
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 100
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5643044
   /test_dir_0044/empty_dir1|D|5643045
   /test_dir_0044/empty_dir2|D|5643046
   /test_dir_0044/nonempty_dir1|D|5776794
   /test_dir_0044/nonempty_dir1/f1.txt|F|5776795|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2|D|5776796
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5776797|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir1/d2/d3|D|5776798
   /test_dir_0044/nonempty_dir2|D|5776799
   /test_dir_0044/nonempty_dir2/f1.txt|F|5776800|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5776801|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2|D|5776802
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0044/nonempty_dir2/d2/d3|D|5776803
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 100
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5776809
   /test_dir_0045/empty_dir1|D|5908822
   /test_dir_0045/empty_dir2|D|5908823
   /test_dir_0045/nonempty_dir1|D|5908824
   /test_dir_0045/nonempty_dir1/f1.txt|F|5908825|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2|D|5908826
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5908827|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir1/d2/d3|D|5908828
   /test_dir_0045/nonempty_dir2|D|5908829
   /test_dir_0045/nonempty_dir2/f1.txt|F|5908830|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5908831|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2|D|5908832
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0045/nonempty_dir2/d2/d3|D|137635
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 100
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|137636
   /test_dir_0046/empty_dir1|D|137637
   /test_dir_0046/empty_dir2|D|137638
   /test_dir_0046/nonempty_dir1|D|137639
   /test_dir_0046/nonempty_dir1/f1.txt|F|137640|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2|D|137641
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|137642|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir1/d2/d3|D|137643
   /test_dir_0046/nonempty_dir2|D|2233923
   /test_dir_0046/nonempty_dir2/f1.txt|F|2233924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|2233925|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2|D|2233926
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0046/nonempty_dir2/d2/d3|D|2233927
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 1000
Tau
EISDIR

dump-result /test_dir_0001
   /test_dir_0001|D|3944383
   /test_dir_0001/empty_dir1|D|4067084
   /test_dir_0001/empty_dir2|D|4067085
   /test_dir_0001/nonempty_dir1|D|4196363
   /test_dir_0001/nonempty_dir1/f1.txt|F|4196364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2|D|4213340
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|4213343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir1/d2/d3|D|4328736
   /test_dir_0001/nonempty_dir2|D|4329729
   /test_dir_0001/nonempty_dir2/f1.txt|F|4330057|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|4343269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2|D|4346258
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0001/nonempty_dir2/d2/d3|D|4465061
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ 1000
Tau
EISDIR

dump-result /test_dir_0002
   /test_dir_0002|D|4465062
   /test_dir_0002/empty_dir1|D|4465063
   /test_dir_0002/empty_dir2|D|4465064
   /test_dir_0002/nonempty_dir1|D|4596325
   /test_dir_0002/nonempty_dir1/f1.txt|F|4596326|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2|D|4596327
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|4596328|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir1/d2/d3|D|4596329
   /test_dir_0002/nonempty_dir2|D|4596330
   /test_dir_0002/nonempty_dir2/f1.txt|F|4596331|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|4596332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2|D|4721938
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0002/nonempty_dir2/d2/d3|D|4721939
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 1000
Tau
EISDIR

dump-result /test_dir_0003
   /test_dir_0003|D|4722460
   /test_dir_0003/empty_dir1|D|4722461
   /test_dir_0003/empty_dir2|D|4857135
   /test_dir_0003/nonempty_dir1|D|4857136
   /test_dir_0003/nonempty_dir1/f1.txt|F|4857138|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2|D|4857139
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|4866614|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir1/d2/d3|D|4866615
   /test_dir_0003/nonempty_dir2|D|4982147
   /test_dir_0003/nonempty_dir2/f1.txt|F|4982173|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|4982201|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2|D|4982210
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0003/nonempty_dir2/d2/d3|D|4982213
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ 1000
Tau
EISDIR

dump-result /test_dir_0004
   /test_dir_0004|D|4982220
   /test_dir_0004/empty_dir1|D|5125879
   /test_dir_0004/empty_dir2|D|5125881
   /test_dir_0004/nonempty_dir1|D|5125883
   /test_dir_0004/nonempty_dir1/f1.txt|F|5125885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2|D|5125887
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|5125889|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir1/d2/d3|D|5251088
   /test_dir_0004/nonempty_dir2|D|5251089
   /test_dir_0004/nonempty_dir2/f1.txt|F|5251090|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|5251091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2|D|5251092
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0004/nonempty_dir2/d2/d3|D|5251093
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 1000
Tau
EISDIR

dump-result /test_dir_0005
   /test_dir_0005|D|5382309
   /test_dir_0005/empty_dir1|D|5382311
   /test_dir_0005/empty_dir2|D|5382313
   /test_dir_0005/nonempty_dir1|D|5382315
   /test_dir_0005/nonempty_dir1/f1.txt|F|5382317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2|D|5382319
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|5382321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir1/d2/d3|D|5512043
   /test_dir_0005/nonempty_dir2|D|5512044
   /test_dir_0005/nonempty_dir2/f1.txt|F|5512045|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|5512046|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2|D|5512047
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0005/nonempty_dir2/d2/d3|D|5512048
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ 1000
Tau
EISDIR

dump-result /test_dir_0006
   /test_dir_0006|D|5512050
   /test_dir_0006/empty_dir1|D|5643026
   /test_dir_0006/empty_dir2|D|5643027
   /test_dir_0006/nonempty_dir1|D|5643028
   /test_dir_0006/nonempty_dir1/f1.txt|F|5643029|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2|D|5643030
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|5643031|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir1/d2/d3|D|5643032
   /test_dir_0006/nonempty_dir2|D|5776786
   /test_dir_0006/nonempty_dir2/f1.txt|F|5776787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|5776788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2|D|5776789
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0006/nonempty_dir2/d2/d3|D|5776790
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 1000
Tau
EISDIR

dump-result /test_dir_0007
   /test_dir_0007|D|5776792
   /test_dir_0007/empty_dir1|D|5776793
   /test_dir_0007/empty_dir2|D|5908809
   /test_dir_0007/nonempty_dir1|D|5908810
   /test_dir_0007/nonempty_dir1/f1.txt|F|5908811|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2|D|5908812
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|5908813|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir1/d2/d3|D|5908814
   /test_dir_0007/nonempty_dir2|D|5908815
   /test_dir_0007/nonempty_dir2/f1.txt|F|5908816|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|5908817|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2|D|137629
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0007/nonempty_dir2/d2/d3|D|137630
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ 1000
Tau
EISDIR

dump-result /test_dir_0008
   /test_dir_0008|D|137632
   /test_dir_0008/empty_dir1|D|137633
   /test_dir_0008/empty_dir2|D|137634
   /test_dir_0008/nonempty_dir1|D|2233915
   /test_dir_0008/nonempty_dir1/f1.txt|F|2233916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2|D|2233917
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|2233918|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir1/d2/d3|D|2366432
   /test_dir_0008/nonempty_dir2|D|2366433
   /test_dir_0008/nonempty_dir2/f1.txt|F|2366434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|2366435|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2|D|2499292
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0008/nonempty_dir2/d2/d3|D|2499293
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 1000
Tau
ENOENT

dump-result /test_dir_0009
   /test_dir_0009|D|2752587
   /test_dir_0009/empty_dir1|D|2754474
   /test_dir_0009/empty_dir2|D|3022371
   /test_dir_0009/nonempty_dir1|D|3151795
   /test_dir_0009/nonempty_dir1/f1.txt|F|3155510|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2|D|3156093
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|3156094|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir1/d2/d3|D|3156095
   /test_dir_0009/nonempty_dir2|D|3156096
   /test_dir_0009/nonempty_dir2/f1.txt|F|3156097|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|3156098|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2|D|3156099
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0009/nonempty_dir2/d2/d3|D|3156100
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ 1000
Tau
ENOENT

dump-result /test_dir_0010
   /test_dir_0010|D|3156106
   /test_dir_0010/empty_dir1|D|3277233
   /test_dir_0010/empty_dir2|D|3277234
   /test_dir_0010/nonempty_dir1|D|3277278
   /test_dir_0010/nonempty_dir1/f1.txt|F|3277279|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2|D|3284594
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|3284596|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir1/d2/d3|D|3284597
   /test_dir_0010/nonempty_dir2|D|3284598
   /test_dir_0010/nonempty_dir2/f1.txt|F|3284599|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|3284600|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2|D|3284601
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0010/nonempty_dir2/d2/d3|D|3284602
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 1000
Tau
EISDIR

dump-result /test_dir_0011
   /test_dir_0011|D|3284608
   /test_dir_0011/empty_dir1|D|3284609
   /test_dir_0011/empty_dir2|D|3284610
   /test_dir_0011/nonempty_dir1|D|3284611
   /test_dir_0011/nonempty_dir1/f1.txt|F|3284614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2|D|3284615
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|3284616|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir1/d2/d3|D|3284617
   /test_dir_0011/nonempty_dir2|D|3284618
   /test_dir_0011/nonempty_dir2/f1.txt|F|3284623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|3284627|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2|D|3284628
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0011/nonempty_dir2/d2/d3|D|3284629
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ 1000
Tau
EISDIR

dump-result /test_dir_0012
   /test_dir_0012|D|3286112
   /test_dir_0012/empty_dir1|D|3286113
   /test_dir_0012/empty_dir2|D|3286114
   /test_dir_0012/nonempty_dir1|D|3286115
   /test_dir_0012/nonempty_dir1/f1.txt|F|3286116|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2|D|3286117
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|3286118|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir1/d2/d3|D|3286119
   /test_dir_0012/nonempty_dir2|D|3286120
   /test_dir_0012/nonempty_dir2/f1.txt|F|3286121|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|3286122|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2|D|3286123
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0012/nonempty_dir2/d2/d3|D|3286124
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt 1000
Tau
RV_none

dump-result /test_dir_0013
   /test_dir_0013|D|3416157
   /test_dir_0013/empty_dir1|D|3416158
   /test_dir_0013/empty_dir2|D|3416159
   /test_dir_0013/nonempty_dir1|D|3416185
   /test_dir_0013/nonempty_dir1/f1.txt|F|3416186|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2|D|3416187
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|3416188|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir1/d2/d3|D|3416189
   /test_dir_0013/nonempty_dir2|D|3416190
   /test_dir_0013/nonempty_dir2/f1.txt|F|3416191|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|3416192|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2|D|3416193
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0013/nonempty_dir2/d2/d3|D|3416194
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0014
   /test_dir_0014|D|3416200
   /test_dir_0014/empty_dir1|D|3416201
   /test_dir_0014/empty_dir2|D|3416202
   /test_dir_0014/nonempty_dir1|D|3416203
   /test_dir_0014/nonempty_dir1/f1.txt|F|3416204|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2|D|3416205
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|3416206|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir1/d2/d3|D|3416207
   /test_dir_0014/nonempty_dir2|D|3416208
   /test_dir_0014/nonempty_dir2/f1.txt|F|3416209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|3416210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2|D|3416211
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0014/nonempty_dir2/d2/d3|D|3416212
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 1000
Tau
EISDIR

dump-result /test_dir_0015
   /test_dir_0015|D|3416218
   /test_dir_0015/empty_dir1|D|3416219
   /test_dir_0015/empty_dir2|D|3416220
   /test_dir_0015/nonempty_dir1|D|3416221
   /test_dir_0015/nonempty_dir1/f1.txt|F|3416222|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2|D|3416223
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|3416224|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir1/d2/d3|D|3416225
   /test_dir_0015/nonempty_dir2|D|3416226
   /test_dir_0015/nonempty_dir2/f1.txt|F|3416227|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|3416228|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2|D|3416229
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0015/nonempty_dir2/d2/d3|D|3416230
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ 1000
Tau
EISDIR

dump-result /test_dir_0016
   /test_dir_0016|D|3416236
   /test_dir_0016/empty_dir1|D|3416237
   /test_dir_0016/empty_dir2|D|3416238
   /test_dir_0016/nonempty_dir1|D|3416239
   /test_dir_0016/nonempty_dir1/f1.txt|F|3416240|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2|D|3416241
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|3416242|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir1/d2/d3|D|3416243
   /test_dir_0016/nonempty_dir2|D|3416244
   /test_dir_0016/nonempty_dir2/f1.txt|F|3416245|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|3416246|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2|D|3416247
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0016/nonempty_dir2/d2/d3|D|3416248
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt 1000
Tau
RV_none

dump-result /test_dir_0017
   /test_dir_0017|D|3416254
   /test_dir_0017/empty_dir1|D|3416255
   /test_dir_0017/empty_dir2|D|3416256
   /test_dir_0017/nonempty_dir1|D|3416257
   /test_dir_0017/nonempty_dir1/f1.txt|F|3416258|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2|D|3416259
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|3416260|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir1/d2/d3|D|3416261
   /test_dir_0017/nonempty_dir2|D|3416262
   /test_dir_0017/nonempty_dir2/f1.txt|F|3416263|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|3416264|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2|D|3416265
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0017/nonempty_dir2/d2/d3|D|3416266
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0018
   /test_dir_0018|D|3416272
   /test_dir_0018/empty_dir1|D|3416273
   /test_dir_0018/empty_dir2|D|3416274
   /test_dir_0018/nonempty_dir1|D|3416275
   /test_dir_0018/nonempty_dir1/f1.txt|F|3416276|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2|D|3416277
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|3416278|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir1/d2/d3|D|3416279
   /test_dir_0018/nonempty_dir2|D|3416280
   /test_dir_0018/nonempty_dir2/f1.txt|F|3416281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|3416282|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2|D|3416283
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0018/nonempty_dir2/d2/d3|D|3416284
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target 1000
Tau
ENOENT

dump-result /test_dir_0019
   /test_dir_0019|D|3416290
   /test_dir_0019/empty_dir1|D|3416291
   /test_dir_0019/empty_dir2|D|3416292
   /test_dir_0019/nonempty_dir1|D|3416293
   /test_dir_0019/nonempty_dir1/f1.txt|F|3416294|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2|D|3416295
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|3416296|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir1/d2/d3|D|3416297
   /test_dir_0019/nonempty_dir2|D|3416298
   /test_dir_0019/nonempty_dir2/f1.txt|F|3416299|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|3416300|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2|D|3416301
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0019/nonempty_dir2/d2/d3|D|3416302
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ 1000
Tau
ENOENT

dump-result /test_dir_0020
   /test_dir_0020|D|3416308
   /test_dir_0020/empty_dir1|D|3416309
   /test_dir_0020/empty_dir2|D|3416310
   /test_dir_0020/nonempty_dir1|D|3416311
   /test_dir_0020/nonempty_dir1/f1.txt|F|3416312|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2|D|3416313
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|3416314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir1/d2/d3|D|3416315
   /test_dir_0020/nonempty_dir2|D|3416316
   /test_dir_0020/nonempty_dir2/f1.txt|F|3416317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|3416318|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2|D|3416319
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0020/nonempty_dir2/d2/d3|D|3416320
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt 1000
Tau
RV_none

dump-result /test_dir_0021
   /test_dir_0021|D|3416326
   /test_dir_0021/empty_dir1|D|3416327
   /test_dir_0021/empty_dir2|D|3416328
   /test_dir_0021/nonempty_dir1|D|3416329
   /test_dir_0021/nonempty_dir1/f1.txt|F|3416330|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2|D|3416331
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|3416332|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir1/d2/d3|D|3416333
   /test_dir_0021/nonempty_dir2|D|3416334
   /test_dir_0021/nonempty_dir2/f1.txt|F|3416335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|3416336|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2|D|3416337
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0021/nonempty_dir2/d2/d3|D|3416338
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0022
   /test_dir_0022|D|3416344
   /test_dir_0022/empty_dir1|D|3416345
   /test_dir_0022/empty_dir2|D|3416346
   /test_dir_0022/nonempty_dir1|D|3416347
   /test_dir_0022/nonempty_dir1/f1.txt|F|3416348|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2|D|3416349
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3416350|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir1/d2/d3|D|3416351
   /test_dir_0022/nonempty_dir2|D|3416352
   /test_dir_0022/nonempty_dir2/f1.txt|F|3416353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3416354|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2|D|3416355
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0022/nonempty_dir2/d2/d3|D|3416356
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 1000
Tau
ENOTDIR

dump-result /test_dir_0023
   /test_dir_0023|D|3416362
   /test_dir_0023/empty_dir1|D|3416363
   /test_dir_0023/empty_dir2|D|3416364
   /test_dir_0023/nonempty_dir1|D|3416365
   /test_dir_0023/nonempty_dir1/f1.txt|F|3416366|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2|D|3416367
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3416368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir1/d2/d3|D|3416369
   /test_dir_0023/nonempty_dir2|D|3416370
   /test_dir_0023/nonempty_dir2/f1.txt|F|3416371|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3416372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2|D|3416373
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0023/nonempty_dir2/d2/d3|D|3416374
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ 1000
Tau
ENOTDIR

dump-result /test_dir_0024
   /test_dir_0024|D|3416380
   /test_dir_0024/empty_dir1|D|3416381
   /test_dir_0024/empty_dir2|D|3416382
   /test_dir_0024/nonempty_dir1|D|3416383
   /test_dir_0024/nonempty_dir1/f1.txt|F|3416384|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2|D|3416385
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3416386|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir1/d2/d3|D|3416387
   /test_dir_0024/nonempty_dir2|D|3416388
   /test_dir_0024/nonempty_dir2/f1.txt|F|3416389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3416390|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2|D|3416391
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0024/nonempty_dir2/d2/d3|D|3416392
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 1000
Tau
ENOENT

dump-result /test_dir_0025
   /test_dir_0025|D|3416398
   /test_dir_0025/empty_dir1|D|3416399
   /test_dir_0025/empty_dir2|D|3416400
   /test_dir_0025/nonempty_dir1|D|3416401
   /test_dir_0025/nonempty_dir1/f1.txt|F|3416402|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2|D|3416403
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3416404|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir1/d2/d3|D|3416405
   /test_dir_0025/nonempty_dir2|D|3416406
   /test_dir_0025/nonempty_dir2/f1.txt|F|3416407|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3416408|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2|D|3416409
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0025/nonempty_dir2/d2/d3|D|3416410
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ 1000
Tau
ENOENT

dump-result /test_dir_0026
   /test_dir_0026|D|3541257
   /test_dir_0026/empty_dir1|D|3541258
   /test_dir_0026/empty_dir2|D|3541259
   /test_dir_0026/nonempty_dir1|D|3541260
   /test_dir_0026/nonempty_dir1/f1.txt|F|3541261|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2|D|3541262
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3541263|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir1/d2/d3|D|3541264
   /test_dir_0026/nonempty_dir2|D|3541265
   /test_dir_0026/nonempty_dir2/f1.txt|F|3541268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3541269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2|D|3541270
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0026/nonempty_dir2/d2/d3|D|3541271
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt 1000
Tau
RV_none

dump-result /test_dir_0027
   /test_dir_0027|D|3541277
   /test_dir_0027/empty_dir1|D|3541279
   /test_dir_0027/empty_dir2|D|3541280
   /test_dir_0027/nonempty_dir1|D|3541281
   /test_dir_0027/nonempty_dir1/f1.txt|F|3541282|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2|D|3541283
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3541284|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir1/d2/d3|D|3541285
   /test_dir_0027/nonempty_dir2|D|3541286
   /test_dir_0027/nonempty_dir2/f1.txt|F|3541287|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3541288|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2|D|3541290
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0027/nonempty_dir2/d2/d3|D|3541291
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0028
   /test_dir_0028|D|3541298
   /test_dir_0028/empty_dir1|D|3541299
   /test_dir_0028/empty_dir2|D|3541300
   /test_dir_0028/nonempty_dir1|D|3541301
   /test_dir_0028/nonempty_dir1/f1.txt|F|3541302|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2|D|3541305
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3541306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir1/d2/d3|D|3541307
   /test_dir_0028/nonempty_dir2|D|3541308
   /test_dir_0028/nonempty_dir2/f1.txt|F|3541309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3541310|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2|D|3541311
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0028/nonempty_dir2/d2/d3|D|3541312
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 1000
Tau
EISDIR

dump-result /test_dir_0029
   /test_dir_0029|D|3541319
   /test_dir_0029/empty_dir1|D|3541361
   /test_dir_0029/empty_dir2|D|3541362
   /test_dir_0029/nonempty_dir1|D|3541364
   /test_dir_0029/nonempty_dir1/f1.txt|F|3541365|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2|D|3541366
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3541425|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir1/d2/d3|D|3541427
   /test_dir_0029/nonempty_dir2|D|3541430
   /test_dir_0029/nonempty_dir2/f1.txt|F|3541432|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3541434|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2|D|3541435
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0029/nonempty_dir2/d2/d3|D|3541436
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ 1000
Tau
EISDIR

dump-result /test_dir_0030
   /test_dir_0030|D|3541442
   /test_dir_0030/empty_dir1|D|3541443
   /test_dir_0030/empty_dir2|D|3541444
   /test_dir_0030/nonempty_dir1|D|3541445
   /test_dir_0030/nonempty_dir1/f1.txt|F|3541446|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2|D|3541447
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3541455|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir1/d2/d3|D|3541457
   /test_dir_0030/nonempty_dir2|D|3541458
   /test_dir_0030/nonempty_dir2/f1.txt|F|3541459|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3541460|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2|D|3541461
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0030/nonempty_dir2/d2/d3|D|3541462
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 1000
Tau
EISDIR

dump-result /test_dir_0031
   /test_dir_0031|D|3541469
   /test_dir_0031/empty_dir1|D|3541470
   /test_dir_0031/empty_dir2|D|3541471
   /test_dir_0031/nonempty_dir1|D|3541472
   /test_dir_0031/nonempty_dir1/f1.txt|F|3541473|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2|D|3541474
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|3541475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir1/d2/d3|D|3541476
   /test_dir_0031/nonempty_dir2|D|3541477
   /test_dir_0031/nonempty_dir2/f1.txt|F|3541479|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|3541483|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2|D|3541484
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0031/nonempty_dir2/d2/d3|D|3541485
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ 1000
Tau
EISDIR

dump-result /test_dir_0032
   /test_dir_0032|D|3689399
   /test_dir_0032/empty_dir1|D|3689400
   /test_dir_0032/empty_dir2|D|3689401
   /test_dir_0032/nonempty_dir1|D|3689402
   /test_dir_0032/nonempty_dir1/f1.txt|F|3689403|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2|D|3689404
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|3689405|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir1/d2/d3|D|3689406
   /test_dir_0032/nonempty_dir2|D|3689407
   /test_dir_0032/nonempty_dir2/f1.txt|F|3689408|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|3689409|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2|D|3689410
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0032/nonempty_dir2/d2/d3|D|3689411
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 1000
Tau
EISDIR

dump-result /test_dir_0033
   /test_dir_0033|D|3803141
   /test_dir_0033/empty_dir1|D|3822036
   /test_dir_0033/empty_dir2|D|3822037
   /test_dir_0033/nonempty_dir1|D|3822038
   /test_dir_0033/nonempty_dir1/f1.txt|F|3822039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2|D|3822040
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|3822041|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir1/d2/d3|D|3822042
   /test_dir_0033/nonempty_dir2|D|3822043
   /test_dir_0033/nonempty_dir2/f1.txt|F|3822044|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|3822045|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2|D|3822046
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0033/nonempty_dir2/d2/d3|D|3822047
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ 1000
Tau
EISDIR

dump-result /test_dir_0034
   /test_dir_0034|D|3822053
   /test_dir_0034/empty_dir1|D|3944384
   /test_dir_0034/empty_dir2|D|3944385
   /test_dir_0034/nonempty_dir1|D|3944386
   /test_dir_0034/nonempty_dir1/f1.txt|F|3944387|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2|D|3944388
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|3944389|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir1/d2/d3|D|3948785
   /test_dir_0034/nonempty_dir2|D|3948786
   /test_dir_0034/nonempty_dir2/f1.txt|F|3948787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|3948788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2|D|4072535
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0034/nonempty_dir2/d2/d3|D|4081510
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt 1000
Tau
RV_none

dump-result /test_dir_0035
   /test_dir_0035|D|4081512
   /test_dir_0035/empty_dir1|D|4081513
   /test_dir_0035/empty_dir2|D|4081514
   /test_dir_0035/nonempty_dir1|D|4081515
   /test_dir_0035/nonempty_dir1/f1.txt|F|4081516|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2|D|4213348
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4213349|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir1/d2/d3|D|4213350
   /test_dir_0035/nonempty_dir2|D|4213351
   /test_dir_0035/nonempty_dir2/f1.txt|F|4213352|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4213353|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2|D|4213354
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0035/nonempty_dir2/d2/d3|D|4213355
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0036
   /test_dir_0036|D|4213360
   /test_dir_0036/empty_dir1|D|4346260
   /test_dir_0036/empty_dir2|D|4346261
   /test_dir_0036/nonempty_dir1|D|4346264
   /test_dir_0036/nonempty_dir1/f1.txt|F|4346265|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2|D|4346266
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4346267|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir1/d2/d3|D|4346268
   /test_dir_0036/nonempty_dir2|D|4346269
   /test_dir_0036/nonempty_dir2/f1.txt|F|4346270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4346271|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2|D|4465065
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0036/nonempty_dir2/d2/d3|D|4465066
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt 1000
Tau
RV_none

dump-result /test_dir_0037
   /test_dir_0037|D|4465068
   /test_dir_0037/empty_dir1|D|4465069
   /test_dir_0037/empty_dir2|D|4465070
   /test_dir_0037/nonempty_dir1|D|4465071
   /test_dir_0037/nonempty_dir1/f1.txt|F|4465072|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2|D|4465073
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4465074|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir1/d2/d3|D|4596337
   /test_dir_0037/nonempty_dir2|D|4596338
   /test_dir_0037/nonempty_dir2/f1.txt|F|4596339|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0037/nonempty_dir2/f2.txt|F|4596340|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2|D|4596341
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0037/nonempty_dir2/d2/d3|D|4596342
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0038
   /test_dir_0038|D|4596344
   /test_dir_0038/empty_dir1|D|4596345
   /test_dir_0038/empty_dir2|D|4596346
   /test_dir_0038/nonempty_dir1|D|4722462
   /test_dir_0038/nonempty_dir1/f1.txt|F|4722463|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2|D|4722464
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4722465|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir1/d2/d3|D|4722466
   /test_dir_0038/nonempty_dir2|D|4722467
   /test_dir_0038/nonempty_dir2/f1.txt|F|4722468|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4722469|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2|D|4722470
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0038/nonempty_dir2/d2/d3|D|4722471
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt 1000
Tau
RV_none

dump-result /test_dir_0039
   /test_dir_0039|D|4722477
   /test_dir_0039/empty_dir1|D|4866620
   /test_dir_0039/empty_dir2|D|4866621
   /test_dir_0039/nonempty_dir1|D|4866622
   /test_dir_0039/nonempty_dir1/f1.txt|F|4866623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2|D|4866624
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4866625|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir1/d2/d3|D|4866626
   /test_dir_0039/nonempty_dir2|D|4866627
   /test_dir_0039/nonempty_dir2/f1.txt|F|4866628|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4866629|1000|399f5ffef7a3ffbb2de9b4a80f09cb13f6d2a697
   /test_dir_0039/nonempty_dir2/d2|D|4866630
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0039/nonempty_dir2/d2/d3|D|4982223
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ 1000
Tau
ENOTDIR

dump-result /test_dir_0040
   /test_dir_0040|D|4982396
   /test_dir_0040/empty_dir1|D|4982423
   /test_dir_0040/empty_dir2|D|4982449
   /test_dir_0040/nonempty_dir1|D|4982457
   /test_dir_0040/nonempty_dir1/f1.txt|F|4982460|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2|D|4982465
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|4982467|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir1/d2/d3|D|4982471
   /test_dir_0040/nonempty_dir2|D|5125899
   /test_dir_0040/nonempty_dir2/f1.txt|F|5125901|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5125903|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2|D|5125905
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0040/nonempty_dir2/d2/d3|D|5125907
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 1000
Tau
ENOENT

dump-result /test_dir_0041
   /test_dir_0041|D|5125911
   /test_dir_0041/empty_dir1|D|5125913
   /test_dir_0041/empty_dir2|D|5125915
   /test_dir_0041/nonempty_dir1|D|5125917
   /test_dir_0041/nonempty_dir1/f1.txt|F|5125919|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2|D|5251095
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5251096|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir1/d2/d3|D|5251097
   /test_dir_0041/nonempty_dir2|D|5251098
   /test_dir_0041/nonempty_dir2/f1.txt|F|5251099|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5251100|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2|D|5251101
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0041/nonempty_dir2/d2/d3|D|5251102
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ 1000
Tau
ENOENT

dump-result /test_dir_0042
   /test_dir_0042|D|5251107
   /test_dir_0042/empty_dir1|D|5251108
   /test_dir_0042/empty_dir2|D|5382331
   /test_dir_0042/nonempty_dir1|D|5382333
   /test_dir_0042/nonempty_dir1/f1.txt|F|5382335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2|D|5382337
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5382339|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir1/d2/d3|D|5382341
   /test_dir_0042/nonempty_dir2|D|5382343
   /test_dir_0042/nonempty_dir2/f1.txt|F|5382345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5382347|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2|D|5382349
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0042/nonempty_dir2/d2/d3|D|5512051
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 1000
Tau
ENOENT

dump-result /test_dir_0043
   /test_dir_0043|D|5512052
   /test_dir_0043/empty_dir1|D|5512053
   /test_dir_0043/empty_dir2|D|5512054
   /test_dir_0043/nonempty_dir1|D|5512055
   /test_dir_0043/nonempty_dir1/f1.txt|F|5512056|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2|D|5512057
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5512058|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir1/d2/d3|D|5643037
   /test_dir_0043/nonempty_dir2|D|5643038
   /test_dir_0043/nonempty_dir2/f1.txt|F|5643039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5643040|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2|D|5643041
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0043/nonempty_dir2/d2/d3|D|5643042
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ 1000
Tau
ENOENT

dump-result /test_dir_0044
   /test_dir_0044|D|5643044
   /test_dir_0044/empty_dir1|D|5643045
   /test_dir_0044/empty_dir2|D|5643046
   /test_dir_0044/nonempty_dir1|D|5776794
   /test_dir_0044/nonempty_dir1/f1.txt|F|5776795|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2|D|5776796
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5776797|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir1/d2/d3|D|5776798
   /test_dir_0044/nonempty_dir2|D|5776799
   /test_dir_0044/nonempty_dir2/f1.txt|F|5776800|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5776801|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2|D|5776802
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0044/nonempty_dir2/d2/d3|D|5776803
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 1000
Tau
ENOENT

dump-result /test_dir_0045
   /test_dir_0045|D|5776809
   /test_dir_0045/empty_dir1|D|5908822
   /test_dir_0045/empty_dir2|D|5908823
   /test_dir_0045/nonempty_dir1|D|5908824
   /test_dir_0045/nonempty_dir1/f1.txt|F|5908825|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2|D|5908826
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5908827|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir1/d2/d3|D|5908828
   /test_dir_0045/nonempty_dir2|D|5908829
   /test_dir_0045/nonempty_dir2/f1.txt|F|5908830|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5908831|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2|D|5908832
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0045/nonempty_dir2/d2/d3|D|137635
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ 1000
Tau
ENOENT

dump-result /test_dir_0046
   /test_dir_0046|D|137636
   /test_dir_0046/empty_dir1|D|137637
   /test_dir_0046/empty_dir2|D|137638
   /test_dir_0046/nonempty_dir1|D|137639
   /test_dir_0046/nonempty_dir1/f1.txt|F|137640|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2|D|137641
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|137642|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir1/d2/d3|D|137643
   /test_dir_0046/nonempty_dir2|D|2233923
   /test_dir_0046/nonempty_dir2/f1.txt|F|2233924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|2233925|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2|D|2233926
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0046/nonempty_dir2/d2/d3|D|2233927
end dump-result


#####################################
# Test 1
#####################################
mkdir /test_dir_0001 0o777
Tau
EEXIST

chdir /test_dir_0001
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1 -100
Tau
EINVAL

dump-result /test_dir_0001
   /test_dir_0001|D|3944383
   /test_dir_0001/empty_dir1|D|4067084
   /test_dir_0001/empty_dir2|D|4067085
   /test_dir_0001/nonempty_dir1|D|4196363
   /test_dir_0001/nonempty_dir1/f1.txt|F|4196364|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0001/nonempty_dir1/d2|D|4213340
   /test_dir_0001/nonempty_dir1/d2/f3.txt|F|4213343|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0001/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0001/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0001/nonempty_dir1/d2/d3|D|4328736
   /test_dir_0001/nonempty_dir2|D|4329729
   /test_dir_0001/nonempty_dir2/f1.txt|F|4330057|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0001/nonempty_dir2/f2.txt|F|4343269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0001/nonempty_dir2/d2|D|4346258
   /test_dir_0001/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0001/nonempty_dir2/d2/d3|D|4465061
end dump-result


#####################################
# Test 2
#####################################
mkdir /test_dir_0002 0o777
Tau
EEXIST

chdir /test_dir_0002
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir1/ -100
Tau
EINVAL

dump-result /test_dir_0002
   /test_dir_0002|D|4465062
   /test_dir_0002/empty_dir1|D|4465063
   /test_dir_0002/empty_dir2|D|4465064
   /test_dir_0002/nonempty_dir1|D|4596325
   /test_dir_0002/nonempty_dir1/f1.txt|F|4596326|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0002/nonempty_dir1/d2|D|4596327
   /test_dir_0002/nonempty_dir1/d2/f3.txt|F|4596328|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0002/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0002/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0002/nonempty_dir1/d2/d3|D|4596329
   /test_dir_0002/nonempty_dir2|D|4596330
   /test_dir_0002/nonempty_dir2/f1.txt|F|4596331|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0002/nonempty_dir2/f2.txt|F|4596332|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0002/nonempty_dir2/d2|D|4721938
   /test_dir_0002/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0002/nonempty_dir2/d2/d3|D|4721939
end dump-result


#####################################
# Test 3
#####################################
mkdir /test_dir_0003 0o777
Tau
EEXIST

chdir /test_dir_0003
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2 -100
Tau
EINVAL

dump-result /test_dir_0003
   /test_dir_0003|D|4722460
   /test_dir_0003/empty_dir1|D|4722461
   /test_dir_0003/empty_dir2|D|4857135
   /test_dir_0003/nonempty_dir1|D|4857136
   /test_dir_0003/nonempty_dir1/f1.txt|F|4857138|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0003/nonempty_dir1/d2|D|4857139
   /test_dir_0003/nonempty_dir1/d2/f3.txt|F|4866614|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0003/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0003/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0003/nonempty_dir1/d2/d3|D|4866615
   /test_dir_0003/nonempty_dir2|D|4982147
   /test_dir_0003/nonempty_dir2/f1.txt|F|4982173|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0003/nonempty_dir2/f2.txt|F|4982201|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0003/nonempty_dir2/d2|D|4982210
   /test_dir_0003/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0003/nonempty_dir2/d2/d3|D|4982213
end dump-result


#####################################
# Test 4
#####################################
mkdir /test_dir_0004 0o777
Tau
EEXIST

chdir /test_dir_0004
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate empty_dir2/ -100
Tau
EINVAL

dump-result /test_dir_0004
   /test_dir_0004|D|4982220
   /test_dir_0004/empty_dir1|D|5125879
   /test_dir_0004/empty_dir2|D|5125881
   /test_dir_0004/nonempty_dir1|D|5125883
   /test_dir_0004/nonempty_dir1/f1.txt|F|5125885|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0004/nonempty_dir1/d2|D|5125887
   /test_dir_0004/nonempty_dir1/d2/f3.txt|F|5125889|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0004/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0004/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0004/nonempty_dir1/d2/d3|D|5251088
   /test_dir_0004/nonempty_dir2|D|5251089
   /test_dir_0004/nonempty_dir2/f1.txt|F|5251090|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0004/nonempty_dir2/f2.txt|F|5251091|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0004/nonempty_dir2/d2|D|5251092
   /test_dir_0004/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0004/nonempty_dir2/d2/d3|D|5251093
end dump-result


#####################################
# Test 5
#####################################
mkdir /test_dir_0005 0o777
Tau
EEXIST

chdir /test_dir_0005
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1 -100
Tau
EINVAL

dump-result /test_dir_0005
   /test_dir_0005|D|5382309
   /test_dir_0005/empty_dir1|D|5382311
   /test_dir_0005/empty_dir2|D|5382313
   /test_dir_0005/nonempty_dir1|D|5382315
   /test_dir_0005/nonempty_dir1/f1.txt|F|5382317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0005/nonempty_dir1/d2|D|5382319
   /test_dir_0005/nonempty_dir1/d2/f3.txt|F|5382321|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0005/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0005/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0005/nonempty_dir1/d2/d3|D|5512043
   /test_dir_0005/nonempty_dir2|D|5512044
   /test_dir_0005/nonempty_dir2/f1.txt|F|5512045|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0005/nonempty_dir2/f2.txt|F|5512046|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0005/nonempty_dir2/d2|D|5512047
   /test_dir_0005/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0005/nonempty_dir2/d2/d3|D|5512048
end dump-result


#####################################
# Test 6
#####################################
mkdir /test_dir_0006 0o777
Tau
EEXIST

chdir /test_dir_0006
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/ -100
Tau
EINVAL

dump-result /test_dir_0006
   /test_dir_0006|D|5512050
   /test_dir_0006/empty_dir1|D|5643026
   /test_dir_0006/empty_dir2|D|5643027
   /test_dir_0006/nonempty_dir1|D|5643028
   /test_dir_0006/nonempty_dir1/f1.txt|F|5643029|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0006/nonempty_dir1/d2|D|5643030
   /test_dir_0006/nonempty_dir1/d2/f3.txt|F|5643031|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0006/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0006/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0006/nonempty_dir1/d2/d3|D|5643032
   /test_dir_0006/nonempty_dir2|D|5776786
   /test_dir_0006/nonempty_dir2/f1.txt|F|5776787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0006/nonempty_dir2/f2.txt|F|5776788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0006/nonempty_dir2/d2|D|5776789
   /test_dir_0006/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0006/nonempty_dir2/d2/d3|D|5776790
end dump-result


#####################################
# Test 7
#####################################
mkdir /test_dir_0007 0o777
Tau
EEXIST

chdir /test_dir_0007
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2 -100
Tau
EINVAL

dump-result /test_dir_0007
   /test_dir_0007|D|5776792
   /test_dir_0007/empty_dir1|D|5776793
   /test_dir_0007/empty_dir2|D|5908809
   /test_dir_0007/nonempty_dir1|D|5908810
   /test_dir_0007/nonempty_dir1/f1.txt|F|5908811|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0007/nonempty_dir1/d2|D|5908812
   /test_dir_0007/nonempty_dir1/d2/f3.txt|F|5908813|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0007/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0007/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0007/nonempty_dir1/d2/d3|D|5908814
   /test_dir_0007/nonempty_dir2|D|5908815
   /test_dir_0007/nonempty_dir2/f1.txt|F|5908816|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0007/nonempty_dir2/f2.txt|F|5908817|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0007/nonempty_dir2/d2|D|137629
   /test_dir_0007/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0007/nonempty_dir2/d2/d3|D|137630
end dump-result


#####################################
# Test 8
#####################################
mkdir /test_dir_0008 0o777
Tau
EEXIST

chdir /test_dir_0008
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/ -100
Tau
EINVAL

dump-result /test_dir_0008
   /test_dir_0008|D|137632
   /test_dir_0008/empty_dir1|D|137633
   /test_dir_0008/empty_dir2|D|137634
   /test_dir_0008/nonempty_dir1|D|2233915
   /test_dir_0008/nonempty_dir1/f1.txt|F|2233916|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0008/nonempty_dir1/d2|D|2233917
   /test_dir_0008/nonempty_dir1/d2/f3.txt|F|2233918|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0008/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0008/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0008/nonempty_dir1/d2/d3|D|2366432
   /test_dir_0008/nonempty_dir2|D|2366433
   /test_dir_0008/nonempty_dir2/f1.txt|F|2366434|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0008/nonempty_dir2/f2.txt|F|2366435|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0008/nonempty_dir2/d2|D|2499292
   /test_dir_0008/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0008/nonempty_dir2/d2/d3|D|2499293
end dump-result


#####################################
# Test 9
#####################################
mkdir /test_dir_0009 0o777
Tau
EEXIST

chdir /test_dir_0009
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6 -100
Tau
EINVAL

dump-result /test_dir_0009
   /test_dir_0009|D|2752587
   /test_dir_0009/empty_dir1|D|2754474
   /test_dir_0009/empty_dir2|D|3022371
   /test_dir_0009/nonempty_dir1|D|3151795
   /test_dir_0009/nonempty_dir1/f1.txt|F|3155510|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0009/nonempty_dir1/d2|D|3156093
   /test_dir_0009/nonempty_dir1/d2/f3.txt|F|3156094|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0009/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0009/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0009/nonempty_dir1/d2/d3|D|3156095
   /test_dir_0009/nonempty_dir2|D|3156096
   /test_dir_0009/nonempty_dir2/f1.txt|F|3156097|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0009/nonempty_dir2/f2.txt|F|3156098|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0009/nonempty_dir2/d2|D|3156099
   /test_dir_0009/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0009/nonempty_dir2/d2/d3|D|3156100
end dump-result


#####################################
# Test 10
#####################################
mkdir /test_dir_0010 0o777
Tau
EEXIST

chdir /test_dir_0010
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/broken_sl/nonexist_6/ -100
Tau
EINVAL

dump-result /test_dir_0010
   /test_dir_0010|D|3156106
   /test_dir_0010/empty_dir1|D|3277233
   /test_dir_0010/empty_dir2|D|3277234
   /test_dir_0010/nonempty_dir1|D|3277278
   /test_dir_0010/nonempty_dir1/f1.txt|F|3277279|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0010/nonempty_dir1/d2|D|3284594
   /test_dir_0010/nonempty_dir1/d2/f3.txt|F|3284596|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0010/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0010/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0010/nonempty_dir1/d2/d3|D|3284597
   /test_dir_0010/nonempty_dir2|D|3284598
   /test_dir_0010/nonempty_dir2/f1.txt|F|3284599|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0010/nonempty_dir2/f2.txt|F|3284600|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0010/nonempty_dir2/d2|D|3284601
   /test_dir_0010/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0010/nonempty_dir2/d2/d3|D|3284602
end dump-result


#####################################
# Test 11
#####################################
mkdir /test_dir_0011 0o777
Tau
EEXIST

chdir /test_dir_0011
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3 -100
Tau
EINVAL

dump-result /test_dir_0011
   /test_dir_0011|D|3284608
   /test_dir_0011/empty_dir1|D|3284609
   /test_dir_0011/empty_dir2|D|3284610
   /test_dir_0011/nonempty_dir1|D|3284611
   /test_dir_0011/nonempty_dir1/f1.txt|F|3284614|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0011/nonempty_dir1/d2|D|3284615
   /test_dir_0011/nonempty_dir1/d2/f3.txt|F|3284616|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0011/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0011/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0011/nonempty_dir1/d2/d3|D|3284617
   /test_dir_0011/nonempty_dir2|D|3284618
   /test_dir_0011/nonempty_dir2/f1.txt|F|3284623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0011/nonempty_dir2/f2.txt|F|3284627|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0011/nonempty_dir2/d2|D|3284628
   /test_dir_0011/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0011/nonempty_dir2/d2/d3|D|3284629
end dump-result


#####################################
# Test 12
#####################################
mkdir /test_dir_0012 0o777
Tau
EEXIST

chdir /test_dir_0012
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/d3/ -100
Tau
EINVAL

dump-result /test_dir_0012
   /test_dir_0012|D|3286112
   /test_dir_0012/empty_dir1|D|3286113
   /test_dir_0012/empty_dir2|D|3286114
   /test_dir_0012/nonempty_dir1|D|3286115
   /test_dir_0012/nonempty_dir1/f1.txt|F|3286116|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0012/nonempty_dir1/d2|D|3286117
   /test_dir_0012/nonempty_dir1/d2/f3.txt|F|3286118|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0012/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0012/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0012/nonempty_dir1/d2/d3|D|3286119
   /test_dir_0012/nonempty_dir2|D|3286120
   /test_dir_0012/nonempty_dir2/f1.txt|F|3286121|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0012/nonempty_dir2/f2.txt|F|3286122|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0012/nonempty_dir2/d2|D|3286123
   /test_dir_0012/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0012/nonempty_dir2/d2/d3|D|3286124
end dump-result


#####################################
# Test 13
#####################################
mkdir /test_dir_0013 0o777
Tau
EEXIST

chdir /test_dir_0013
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt -100
Tau
EINVAL

dump-result /test_dir_0013
   /test_dir_0013|D|3416157
   /test_dir_0013/empty_dir1|D|3416158
   /test_dir_0013/empty_dir2|D|3416159
   /test_dir_0013/nonempty_dir1|D|3416185
   /test_dir_0013/nonempty_dir1/f1.txt|F|3416186|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0013/nonempty_dir1/d2|D|3416187
   /test_dir_0013/nonempty_dir1/d2/f3.txt|F|3416188|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0013/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0013/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0013/nonempty_dir1/d2/d3|D|3416189
   /test_dir_0013/nonempty_dir2|D|3416190
   /test_dir_0013/nonempty_dir2/f1.txt|F|3416191|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0013/nonempty_dir2/f2.txt|F|3416192|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0013/nonempty_dir2/d2|D|3416193
   /test_dir_0013/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0013/nonempty_dir2/d2/d3|D|3416194
end dump-result


#####################################
# Test 14
#####################################
mkdir /test_dir_0014 0o777
Tau
EEXIST

chdir /test_dir_0014
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/f3.txt/ -100
Tau
EINVAL

dump-result /test_dir_0014
   /test_dir_0014|D|3416200
   /test_dir_0014/empty_dir1|D|3416201
   /test_dir_0014/empty_dir2|D|3416202
   /test_dir_0014/nonempty_dir1|D|3416203
   /test_dir_0014/nonempty_dir1/f1.txt|F|3416204|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0014/nonempty_dir1/d2|D|3416205
   /test_dir_0014/nonempty_dir1/d2/f3.txt|F|3416206|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0014/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0014/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0014/nonempty_dir1/d2/d3|D|3416207
   /test_dir_0014/nonempty_dir2|D|3416208
   /test_dir_0014/nonempty_dir2/f1.txt|F|3416209|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0014/nonempty_dir2/f2.txt|F|3416210|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0014/nonempty_dir2/d2|D|3416211
   /test_dir_0014/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0014/nonempty_dir2/d2/d3|D|3416212
end dump-result


#####################################
# Test 15
#####################################
mkdir /test_dir_0015 0o777
Tau
EEXIST

chdir /test_dir_0015
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2 -100
Tau
EINVAL

dump-result /test_dir_0015
   /test_dir_0015|D|3416218
   /test_dir_0015/empty_dir1|D|3416219
   /test_dir_0015/empty_dir2|D|3416220
   /test_dir_0015/nonempty_dir1|D|3416221
   /test_dir_0015/nonempty_dir1/f1.txt|F|3416222|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0015/nonempty_dir1/d2|D|3416223
   /test_dir_0015/nonempty_dir1/d2/f3.txt|F|3416224|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0015/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0015/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0015/nonempty_dir1/d2/d3|D|3416225
   /test_dir_0015/nonempty_dir2|D|3416226
   /test_dir_0015/nonempty_dir2/f1.txt|F|3416227|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0015/nonempty_dir2/f2.txt|F|3416228|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0015/nonempty_dir2/d2|D|3416229
   /test_dir_0015/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0015/nonempty_dir2/d2/d3|D|3416230
end dump-result


#####################################
# Test 16
#####################################
mkdir /test_dir_0016 0o777
Tau
EEXIST

chdir /test_dir_0016
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_d2/ -100
Tau
EINVAL

dump-result /test_dir_0016
   /test_dir_0016|D|3416236
   /test_dir_0016/empty_dir1|D|3416237
   /test_dir_0016/empty_dir2|D|3416238
   /test_dir_0016/nonempty_dir1|D|3416239
   /test_dir_0016/nonempty_dir1/f1.txt|F|3416240|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0016/nonempty_dir1/d2|D|3416241
   /test_dir_0016/nonempty_dir1/d2/f3.txt|F|3416242|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0016/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0016/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0016/nonempty_dir1/d2/d3|D|3416243
   /test_dir_0016/nonempty_dir2|D|3416244
   /test_dir_0016/nonempty_dir2/f1.txt|F|3416245|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0016/nonempty_dir2/f2.txt|F|3416246|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0016/nonempty_dir2/d2|D|3416247
   /test_dir_0016/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0016/nonempty_dir2/d2/d3|D|3416248
end dump-result


#####################################
# Test 17
#####################################
mkdir /test_dir_0017 0o777
Tau
EEXIST

chdir /test_dir_0017
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt -100
Tau
EINVAL

dump-result /test_dir_0017
   /test_dir_0017|D|3416254
   /test_dir_0017/empty_dir1|D|3416255
   /test_dir_0017/empty_dir2|D|3416256
   /test_dir_0017/nonempty_dir1|D|3416257
   /test_dir_0017/nonempty_dir1/f1.txt|F|3416258|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0017/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0017/nonempty_dir1/d2|D|3416259
   /test_dir_0017/nonempty_dir1/d2/f3.txt|F|3416260|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0017/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0017/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0017/nonempty_dir1/d2/d3|D|3416261
   /test_dir_0017/nonempty_dir2|D|3416262
   /test_dir_0017/nonempty_dir2/f1.txt|F|3416263|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0017/nonempty_dir2/f2.txt|F|3416264|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0017/nonempty_dir2/d2|D|3416265
   /test_dir_0017/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0017/nonempty_dir2/d2/d3|D|3416266
end dump-result


#####################################
# Test 18
#####################################
mkdir /test_dir_0018 0o777
Tau
EEXIST

chdir /test_dir_0018
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_dotdot_f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0018
   /test_dir_0018|D|3416272
   /test_dir_0018/empty_dir1|D|3416273
   /test_dir_0018/empty_dir2|D|3416274
   /test_dir_0018/nonempty_dir1|D|3416275
   /test_dir_0018/nonempty_dir1/f1.txt|F|3416276|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0018/nonempty_dir1/d2|D|3416277
   /test_dir_0018/nonempty_dir1/d2/f3.txt|F|3416278|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0018/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0018/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0018/nonempty_dir1/d2/d3|D|3416279
   /test_dir_0018/nonempty_dir2|D|3416280
   /test_dir_0018/nonempty_dir2/f1.txt|F|3416281|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0018/nonempty_dir2/f2.txt|F|3416282|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0018/nonempty_dir2/d2|D|3416283
   /test_dir_0018/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0018/nonempty_dir2/d2/d3|D|3416284
end dump-result


#####################################
# Test 19
#####################################
mkdir /test_dir_0019 0o777
Tau
EEXIST

chdir /test_dir_0019
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target -100
Tau
EINVAL

dump-result /test_dir_0019
   /test_dir_0019|D|3416290
   /test_dir_0019/empty_dir1|D|3416291
   /test_dir_0019/empty_dir2|D|3416292
   /test_dir_0019/nonempty_dir1|D|3416293
   /test_dir_0019/nonempty_dir1/f1.txt|F|3416294|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0019/nonempty_dir1/d2|D|3416295
   /test_dir_0019/nonempty_dir1/d2/f3.txt|F|3416296|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0019/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0019/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0019/nonempty_dir1/d2/d3|D|3416297
   /test_dir_0019/nonempty_dir2|D|3416298
   /test_dir_0019/nonempty_dir2/f1.txt|F|3416299|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0019/nonempty_dir2/f2.txt|F|3416300|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0019/nonempty_dir2/d2|D|3416301
   /test_dir_0019/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0019/nonempty_dir2/d2/d3|D|3416302
end dump-result


#####################################
# Test 20
#####################################
mkdir /test_dir_0020 0o777
Tau
EEXIST

chdir /test_dir_0020
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/d2/sl_no_such_target/ -100
Tau
EINVAL

dump-result /test_dir_0020
   /test_dir_0020|D|3416308
   /test_dir_0020/empty_dir1|D|3416309
   /test_dir_0020/empty_dir2|D|3416310
   /test_dir_0020/nonempty_dir1|D|3416311
   /test_dir_0020/nonempty_dir1/f1.txt|F|3416312|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0020/nonempty_dir1/d2|D|3416313
   /test_dir_0020/nonempty_dir1/d2/f3.txt|F|3416314|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0020/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0020/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0020/nonempty_dir1/d2/d3|D|3416315
   /test_dir_0020/nonempty_dir2|D|3416316
   /test_dir_0020/nonempty_dir2/f1.txt|F|3416317|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0020/nonempty_dir2/f2.txt|F|3416318|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0020/nonempty_dir2/d2|D|3416319
   /test_dir_0020/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0020/nonempty_dir2/d2/d3|D|3416320
end dump-result


#####################################
# Test 21
#####################################
mkdir /test_dir_0021 0o777
Tau
EEXIST

chdir /test_dir_0021
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt -100
Tau
EINVAL

dump-result /test_dir_0021
   /test_dir_0021|D|3416326
   /test_dir_0021/empty_dir1|D|3416327
   /test_dir_0021/empty_dir2|D|3416328
   /test_dir_0021/nonempty_dir1|D|3416329
   /test_dir_0021/nonempty_dir1/f1.txt|F|3416330|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0021/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0021/nonempty_dir1/d2|D|3416331
   /test_dir_0021/nonempty_dir1/d2/f3.txt|F|3416332|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0021/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0021/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0021/nonempty_dir1/d2/d3|D|3416333
   /test_dir_0021/nonempty_dir2|D|3416334
   /test_dir_0021/nonempty_dir2/f1.txt|F|3416335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0021/nonempty_dir2/f2.txt|F|3416336|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0021/nonempty_dir2/d2|D|3416337
   /test_dir_0021/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0021/nonempty_dir2/d2/d3|D|3416338
end dump-result


#####################################
# Test 22
#####################################
mkdir /test_dir_0022 0o777
Tau
EEXIST

chdir /test_dir_0022
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0022
   /test_dir_0022|D|3416344
   /test_dir_0022/empty_dir1|D|3416345
   /test_dir_0022/empty_dir2|D|3416346
   /test_dir_0022/nonempty_dir1|D|3416347
   /test_dir_0022/nonempty_dir1/f1.txt|F|3416348|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0022/nonempty_dir1/d2|D|3416349
   /test_dir_0022/nonempty_dir1/d2/f3.txt|F|3416350|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0022/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0022/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0022/nonempty_dir1/d2/d3|D|3416351
   /test_dir_0022/nonempty_dir2|D|3416352
   /test_dir_0022/nonempty_dir2/f1.txt|F|3416353|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0022/nonempty_dir2/f2.txt|F|3416354|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0022/nonempty_dir2/d2|D|3416355
   /test_dir_0022/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0022/nonempty_dir2/d2/d3|D|3416356
end dump-result


#####################################
# Test 23
#####################################
mkdir /test_dir_0023 0o777
Tau
EEXIST

chdir /test_dir_0023
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5 -100
Tau
EINVAL

dump-result /test_dir_0023
   /test_dir_0023|D|3416362
   /test_dir_0023/empty_dir1|D|3416363
   /test_dir_0023/empty_dir2|D|3416364
   /test_dir_0023/nonempty_dir1|D|3416365
   /test_dir_0023/nonempty_dir1/f1.txt|F|3416366|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0023/nonempty_dir1/d2|D|3416367
   /test_dir_0023/nonempty_dir1/d2/f3.txt|F|3416368|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0023/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0023/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0023/nonempty_dir1/d2/d3|D|3416369
   /test_dir_0023/nonempty_dir2|D|3416370
   /test_dir_0023/nonempty_dir2/f1.txt|F|3416371|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0023/nonempty_dir2/f2.txt|F|3416372|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0023/nonempty_dir2/d2|D|3416373
   /test_dir_0023/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0023/nonempty_dir2/d2/d3|D|3416374
end dump-result


#####################################
# Test 24
#####################################
mkdir /test_dir_0024 0o777
Tau
EEXIST

chdir /test_dir_0024
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/f1.txt/nonexist_5/ -100
Tau
EINVAL

dump-result /test_dir_0024
   /test_dir_0024|D|3416380
   /test_dir_0024/empty_dir1|D|3416381
   /test_dir_0024/empty_dir2|D|3416382
   /test_dir_0024/nonempty_dir1|D|3416383
   /test_dir_0024/nonempty_dir1/f1.txt|F|3416384|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0024/nonempty_dir1/d2|D|3416385
   /test_dir_0024/nonempty_dir1/d2/f3.txt|F|3416386|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0024/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0024/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0024/nonempty_dir1/d2/d3|D|3416387
   /test_dir_0024/nonempty_dir2|D|3416388
   /test_dir_0024/nonempty_dir2/f1.txt|F|3416389|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0024/nonempty_dir2/f2.txt|F|3416390|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0024/nonempty_dir2/d2|D|3416391
   /test_dir_0024/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0024/nonempty_dir2/d2/d3|D|3416392
end dump-result


#####################################
# Test 25
#####################################
mkdir /test_dir_0025 0o777
Tau
EEXIST

chdir /test_dir_0025
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4 -100
Tau
EINVAL

dump-result /test_dir_0025
   /test_dir_0025|D|3416398
   /test_dir_0025/empty_dir1|D|3416399
   /test_dir_0025/empty_dir2|D|3416400
   /test_dir_0025/nonempty_dir1|D|3416401
   /test_dir_0025/nonempty_dir1/f1.txt|F|3416402|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0025/nonempty_dir1/d2|D|3416403
   /test_dir_0025/nonempty_dir1/d2/f3.txt|F|3416404|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0025/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0025/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0025/nonempty_dir1/d2/d3|D|3416405
   /test_dir_0025/nonempty_dir2|D|3416406
   /test_dir_0025/nonempty_dir2/f1.txt|F|3416407|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0025/nonempty_dir2/f2.txt|F|3416408|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0025/nonempty_dir2/d2|D|3416409
   /test_dir_0025/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0025/nonempty_dir2/d2/d3|D|3416410
end dump-result


#####################################
# Test 26
#####################################
mkdir /test_dir_0026 0o777
Tau
EEXIST

chdir /test_dir_0026
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/nonexist_4/ -100
Tau
EINVAL

dump-result /test_dir_0026
   /test_dir_0026|D|3541257
   /test_dir_0026/empty_dir1|D|3541258
   /test_dir_0026/empty_dir2|D|3541259
   /test_dir_0026/nonempty_dir1|D|3541260
   /test_dir_0026/nonempty_dir1/f1.txt|F|3541261|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0026/nonempty_dir1/d2|D|3541262
   /test_dir_0026/nonempty_dir1/d2/f3.txt|F|3541263|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0026/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0026/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0026/nonempty_dir1/d2/d3|D|3541264
   /test_dir_0026/nonempty_dir2|D|3541265
   /test_dir_0026/nonempty_dir2/f1.txt|F|3541268|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0026/nonempty_dir2/f2.txt|F|3541269|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0026/nonempty_dir2/d2|D|3541270
   /test_dir_0026/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0026/nonempty_dir2/d2/d3|D|3541271
end dump-result


#####################################
# Test 27
#####################################
mkdir /test_dir_0027 0o777
Tau
EEXIST

chdir /test_dir_0027
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt -100
Tau
EINVAL

dump-result /test_dir_0027
   /test_dir_0027|D|3541277
   /test_dir_0027/empty_dir1|D|3541279
   /test_dir_0027/empty_dir2|D|3541280
   /test_dir_0027/nonempty_dir1|D|3541281
   /test_dir_0027/nonempty_dir1/f1.txt|F|3541282|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0027/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0027/nonempty_dir1/d2|D|3541283
   /test_dir_0027/nonempty_dir1/d2/f3.txt|F|3541284|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0027/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0027/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0027/nonempty_dir1/d2/d3|D|3541285
   /test_dir_0027/nonempty_dir2|D|3541286
   /test_dir_0027/nonempty_dir2/f1.txt|F|3541287|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0027/nonempty_dir2/f2.txt|F|3541288|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0027/nonempty_dir2/d2|D|3541290
   /test_dir_0027/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0027/nonempty_dir2/d2/d3|D|3541291
end dump-result


#####################################
# Test 28
#####################################
mkdir /test_dir_0028 0o777
Tau
EEXIST

chdir /test_dir_0028
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir1/sl_f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0028
   /test_dir_0028|D|3541298
   /test_dir_0028/empty_dir1|D|3541299
   /test_dir_0028/empty_dir2|D|3541300
   /test_dir_0028/nonempty_dir1|D|3541301
   /test_dir_0028/nonempty_dir1/f1.txt|F|3541302|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0028/nonempty_dir1/d2|D|3541305
   /test_dir_0028/nonempty_dir1/d2/f3.txt|F|3541306|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0028/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0028/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0028/nonempty_dir1/d2/d3|D|3541307
   /test_dir_0028/nonempty_dir2|D|3541308
   /test_dir_0028/nonempty_dir2/f1.txt|F|3541309|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0028/nonempty_dir2/f2.txt|F|3541310|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0028/nonempty_dir2/d2|D|3541311
   /test_dir_0028/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0028/nonempty_dir2/d2/d3|D|3541312
end dump-result


#####################################
# Test 29
#####################################
mkdir /test_dir_0029 0o777
Tau
EEXIST

chdir /test_dir_0029
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2 -100
Tau
EINVAL

dump-result /test_dir_0029
   /test_dir_0029|D|3541319
   /test_dir_0029/empty_dir1|D|3541361
   /test_dir_0029/empty_dir2|D|3541362
   /test_dir_0029/nonempty_dir1|D|3541364
   /test_dir_0029/nonempty_dir1/f1.txt|F|3541365|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0029/nonempty_dir1/d2|D|3541366
   /test_dir_0029/nonempty_dir1/d2/f3.txt|F|3541425|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0029/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0029/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0029/nonempty_dir1/d2/d3|D|3541427
   /test_dir_0029/nonempty_dir2|D|3541430
   /test_dir_0029/nonempty_dir2/f1.txt|F|3541432|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0029/nonempty_dir2/f2.txt|F|3541434|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0029/nonempty_dir2/d2|D|3541435
   /test_dir_0029/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0029/nonempty_dir2/d2/d3|D|3541436
end dump-result


#####################################
# Test 30
#####################################
mkdir /test_dir_0030 0o777
Tau
EEXIST

chdir /test_dir_0030
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/ -100
Tau
EINVAL

dump-result /test_dir_0030
   /test_dir_0030|D|3541442
   /test_dir_0030/empty_dir1|D|3541443
   /test_dir_0030/empty_dir2|D|3541444
   /test_dir_0030/nonempty_dir1|D|3541445
   /test_dir_0030/nonempty_dir1/f1.txt|F|3541446|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0030/nonempty_dir1/d2|D|3541447
   /test_dir_0030/nonempty_dir1/d2/f3.txt|F|3541455|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0030/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0030/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0030/nonempty_dir1/d2/d3|D|3541457
   /test_dir_0030/nonempty_dir2|D|3541458
   /test_dir_0030/nonempty_dir2/f1.txt|F|3541459|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0030/nonempty_dir2/f2.txt|F|3541460|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0030/nonempty_dir2/d2|D|3541461
   /test_dir_0030/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0030/nonempty_dir2/d2/d3|D|3541462
end dump-result


#####################################
# Test 31
#####################################
mkdir /test_dir_0031 0o777
Tau
EEXIST

chdir /test_dir_0031
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2 -100
Tau
EINVAL

dump-result /test_dir_0031
   /test_dir_0031|D|3541469
   /test_dir_0031/empty_dir1|D|3541470
   /test_dir_0031/empty_dir2|D|3541471
   /test_dir_0031/nonempty_dir1|D|3541472
   /test_dir_0031/nonempty_dir1/f1.txt|F|3541473|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0031/nonempty_dir1/d2|D|3541474
   /test_dir_0031/nonempty_dir1/d2/f3.txt|F|3541475|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0031/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0031/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0031/nonempty_dir1/d2/d3|D|3541476
   /test_dir_0031/nonempty_dir2|D|3541477
   /test_dir_0031/nonempty_dir2/f1.txt|F|3541479|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0031/nonempty_dir2/f2.txt|F|3541483|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0031/nonempty_dir2/d2|D|3541484
   /test_dir_0031/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0031/nonempty_dir2/d2/d3|D|3541485
end dump-result


#####################################
# Test 32
#####################################
mkdir /test_dir_0032 0o777
Tau
EEXIST

chdir /test_dir_0032
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/ -100
Tau
EINVAL

dump-result /test_dir_0032
   /test_dir_0032|D|3689399
   /test_dir_0032/empty_dir1|D|3689400
   /test_dir_0032/empty_dir2|D|3689401
   /test_dir_0032/nonempty_dir1|D|3689402
   /test_dir_0032/nonempty_dir1/f1.txt|F|3689403|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0032/nonempty_dir1/d2|D|3689404
   /test_dir_0032/nonempty_dir1/d2/f3.txt|F|3689405|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0032/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0032/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0032/nonempty_dir1/d2/d3|D|3689406
   /test_dir_0032/nonempty_dir2|D|3689407
   /test_dir_0032/nonempty_dir2/f1.txt|F|3689408|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0032/nonempty_dir2/f2.txt|F|3689409|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0032/nonempty_dir2/d2|D|3689410
   /test_dir_0032/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0032/nonempty_dir2/d2/d3|D|3689411
end dump-result


#####################################
# Test 33
#####################################
mkdir /test_dir_0033 0o777
Tau
EEXIST

chdir /test_dir_0033
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3 -100
Tau
EINVAL

dump-result /test_dir_0033
   /test_dir_0033|D|3803141
   /test_dir_0033/empty_dir1|D|3822036
   /test_dir_0033/empty_dir2|D|3822037
   /test_dir_0033/nonempty_dir1|D|3822038
   /test_dir_0033/nonempty_dir1/f1.txt|F|3822039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0033/nonempty_dir1/d2|D|3822040
   /test_dir_0033/nonempty_dir1/d2/f3.txt|F|3822041|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0033/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0033/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0033/nonempty_dir1/d2/d3|D|3822042
   /test_dir_0033/nonempty_dir2|D|3822043
   /test_dir_0033/nonempty_dir2/f1.txt|F|3822044|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0033/nonempty_dir2/f2.txt|F|3822045|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0033/nonempty_dir2/d2|D|3822046
   /test_dir_0033/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0033/nonempty_dir2/d2/d3|D|3822047
end dump-result


#####################################
# Test 34
#####################################
mkdir /test_dir_0034 0o777
Tau
EEXIST

chdir /test_dir_0034
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/d3/ -100
Tau
EINVAL

dump-result /test_dir_0034
   /test_dir_0034|D|3822053
   /test_dir_0034/empty_dir1|D|3944384
   /test_dir_0034/empty_dir2|D|3944385
   /test_dir_0034/nonempty_dir1|D|3944386
   /test_dir_0034/nonempty_dir1/f1.txt|F|3944387|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0034/nonempty_dir1/d2|D|3944388
   /test_dir_0034/nonempty_dir1/d2/f3.txt|F|3944389|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0034/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0034/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0034/nonempty_dir1/d2/d3|D|3948785
   /test_dir_0034/nonempty_dir2|D|3948786
   /test_dir_0034/nonempty_dir2/f1.txt|F|3948787|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0034/nonempty_dir2/f2.txt|F|3948788|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0034/nonempty_dir2/d2|D|4072535
   /test_dir_0034/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0034/nonempty_dir2/d2/d3|D|4081510
end dump-result


#####################################
# Test 35
#####################################
mkdir /test_dir_0035 0o777
Tau
EEXIST

chdir /test_dir_0035
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt -100
Tau
EINVAL

dump-result /test_dir_0035
   /test_dir_0035|D|4081512
   /test_dir_0035/empty_dir1|D|4081513
   /test_dir_0035/empty_dir2|D|4081514
   /test_dir_0035/nonempty_dir1|D|4081515
   /test_dir_0035/nonempty_dir1/f1.txt|F|4081516|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0035/nonempty_dir1/d2|D|4213348
   /test_dir_0035/nonempty_dir1/d2/f3.txt|F|4213349|1000|f7421938baaac6a3fd7e5e340397873bba5c4382
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0035/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0035/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0035/nonempty_dir1/d2/d3|D|4213350
   /test_dir_0035/nonempty_dir2|D|4213351
   /test_dir_0035/nonempty_dir2/f1.txt|F|4213352|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0035/nonempty_dir2/f2.txt|F|4213353|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0035/nonempty_dir2/d2|D|4213354
   /test_dir_0035/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0035/nonempty_dir2/d2/d3|D|4213355
end dump-result


#####################################
# Test 36
#####################################
mkdir /test_dir_0036 0o777
Tau
EEXIST

chdir /test_dir_0036
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/d2/sl_f3.txt/ -100
Tau
EINVAL

dump-result /test_dir_0036
   /test_dir_0036|D|4213360
   /test_dir_0036/empty_dir1|D|4346260
   /test_dir_0036/empty_dir2|D|4346261
   /test_dir_0036/nonempty_dir1|D|4346264
   /test_dir_0036/nonempty_dir1/f1.txt|F|4346265|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0036/nonempty_dir1/d2|D|4346266
   /test_dir_0036/nonempty_dir1/d2/f3.txt|F|4346267|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0036/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0036/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0036/nonempty_dir1/d2/d3|D|4346268
   /test_dir_0036/nonempty_dir2|D|4346269
   /test_dir_0036/nonempty_dir2/f1.txt|F|4346270|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0036/nonempty_dir2/f2.txt|F|4346271|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0036/nonempty_dir2/d2|D|4465065
   /test_dir_0036/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0036/nonempty_dir2/d2/d3|D|4465066
end dump-result


#####################################
# Test 37
#####################################
mkdir /test_dir_0037 0o777
Tau
EEXIST

chdir /test_dir_0037
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt -100
Tau
EINVAL

dump-result /test_dir_0037
   /test_dir_0037|D|4465068
   /test_dir_0037/empty_dir1|D|4465069
   /test_dir_0037/empty_dir2|D|4465070
   /test_dir_0037/nonempty_dir1|D|4465071
   /test_dir_0037/nonempty_dir1/f1.txt|F|4465072|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0037/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0037/nonempty_dir1/d2|D|4465073
   /test_dir_0037/nonempty_dir1/d2/f3.txt|F|4465074|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0037/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0037/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0037/nonempty_dir1/d2/d3|D|4596337
   /test_dir_0037/nonempty_dir2|D|4596338
   /test_dir_0037/nonempty_dir2/f1.txt|F|4596339|1000|c577f7a37657053275f3e3ecc06ec22e6b909366
   /test_dir_0037/nonempty_dir2/f2.txt|F|4596340|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0037/nonempty_dir2/d2|D|4596341
   /test_dir_0037/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0037/nonempty_dir2/d2/d3|D|4596342
end dump-result


#####################################
# Test 38
#####################################
mkdir /test_dir_0038 0o777
Tau
EEXIST

chdir /test_dir_0038
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f1.txt/ -100
Tau
EINVAL

dump-result /test_dir_0038
   /test_dir_0038|D|4596344
   /test_dir_0038/empty_dir1|D|4596345
   /test_dir_0038/empty_dir2|D|4596346
   /test_dir_0038/nonempty_dir1|D|4722462
   /test_dir_0038/nonempty_dir1/f1.txt|F|4722463|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0038/nonempty_dir1/d2|D|4722464
   /test_dir_0038/nonempty_dir1/d2/f3.txt|F|4722465|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0038/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0038/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0038/nonempty_dir1/d2/d3|D|4722466
   /test_dir_0038/nonempty_dir2|D|4722467
   /test_dir_0038/nonempty_dir2/f1.txt|F|4722468|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0038/nonempty_dir2/f2.txt|F|4722469|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0038/nonempty_dir2/d2|D|4722470
   /test_dir_0038/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0038/nonempty_dir2/d2/d3|D|4722471
end dump-result


#####################################
# Test 39
#####################################
mkdir /test_dir_0039 0o777
Tau
EEXIST

chdir /test_dir_0039
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt -100
Tau
EINVAL

dump-result /test_dir_0039
   /test_dir_0039|D|4722477
   /test_dir_0039/empty_dir1|D|4866620
   /test_dir_0039/empty_dir2|D|4866621
   /test_dir_0039/nonempty_dir1|D|4866622
   /test_dir_0039/nonempty_dir1/f1.txt|F|4866623|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0039/nonempty_dir1/d2|D|4866624
   /test_dir_0039/nonempty_dir1/d2/f3.txt|F|4866625|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0039/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0039/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0039/nonempty_dir1/d2/d3|D|4866626
   /test_dir_0039/nonempty_dir2|D|4866627
   /test_dir_0039/nonempty_dir2/f1.txt|F|4866628|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0039/nonempty_dir2/f2.txt|F|4866629|1000|399f5ffef7a3ffbb2de9b4a80f09cb13f6d2a697
   /test_dir_0039/nonempty_dir2/d2|D|4866630
   /test_dir_0039/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0039/nonempty_dir2/d2/d3|D|4982223
end dump-result


#####################################
# Test 40
#####################################
mkdir /test_dir_0040 0o777
Tau
EEXIST

chdir /test_dir_0040
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonempty_dir2/f2.txt/ -100
Tau
EINVAL

dump-result /test_dir_0040
   /test_dir_0040|D|4982396
   /test_dir_0040/empty_dir1|D|4982423
   /test_dir_0040/empty_dir2|D|4982449
   /test_dir_0040/nonempty_dir1|D|4982457
   /test_dir_0040/nonempty_dir1/f1.txt|F|4982460|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0040/nonempty_dir1/d2|D|4982465
   /test_dir_0040/nonempty_dir1/d2/f3.txt|F|4982467|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0040/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0040/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0040/nonempty_dir1/d2/d3|D|4982471
   /test_dir_0040/nonempty_dir2|D|5125899
   /test_dir_0040/nonempty_dir2/f1.txt|F|5125901|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0040/nonempty_dir2/f2.txt|F|5125903|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0040/nonempty_dir2/d2|D|5125905
   /test_dir_0040/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0040/nonempty_dir2/d2/d3|D|5125907
end dump-result


#####################################
# Test 41
#####################################
mkdir /test_dir_0041 0o777
Tau
EEXIST

chdir /test_dir_0041
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1 -100
Tau
EINVAL

dump-result /test_dir_0041
   /test_dir_0041|D|5125911
   /test_dir_0041/empty_dir1|D|5125913
   /test_dir_0041/empty_dir2|D|5125915
   /test_dir_0041/nonempty_dir1|D|5125917
   /test_dir_0041/nonempty_dir1/f1.txt|F|5125919|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0041/nonempty_dir1/d2|D|5251095
   /test_dir_0041/nonempty_dir1/d2/f3.txt|F|5251096|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0041/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0041/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0041/nonempty_dir1/d2/d3|D|5251097
   /test_dir_0041/nonempty_dir2|D|5251098
   /test_dir_0041/nonempty_dir2/f1.txt|F|5251099|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0041/nonempty_dir2/f2.txt|F|5251100|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0041/nonempty_dir2/d2|D|5251101
   /test_dir_0041/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0041/nonempty_dir2/d2/d3|D|5251102
end dump-result


#####################################
# Test 42
#####################################
mkdir /test_dir_0042 0o777
Tau
EEXIST

chdir /test_dir_0042
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_1/ -100
Tau
EINVAL

dump-result /test_dir_0042
   /test_dir_0042|D|5251107
   /test_dir_0042/empty_dir1|D|5251108
   /test_dir_0042/empty_dir2|D|5382331
   /test_dir_0042/nonempty_dir1|D|5382333
   /test_dir_0042/nonempty_dir1/f1.txt|F|5382335|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0042/nonempty_dir1/d2|D|5382337
   /test_dir_0042/nonempty_dir1/d2/f3.txt|F|5382339|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0042/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0042/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0042/nonempty_dir1/d2/d3|D|5382341
   /test_dir_0042/nonempty_dir2|D|5382343
   /test_dir_0042/nonempty_dir2/f1.txt|F|5382345|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0042/nonempty_dir2/f2.txt|F|5382347|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0042/nonempty_dir2/d2|D|5382349
   /test_dir_0042/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0042/nonempty_dir2/d2/d3|D|5512051
end dump-result


#####################################
# Test 43
#####################################
mkdir /test_dir_0043 0o777
Tau
EEXIST

chdir /test_dir_0043
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2 -100
Tau
EINVAL

dump-result /test_dir_0043
   /test_dir_0043|D|5512052
   /test_dir_0043/empty_dir1|D|5512053
   /test_dir_0043/empty_dir2|D|5512054
   /test_dir_0043/nonempty_dir1|D|5512055
   /test_dir_0043/nonempty_dir1/f1.txt|F|5512056|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0043/nonempty_dir1/d2|D|5512057
   /test_dir_0043/nonempty_dir1/d2/f3.txt|F|5512058|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0043/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0043/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0043/nonempty_dir1/d2/d3|D|5643037
   /test_dir_0043/nonempty_dir2|D|5643038
   /test_dir_0043/nonempty_dir2/f1.txt|F|5643039|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0043/nonempty_dir2/f2.txt|F|5643040|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0043/nonempty_dir2/d2|D|5643041
   /test_dir_0043/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0043/nonempty_dir2/d2/d3|D|5643042
end dump-result


#####################################
# Test 44
#####################################
mkdir /test_dir_0044 0o777
Tau
EEXIST

chdir /test_dir_0044
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_2/ -100
Tau
EINVAL

dump-result /test_dir_0044
   /test_dir_0044|D|5643044
   /test_dir_0044/empty_dir1|D|5643045
   /test_dir_0044/empty_dir2|D|5643046
   /test_dir_0044/nonempty_dir1|D|5776794
   /test_dir_0044/nonempty_dir1/f1.txt|F|5776795|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0044/nonempty_dir1/d2|D|5776796
   /test_dir_0044/nonempty_dir1/d2/f3.txt|F|5776797|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0044/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0044/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0044/nonempty_dir1/d2/d3|D|5776798
   /test_dir_0044/nonempty_dir2|D|5776799
   /test_dir_0044/nonempty_dir2/f1.txt|F|5776800|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0044/nonempty_dir2/f2.txt|F|5776801|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0044/nonempty_dir2/d2|D|5776802
   /test_dir_0044/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0044/nonempty_dir2/d2/d3|D|5776803
end dump-result


#####################################
# Test 45
#####################################
mkdir /test_dir_0045 0o777
Tau
EEXIST

chdir /test_dir_0045
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3 -100
Tau
EINVAL

dump-result /test_dir_0045
   /test_dir_0045|D|5776809
   /test_dir_0045/empty_dir1|D|5908822
   /test_dir_0045/empty_dir2|D|5908823
   /test_dir_0045/nonempty_dir1|D|5908824
   /test_dir_0045/nonempty_dir1/f1.txt|F|5908825|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0045/nonempty_dir1/d2|D|5908826
   /test_dir_0045/nonempty_dir1/d2/f3.txt|F|5908827|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0045/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0045/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0045/nonempty_dir1/d2/d3|D|5908828
   /test_dir_0045/nonempty_dir2|D|5908829
   /test_dir_0045/nonempty_dir2/f1.txt|F|5908830|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0045/nonempty_dir2/f2.txt|F|5908831|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0045/nonempty_dir2/d2|D|5908832
   /test_dir_0045/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0045/nonempty_dir2/d2/d3|D|137635
end dump-result


#####################################
# Test 46
#####################################
mkdir /test_dir_0046 0o777
Tau
EEXIST

chdir /test_dir_0046
Tau
RV_none

mkdir empty_dir1 0o777
Tau
EEXIST

mkdir empty_dir2 0o777
Tau
EEXIST

mkdir nonempty_dir1 0o777
Tau
EEXIST

open_close nonempty_dir1/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

mkdir nonempty_dir1/d2 0o777
Tau
EEXIST

open nonempty_dir1/d2/f3.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor inc" 83
Tau
RV_num(83)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir1/d2/d3 0o777
Tau
EEXIST

mkdir nonempty_dir2 0o777
Tau
EEXIST

open_close nonempty_dir2/f1.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_none

open nonempty_dir2/f2.txt [O_CREAT;O_WRONLY] 0o666
Tau
RV_num(3)

write! (FD 3) "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exer" 167
Tau
RV_num(167)

close (FD 3)
Tau
RV_none

mkdir nonempty_dir2/d2 0o777
Tau
EEXIST

mkdir nonempty_dir2/d2/d3 0o777
Tau
EEXIST

symlink f1.txt nonempty_dir1/sl_f1.txt
Tau
EEXIST

symlink ../f1.txt nonempty_dir1/d2/sl_dotdot_f1.txt
Tau
EEXIST

symlink no_such_target nonempty_dir1/d2/sl_no_such_target
Tau
EEXIST

symlink ../d2 nonempty_dir1/d2/sl_dotdot_d2
Tau
EEXIST

symlink ../../nonempty_dir1/d2/f3.txt nonempty_dir2/d2/sl_f3.txt
Tau
EEXIST

truncate nonexist_dir/nonexist_3/ -100
Tau
EINVAL

dump-result /test_dir_0046
   /test_dir_0046|D|137636
   /test_dir_0046/empty_dir1|D|137637
   /test_dir_0046/empty_dir2|D|137638
   /test_dir_0046/nonempty_dir1|D|137639
   /test_dir_0046/nonempty_dir1/f1.txt|F|137640|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir1/sl_f1.txt|L|f1.txt
   /test_dir_0046/nonempty_dir1/d2|D|137641
   /test_dir_0046/nonempty_dir1/d2/f3.txt|F|137642|83|4b535f836f6006423fc132a59e78dfcc4fe6292f
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_d2|L|../d2
   /test_dir_0046/nonempty_dir1/d2/sl_dotdot_f1.txt|L|../f1.txt
   /test_dir_0046/nonempty_dir1/d2/sl_no_such_target|L|no_such_target
   /test_dir_0046/nonempty_dir1/d2/d3|D|137643
   /test_dir_0046/nonempty_dir2|D|2233923
   /test_dir_0046/nonempty_dir2/f1.txt|F|2233924|0|da39a3ee5e6b4b0d3255bfef95601890afd80709
   /test_dir_0046/nonempty_dir2/f2.txt|F|2233925|167|d09f4e47c22373e56c2369633ac3dcb71d598601
   /test_dir_0046/nonempty_dir2/d2|D|2233926
   /test_dir_0046/nonempty_dir2/d2/sl_f3.txt|L|../../nonempty_dir1/d2/f3.txt
   /test_dir_0046/nonempty_dir2/d2/d3|D|2233927
end dump-result


